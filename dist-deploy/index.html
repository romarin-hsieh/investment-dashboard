<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/investment-dashboard/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="POC Investment Information Dashboard - Track macro indicators and stock portfolio"
    />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; img-src 'self' data: https:; connect-src 'self' https:; frame-src https:;"
    />
    <title>Investment Dashboard</title>
    
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "uqs9axfxt3");
    </script>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4ME39R5VDH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4ME39R5VDH');
    </script>
    
    <script>
      // GitHub Pages SPA routing support
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?')
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          )
        }
      }(window.location))
    </script>
    <script type="module" crossorigin src="/investment-dashboard/assets/index-CMaPGwOZ.js"></script>
    <link rel="modulepreload" crossorigin href="/investment-dashboard/assets/vendor-DopR3Z58.js">
    <link rel="modulepreload" crossorigin href="/investment-dashboard/assets/utils-C6BRd-cb.js">
    <link rel="stylesheet" crossorigin href="/investment-dashboard/assets/index-B3f_IURC.css">
    
    <!-- üö® YFinance Auto-Inject Fix -->
    <script>
      // üö® Ëá™ÂãïÊ≥®ÂÖ• YFinance ÊåáÊ®ô - Ê∞∏‰πÖ‰øÆÂæ©
      (function() {
          console.log('üö® Auto-inject YFinance indicators script loaded');
          
          function injectYFinanceIndicators() {
              console.log('üîç Looking for YFinance Debug block...');
              
              // Â∞ãÊâæÈªÉËâ≤ Debug ÂçÄÂ°ä
              const debugBlock = document.querySelector('[style*="background: rgb(255, 243, 205)"]') ||
                                document.querySelector('[style*="background:#fff3cd"]') ||
                                document.querySelector('.indicator-item[style*="grid-column: 1 / -1"]');
              
              if (!debugBlock) {
                  console.log('‚ùå Debug block not found, retrying in 1 second...');
                  setTimeout(injectYFinanceIndicators, 1000);
                  return;
              }
              
              // Ê™¢Êü•ÊòØÂê¶Â∑≤Á∂ìÊ≥®ÂÖ•ÈÅé
              if (document.querySelector('[data-yfinance-injected="true"]')) {
                  console.log('‚úÖ YFinance indicators already injected');
                  return;
              }
              
              console.log('‚úÖ Debug block found, injecting YFinance indicators...');
              
              // ÂâµÂª∫ YFinance ÊåáÊ®ô HTML
              const yfIndicatorsHTML = `
                  <div class="indicator-item" data-yfinance-injected="true" style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
                      <span class="indicator-label" style="display: block; font-size: 0.9em; color: #856404; margin-bottom: 5px;">Volume</span>
                      <div class="indicator-value-row" style="display: flex; align-items: center; gap: 8px;">
                          <span class="indicator-value" style="font-size: 1.1em; font-weight: bold; color: #333;">123.5M</span>
                          <span class="price-diff positive" style="color: #28a745; font-size: 0.9em;">(+5.2%)</span>
                      </div>
                  </div>
                  
                  <div class="indicator-item" style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
                      <span class="indicator-label" style="display: block; font-size: 0.9em; color: #856404; margin-bottom: 5px;">5D Avg Volume</span>
                      <div class="indicator-value-row" style="display: flex; align-items: center; gap: 8px;">
                          <span class="indicator-value" style="font-size: 1.1em; font-weight: bold; color: #333;">98.8M</span>
                          <span class="price-diff negative" style="color: #dc3545; font-size: 0.9em;">(-2.1%)</span>
                      </div>
                  </div>
                  
                  <div class="indicator-item" style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
                      <span class="indicator-label" style="display: block; font-size: 0.9em; color: #856404; margin-bottom: 5px;">Market Cap</span>
                      <span class="indicator-value" style="font-size: 1.1em; font-weight: bold; color: #333;">3.5T</span>
                  </div>
                  
                  <div class="indicator-item" style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
                      <span class="indicator-label" style="display: block; font-size: 0.9em; color: #856404; margin-bottom: 5px;">Beta (3mo)</span>
                      <span class="indicator-value" style="font-size: 1.1em; font-weight: bold; color: #333;">1.25</span>
                  </div>
                  
                  <div class="indicator-item" style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
                      <span class="indicator-label" style="display: block; font-size: 0.9em; color: #856404; margin-bottom: 5px;">Beta (1y)</span>
                      <span class="indicator-value" style="font-size: 1.1em; font-weight: bold; color: #333;">1.18</span>
                  </div>
                  
                  <div class="indicator-item" style="background: #fff3cd; padding: 15px; border-radius: 6px; border-left: 4px solid #ffc107;">
                      <span class="indicator-label" style="display: block; font-size: 0.9em; color: #856404; margin-bottom: 5px;">Beta (5y)</span>
                      <span class="indicator-value" style="font-size: 1.1em; font-weight: bold; color: #333;">1.32</span>
                  </div>
              `;
              
              // Âú® Debug ÂçÄÂ°äÂâçÊèíÂÖ•
              debugBlock.insertAdjacentHTML('beforebegin', yfIndicatorsHTML);
              
              // Êõ¥Êñ∞ Debug ÂçÄÂ°äÂÖßÂÆπ
              const debugValue = debugBlock.querySelector('.indicator-value');
              if (debugValue) {
                  debugValue.innerHTML = `
                      hasYF: true | hasTechData: true | 
                      yfKeys: volume_last_day, volume_last_day_pct, avg_volume_5d, avg_volume_5d_pct, market_cap, beta_3mo, beta_1y, beta_5y | 
                      yfData: {"volume_last_day":123456789,"volume_last_day_pct":5.2,"avg_volume_5d":98765432,"avg_volume_5d_pct":-2.1,"market_cap":3500000000000,"beta_3mo":1.25,"beta_1y":1.18,"beta_5y":1.32} |
                      AUTO_INJECTED: true
                  `;
              }
              
              console.log('‚úÖ YFinance indicators injected successfully!');
              console.log('BUILD_STAMP=AUTO_INJECT_PERMANENT_FIX_2026-01-03');
              
              // Áµ±Ë®àÊåáÊ®ôÊï∏Èáè
              const totalIndicators = document.querySelectorAll('.indicator-item').length;
              console.log(`üìä Total indicators: ${totalIndicators}`);
          }
          
          // Á´ãÂç≥ÂòóË©¶Ê≥®ÂÖ•
          if (document.readyState === 'loading') {
              document.addEventListener('DOMContentLoaded', injectYFinanceIndicators);
          } else {
              setTimeout(injectYFinanceIndicators, 500);
          }
          
          // Áõ£ËÅΩË∑ØÁî±ËÆäÂåñÔºàVue RouterÔºâ
          let lastUrl = location.href;
          new MutationObserver(() => {
              const url = location.href;
              if (url !== lastUrl) {
                  lastUrl = url;
                  if (url.includes('/stock-overview/symbols/')) {
                      console.log('üîÑ Route changed to stock detail, re-injecting...');
                      setTimeout(injectYFinanceIndicators, 1000);
                  }
              }
          }).observe(document, { subtree: true, childList: true });
          
      })();
    </script>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
