# Sample Data Files

This directory contains sample data files for development and testing of the Investment Dashboard POC. These files simulate the data structure that will be generated by GitHub Actions workflows in production.

## Files Overview

### `status.json`
- **Purpose**: System health and job status information
- **Content**: Job execution status, data freshness indicators, system health metrics
- **Update Frequency**: Updated by each GitHub Actions workflow run
- **Requirements**: 1.1, 3.4, 4.1

### `quotes/latest.json`
- **Purpose**: Current stock price data for Universe symbols
- **Content**: Real-time quotes, market state, staleness indicators
- **Update Frequency**: Hourly via GitHub Actions
- **Features**: Last-known-good preservation, error handling
- **Requirements**: 3.4, 4.1

### `daily/YYYY-MM-DD.json`
- **Purpose**: Daily snapshot with news, briefs, and macro data
- **Content**: Chinese language briefs, news articles, macro indicators
- **Update Frequency**: Daily at 07:00 Asia/Taipei
- **Features**: News deduplication, LLM brief generation, fallback handling
- **Requirements**: 1.1, 4.1

### `symbols_metadata.json`
- **Purpose**: Industry classifications and metadata for Universe symbols
- **Content**: Sector/industry grouping, confidence scores, data sources
- **Update Frequency**: Weekly (TTL-based refresh)
- **Features**: Confidence calculation (0.50, 0.75, 0.90), source tracking
- **Requirements**: 1.1, 1.4

## Data Structure Features

### Degradation Handling
- **Stale Markers**: Quality flags indicate data freshness
- **Fallback Content**: Deterministic fallbacks when external sources fail
- **Error Tracking**: Detailed error information for debugging
- **Cache Strategy**: Last-known-good data preservation

### Validation
- **Schema Compliance**: All files follow TypeScript interface definitions
- **Required Fields**: Essential fields always present
- **Enum Validation**: Controlled vocabulary for status fields
- **Data Integrity**: Cross-references between files maintained

### Localization
- **Chinese Briefs**: Stock briefs generated in Traditional Chinese
- **Truncation Handling**: Brief length limits with truncation flags
- **Source Attribution**: Clear indication of content generation method

## Development Usage

### Testing
```bash
# Run data structure tests
npm test tests/data.test.js

# Validate JSON format
node -e "console.log(JSON.parse(require('fs').readFileSync('public/data/status.json', 'utf8')))"
```

### Local Development
- Files served statically during development
- Hot reload supported for data changes
- Mock data provides realistic development experience

### Production Replacement
In production, these sample files will be replaced by:
- GitHub Actions hourly quotes workflow
- GitHub Actions daily snapshot workflow  
- GitHub Actions metadata refresh workflow

## Data Flow

```
GitHub Actions → Generate Data → Commit to Repo → GitHub Pages → Frontend Fetch
```

## Security Considerations

- No sensitive information in sample data
- All URLs use placeholder domains
- No real API keys or credentials
- Safe for public repository hosting