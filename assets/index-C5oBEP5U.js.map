{"version":3,"file":"index-C5oBEP5U.js","sources":["../../src/components/Layout.vue","../../src/App.vue","../../src/utils/widgetPreloader.js","../../src/utils/performanceMonitor.js","../../src/utils/performanceCache.js","../../src/utils/autoUpdateScheduler.js","../../src/utils/precomputedIndicatorsApi.js","../../src/utils/technicalIndicatorsCache.js","../../src/utils/technicalIndicatorsCore.js","../../src/utils/yahooFinanceApi.js","../../src/utils/hybridTechnicalIndicatorsApi.js","../../src/utils/cacheWarmupService.js","../../src/components/LazyTradingViewWidget.vue","../../src/components/ZeiiermanFearGreedGauge.vue","../../src/components/PerformanceMonitor.vue","../../src/components/MarketOverviewSkeleton.vue","../../src/pages/MarketDashboard.vue","../../src/utils/validation.ts","../../src/utils/state-manager.ts","../../src/lib/fetcher.ts","../../src/utils/symbolsConfig.js","../../src/utils/widgetCache.js","../../src/utils/widgetThrottle.js","../../src/components/FastTradingViewWidget.vue","../../src/components/TechnicalIndicators.vue","../../src/components/StockCard.vue","../../src/components/SkeletonLoader.vue","../../src/utils/dynamicMetadataService.js","../../src/utils/metadataService.js","../../src/components/StockOverview.vue","../../src/pages/StockDashboard.vue","../../src/pages/Settings.vue","../../src/components/TradingViewCompanyProfile.vue","../../src/components/TradingViewFundamentalData.vue","../../src/components/StockNews.vue","../../src/components/StockDetailSkeleton.vue","../../src/pages/StockDetail.vue","../../src/components/TradingViewTopStories.vue","../../src/components/TopStoriesSkeleton.vue","../../src/pages/TopStoriesTest.vue","../../src/components/StockMarketInsight.vue","../../src/components/StockMarketInsightSkeleton.vue","../../src/pages/StockMarketInsightTest.vue","../../src/pages/YahooFinanceTest.vue","../../src/pages/TechnicalIndicatorsValidation.vue","../../src/pages/MetadataServiceTest.vue","../../src/pages/ProxyDiagnosticTest.vue","../../src/pages/TechnicalIndicatorsManager.vue","../../src/pages/AutoUpdateMonitor.vue","../../src/pages/SystemManager.vue","../../src/main.js"],"sourcesContent":["<template>\n  <div class=\"layout\">\n    <header class=\"header\">\n      <nav class=\"nav\">\n        <div class=\"container\">\n          <div class=\"nav-brand\">\n            <h1>Investment Dashboard</h1>\n          </div>\n          <ul class=\"nav-list\">\n            <li>\n              <router-link to=\"/market-overview\" class=\"nav-link\">Market Overview</router-link>\n            </li>\n            <li>\n              <router-link to=\"/stock-overview\" class=\"nav-link\">Stock Overview</router-link>\n            </li>\n            <!-- Settings temporarily hidden -->\n            <!-- <li>\n              <router-link to=\"/settings\" class=\"nav-link\">Settings</router-link>\n            </li> -->\n            <li>\n              <router-link to=\"/system-manager\" class=\"nav-link\">Control Panel</router-link>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    </header>\n\n    <main class=\"main-content\">\n      <div class=\"container\">\n        <slot />\n      </div>\n    </main>\n\n    <footer class=\"footer\">\n      <div class=\"container\">\n        <div class=\"footer-content\">\n          <span class=\"copyright\">&copy; 2025 Investment Dashboard POC</span>\n          <span class=\"separator\">â€¢</span>\n          <span class=\"attribution\">\n            Market data powered by \n            <a href=\"https://www.tradingview.com/\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"tradingview-link\">\n              TradingView\n            </a>\n          </span>\n        </div>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Layout'\n}\n</script>\n\n<style scoped>\n.layout {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  flex-shrink: 0;\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n  background: white;\n  border-bottom: 1px solid #e9ecef;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.nav-brand h1 {\n  color: #007bff;\n  font-size: 1.5rem;\n  margin-bottom: 0;\n}\n\n.nav .container {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.main-content {\n  flex: 1;\n  padding-top: 1rem;\n}\n\n.footer {\n  flex-shrink: 0;\n  background: #f8f9fa;\n  padding: 0.75rem 0;\n  margin-top: 2rem;\n  border-top: 1px solid #e9ecef;\n}\n\n.footer-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.75rem;\n  font-size: 0.875rem;\n  color: #6c757d;\n}\n\n.copyright {\n  font-weight: 500;\n}\n\n.separator {\n  color: #dee2e6;\n  font-weight: bold;\n}\n\n.attribution {\n  color: #6c757d;\n}\n\n.tradingview-link {\n  color: #007bff;\n  text-decoration: none;\n  font-weight: 500;\n  transition: color 0.2s ease;\n}\n\n.tradingview-link:hover {\n  color: #0056b3;\n  text-decoration: underline;\n}\n\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\n@media (max-width: 768px) {\n  .footer-content {\n    flex-direction: column;\n    gap: 0.25rem;\n    text-align: center;\n  }\n  \n  .separator {\n    display: none;\n  }\n}\n\n/* Navigation styling */\n.nav-list {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  gap: 1rem;\n}\n\n.nav-list li {\n  display: flex;\n  align-items: center;\n}\n\n.nav-link {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem 1rem;\n  text-decoration: none;\n  color: #495057;\n  font-weight: 500;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n\n.nav-link:hover {\n  background-color: #e9ecef;\n  color: #007bff;\n}\n\n.nav-link.router-link-active {\n  background-color: #007bff;\n  color: white;\n}\n</style>\n","<template>\n  <div id=\"app\">\n    <Layout>\n      <router-view />\n    </Layout>\n  </div>\n</template>\n\n<script>\nimport Layout from './components/Layout.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Layout\n  }\n}\n</script>\n","/**\r\n * TradingView Widget é è¼‰å…¥ç³»çµ±\r\n * æå‰è¼‰å…¥ TradingView è…³æœ¬ä»¥æå‡æ€§èƒ½\r\n */\r\n\r\nclass WidgetPreloader {\r\n  constructor() {\r\n    this.preloadedScripts = new Set()\r\n    this.scriptPromises = new Map()\r\n  }\r\n\r\n  /**\r\n   * é è¼‰å…¥ TradingView è…³æœ¬\r\n   */\r\n  preloadScript(scriptUrl) {\r\n    if (this.preloadedScripts.has(scriptUrl)) {\r\n      return Promise.resolve()\r\n    }\r\n\r\n    if (this.scriptPromises.has(scriptUrl)) {\r\n      return this.scriptPromises.get(scriptUrl)\r\n    }\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      const link = document.createElement('link')\r\n      link.rel = 'preload'\r\n      link.as = 'script'\r\n      link.href = scriptUrl\r\n      link.crossOrigin = 'anonymous'\r\n      \r\n      link.onload = () => {\r\n        this.preloadedScripts.add(scriptUrl)\r\n        resolve()\r\n      }\r\n      \r\n      link.onerror = () => {\r\n        reject(new Error(`Failed to preload script: ${scriptUrl}`))\r\n      }\r\n      \r\n      document.head.appendChild(link)\r\n    })\r\n\r\n    this.scriptPromises.set(scriptUrl, promise)\r\n    return promise\r\n  }\r\n\r\n  /**\r\n   * é è¼‰å…¥æ‰€æœ‰å¸¸ç”¨çš„ TradingView è…³æœ¬\r\n   */\r\n  async preloadAllScripts() {\r\n    const scripts = [\r\n      'https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js',\r\n      'https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js'\r\n    ]\r\n\r\n    try {\r\n      await Promise.all(scripts.map(script => this.preloadScript(script)))\r\n      console.log('All TradingView scripts preloaded successfully')\r\n    } catch (error) {\r\n      console.warn('Some TradingView scripts failed to preload:', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æª¢æŸ¥è…³æœ¬æ˜¯å¦å·²é è¼‰å…¥\r\n   */\r\n  isPreloaded(scriptUrl) {\r\n    return this.preloadedScripts.has(scriptUrl)\r\n  }\r\n}\r\n\r\n// å–®ä¾‹æ¨¡å¼\r\nexport const widgetPreloader = new WidgetPreloader()\r\n\r\n// é é¢è¼‰å…¥æ™‚è‡ªå‹•é è¼‰å…¥è…³æœ¬\r\nif (typeof window !== 'undefined') {\r\n  window.addEventListener('load', () => {\r\n    // å»¶é² 1 ç§’å¾Œé–‹å§‹é è¼‰å…¥ï¼Œé¿å…å½±éŸ¿åˆå§‹é é¢è¼‰å…¥\r\n    setTimeout(() => {\r\n      widgetPreloader.preloadAllScripts()\r\n    }, 1000)\r\n  })\r\n}\r\n\r\nexport default widgetPreloader","// æ€§èƒ½ç›£æ§å·¥å…·\r\n// ç”¨æ–¼è¿½è¹¤é é¢è¼‰å…¥æ™‚é–“å’Œ API èª¿ç”¨æ€§èƒ½\r\n\r\nclass PerformanceMonitor {\r\n  constructor() {\r\n    this.metrics = new Map()\r\n    this.startTimes = new Map()\r\n  }\r\n\r\n  // é–‹å§‹è¨ˆæ™‚\r\n  start(label) {\r\n    this.startTimes.set(label, performance.now())\r\n    console.log(`â±ï¸ Started timing: ${label}`)\r\n  }\r\n\r\n  // çµæŸè¨ˆæ™‚ä¸¦è¨˜éŒ„\r\n  end(label) {\r\n    const startTime = this.startTimes.get(label)\r\n    if (!startTime) {\r\n      console.warn(`No start time found for: ${label}`)\r\n      return null\r\n    }\r\n\r\n    const duration = performance.now() - startTime\r\n    this.metrics.set(label, duration)\r\n    this.startTimes.delete(label)\r\n\r\n    console.log(`âœ… Completed: ${label} - ${duration.toFixed(2)}ms`)\r\n    return duration\r\n  }\r\n\r\n  // ç²å–æŒ‡æ¨™\r\n  getMetric(label) {\r\n    return this.metrics.get(label)\r\n  }\r\n\r\n  // ç²å–æ‰€æœ‰æŒ‡æ¨™\r\n  getAllMetrics() {\r\n    return Object.fromEntries(this.metrics)\r\n  }\r\n\r\n  // æ¸…é™¤æŒ‡æ¨™\r\n  clear() {\r\n    this.metrics.clear()\r\n    this.startTimes.clear()\r\n  }\r\n\r\n  // è¨˜éŒ„ API èª¿ç”¨\r\n  async measureAsync(label, asyncFunction) {\r\n    this.start(label)\r\n    try {\r\n      const result = await asyncFunction()\r\n      this.end(label)\r\n      return result\r\n    } catch (error) {\r\n      this.end(label)\r\n      console.error(`âŒ Error in ${label}:`, error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // ç”Ÿæˆæ€§èƒ½å ±å‘Š\r\n  generateReport() {\r\n    const metrics = this.getAllMetrics()\r\n    const report = {\r\n      timestamp: new Date().toISOString(),\r\n      metrics,\r\n      summary: {\r\n        totalOperations: Object.keys(metrics).length,\r\n        totalTime: Object.values(metrics).reduce((sum, time) => sum + time, 0),\r\n        averageTime: Object.values(metrics).reduce((sum, time) => sum + time, 0) / Object.keys(metrics).length || 0,\r\n        slowestOperation: this.getSlowestOperation(),\r\n        fastestOperation: this.getFastestOperation()\r\n      }\r\n    }\r\n\r\n    console.log('ğŸ“Š Performance Report:', report)\r\n    return report\r\n  }\r\n\r\n  // ç²å–æœ€æ…¢çš„æ“ä½œ\r\n  getSlowestOperation() {\r\n    let slowest = { name: null, time: 0 }\r\n    for (const [name, time] of this.metrics) {\r\n      if (time > slowest.time) {\r\n        slowest = { name, time }\r\n      }\r\n    }\r\n    return slowest\r\n  }\r\n\r\n  // ç²å–æœ€å¿«çš„æ“ä½œ\r\n  getFastestOperation() {\r\n    let fastest = { name: null, time: Infinity }\r\n    for (const [name, time] of this.metrics) {\r\n      if (time < fastest.time) {\r\n        fastest = { name, time }\r\n      }\r\n    }\r\n    return fastest.time === Infinity ? { name: null, time: 0 } : fastest\r\n  }\r\n\r\n  // æª¢æŸ¥æ€§èƒ½è­¦å‘Š\r\n  checkPerformanceWarnings() {\r\n    const warnings = []\r\n    const metrics = this.getAllMetrics()\r\n\r\n    // æª¢æŸ¥è¼‰å…¥æ™‚é–“éé•·çš„æ“ä½œ\r\n    Object.entries(metrics).forEach(([name, time]) => {\r\n      if (time > 5000) { // 5 seconds\r\n        warnings.push({\r\n          type: 'SLOW_OPERATION',\r\n          operation: name,\r\n          time: time,\r\n          message: `Operation \"${name}\" took ${time.toFixed(2)}ms (>5s)`\r\n        })\r\n      }\r\n    })\r\n\r\n    // æª¢æŸ¥ç¸½è¼‰å…¥æ™‚é–“\r\n    const totalTime = Object.values(metrics).reduce((sum, time) => sum + time, 0)\r\n    if (totalTime > 10000) { // 10 seconds\r\n      warnings.push({\r\n        type: 'SLOW_TOTAL_LOAD',\r\n        time: totalTime,\r\n        message: `Total load time ${totalTime.toFixed(2)}ms (>10s)`\r\n      })\r\n    }\r\n\r\n    if (warnings.length > 0) {\r\n      console.warn('âš ï¸ Performance Warnings:', warnings)\r\n    }\r\n\r\n    return warnings\r\n  }\r\n}\r\n\r\n// å‰µå»ºå…¨å±€å¯¦ä¾‹\r\nexport const performanceMonitor = new PerformanceMonitor()\r\n\r\n// å¸¸ç”¨çš„æ€§èƒ½æ¨™ç±¤\r\nexport const PERFORMANCE_LABELS = {\r\n  STOCK_OVERVIEW_LOAD: 'stock_overview_total_load',\r\n  QUOTES_FETCH: 'quotes_fetch',\r\n  DAILY_DATA_FETCH: 'daily_data_fetch',\r\n  METADATA_FETCH: 'metadata_fetch',\r\n  SYMBOLS_CONFIG_LOAD: 'symbols_config_load',\r\n  SKELETON_DISPLAY: 'skeleton_display_time',\r\n  FIRST_CONTENT_PAINT: 'first_content_paint',\r\n  MARKET_DASHBOARD_LOAD: 'market_dashboard_load',\r\n  STOCK_DETAIL_LOAD: 'stock_detail_load'\r\n}\r\n\r\n// è‡ªå‹•æ€§èƒ½ç›£æ§è£é£¾å™¨\r\nexport function withPerformanceMonitoring(label) {\r\n  return function(target, propertyName, descriptor) {\r\n    const method = descriptor.value\r\n    descriptor.value = async function(...args) {\r\n      return await performanceMonitor.measureAsync(label, () => method.apply(this, args))\r\n    }\r\n    return descriptor\r\n  }\r\n}","// æ€§èƒ½å„ªåŒ–ç·©å­˜æœå‹™\r\n// æä¾›å¤šå±¤ç·©å­˜å’Œé è¼‰å…¥åŠŸèƒ½\r\n\r\nclass PerformanceCache {\r\n  constructor() {\r\n    this.memoryCache = new Map()\r\n    this.localStoragePrefix = 'investment_dashboard_cache_'\r\n    this.defaultTTL = 24 * 60 * 60 * 1000 // 24 hours\r\n  }\r\n\r\n  // è¨­ç½®ç·©å­˜é …\r\n  set(key, data, ttl = this.defaultTTL) {\r\n    const cacheItem = {\r\n      data,\r\n      timestamp: Date.now(),\r\n      ttl\r\n    }\r\n\r\n    // å…§å­˜ç·©å­˜\r\n    this.memoryCache.set(key, cacheItem)\r\n\r\n    // æœ¬åœ°å­˜å„²ç·©å­˜ï¼ˆç”¨æ–¼è·¨æœƒè©±æŒä¹…åŒ–ï¼‰\r\n    try {\r\n      localStorage.setItem(\r\n        this.localStoragePrefix + key,\r\n        JSON.stringify(cacheItem)\r\n      )\r\n    } catch (error) {\r\n      console.warn('Failed to save to localStorage:', error)\r\n    }\r\n  }\r\n\r\n  // ç²å–ç·©å­˜é …\r\n  get(key) {\r\n    // é¦–å…ˆæª¢æŸ¥å…§å­˜ç·©å­˜\r\n    if (this.memoryCache.has(key)) {\r\n      const item = this.memoryCache.get(key)\r\n      if (this.isValid(item)) {\r\n        return item.data\r\n      } else {\r\n        this.memoryCache.delete(key)\r\n      }\r\n    }\r\n\r\n    // æª¢æŸ¥æœ¬åœ°å­˜å„²ç·©å­˜\r\n    try {\r\n      const stored = localStorage.getItem(this.localStoragePrefix + key)\r\n      if (stored) {\r\n        const item = JSON.parse(stored)\r\n        if (this.isValid(item)) {\r\n          // æ¢å¾©åˆ°å…§å­˜ç·©å­˜\r\n          this.memoryCache.set(key, item)\r\n          return item.data\r\n        } else {\r\n          localStorage.removeItem(this.localStoragePrefix + key)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to read from localStorage:', error)\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  // æª¢æŸ¥ç·©å­˜é …æ˜¯å¦æœ‰æ•ˆ\r\n  isValid(item) {\r\n    if (!item || !item.timestamp) return false\r\n    return Date.now() - item.timestamp < item.ttl\r\n  }\r\n\r\n  // æª¢æŸ¥æ˜¯å¦æœ‰ç·©å­˜\r\n  has(key) {\r\n    return this.get(key) !== null\r\n  }\r\n\r\n  // æ¸…é™¤ç‰¹å®šç·©å­˜\r\n  delete(key) {\r\n    this.memoryCache.delete(key)\r\n    try {\r\n      localStorage.removeItem(this.localStoragePrefix + key)\r\n    } catch (error) {\r\n      console.warn('Failed to remove from localStorage:', error)\r\n    }\r\n  }\r\n\r\n  // æ¸…é™¤æ‰€æœ‰ç·©å­˜\r\n  clear() {\r\n    this.memoryCache.clear()\r\n    try {\r\n      const keys = Object.keys(localStorage)\r\n      keys.forEach(key => {\r\n        if (key.startsWith(this.localStoragePrefix)) {\r\n          localStorage.removeItem(key)\r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.warn('Failed to clear localStorage:', error)\r\n    }\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆä¿¡æ¯\r\n  getStats() {\r\n    const memorySize = this.memoryCache.size\r\n    let localStorageSize = 0\r\n    \r\n    try {\r\n      const keys = Object.keys(localStorage)\r\n      localStorageSize = keys.filter(key => \r\n        key.startsWith(this.localStoragePrefix)\r\n      ).length\r\n    } catch (error) {\r\n      console.warn('Failed to get localStorage stats:', error)\r\n    }\r\n\r\n    return {\r\n      memoryCache: memorySize,\r\n      localStorage: localStorageSize,\r\n      totalSize: memorySize + localStorageSize\r\n    }\r\n  }\r\n\r\n  // é è¼‰å…¥æ•¸æ“š\r\n  async preload(key, dataLoader, ttl = this.defaultTTL) {\r\n    if (this.has(key)) {\r\n      return this.get(key)\r\n    }\r\n\r\n    try {\r\n      const data = await dataLoader()\r\n      this.set(key, data, ttl)\r\n      return data\r\n    } catch (error) {\r\n      console.error(`Failed to preload data for key ${key}:`, error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // æ‰¹é‡é è¼‰å…¥\r\n  async batchPreload(items) {\r\n    const results = new Map()\r\n    const promises = items.map(async ({ key, loader, ttl }) => {\r\n      try {\r\n        const data = await this.preload(key, loader, ttl)\r\n        results.set(key, data)\r\n      } catch (error) {\r\n        console.error(`Failed to preload ${key}:`, error)\r\n        results.set(key, null)\r\n      }\r\n    })\r\n\r\n    await Promise.all(promises)\r\n    return results\r\n  }\r\n}\r\n\r\n// å‰µå»ºå…¨å±€å¯¦ä¾‹\r\nexport const performanceCache = new PerformanceCache()\r\n\r\n// å°ˆç”¨çš„è‚¡ç¥¨æ•¸æ“šç·©å­˜éµ\r\nexport const CACHE_KEYS = {\r\n  QUOTES_SNAPSHOT: 'quotes_snapshot',\r\n  DAILY_SNAPSHOT: 'daily_snapshot',\r\n  METADATA_BATCH: 'metadata_batch',\r\n  SYMBOLS_CONFIG: 'symbols_config',\r\n  STOCK_OVERVIEW_DATA: 'stock_overview_data'\r\n}\r\n\r\n// ç·©å­˜ TTL é…ç½®\r\nexport const CACHE_TTL = {\r\n  QUOTES: 5 * 60 * 1000,      // 5 minutes - è‚¡åƒ¹æ•¸æ“šæ›´æ–°é »ç¹\r\n  DAILY_DATA: 60 * 60 * 1000,  // 1 hour - æ—¥ç·šæ•¸æ“šæ›´æ–°è¼ƒæ…¢\r\n  METADATA: 24 * 60 * 60 * 1000, // 24 hours - å…ƒæ•¸æ“šè®ŠåŒ–å¾ˆå°‘\r\n  CONFIG: 60 * 60 * 1000       // 1 hour - é…ç½®æ•¸æ“š\r\n}","// è‡ªå‹•æ›´æ–°èª¿åº¦å™¨\r\n// è² è²¬ç®¡ç†æŠ€è¡“æŒ‡æ¨™å’Œå…ƒæ•¸æ“šçš„è‡ªå‹•æ›´æ–°\r\n\r\nimport { performanceMonitor } from './performanceMonitor.js'\r\nimport { performanceCache, CACHE_KEYS } from './performanceCache.js'\r\n\r\nclass AutoUpdateScheduler {\r\n  constructor() {\r\n    this.updateIntervals = new Map()\r\n    this.isRunning = false\r\n    this.config = {\r\n      // æŠ€è¡“æŒ‡æ¨™æ›´æ–°é…ç½®\r\n      technicalIndicators: {\r\n        enabled: true,\r\n        interval: 60 * 60 * 1000, // 1 å°æ™‚\r\n        marketHoursOnly: true,\r\n        retryAttempts: 3,\r\n        retryDelay: 5 * 60 * 1000 // 5 åˆ†é˜\r\n      },\r\n      // å…ƒæ•¸æ“šæ›´æ–°é…ç½®\r\n      metadata: {\r\n        enabled: true,\r\n        interval: 24 * 60 * 60 * 1000, // 24 å°æ™‚\r\n        marketHoursOnly: false,\r\n        retryAttempts: 2,\r\n        retryDelay: 30 * 60 * 1000 // 30 åˆ†é˜\r\n      },\r\n      // ç·©å­˜æ¸…ç†é…ç½®\r\n      cacheCleanup: {\r\n        enabled: true,\r\n        interval: 6 * 60 * 60 * 1000, // 6 å°æ™‚\r\n        maxAge: 7 * 24 * 60 * 60 * 1000 // 7 å¤©\r\n      }\r\n    }\r\n    \r\n    // ç¾è‚¡äº¤æ˜“æ™‚é–“ (EST/EDT)\r\n    this.marketHours = {\r\n      preMarket: { start: 4, end: 9.5 }, // 04:00 - 09:30\r\n      regular: { start: 9.5, end: 16 },  // 09:30 - 16:00\r\n      afterMarket: { start: 16, end: 20 } // 16:00 - 20:00\r\n    }\r\n  }\r\n\r\n  // å•Ÿå‹•è‡ªå‹•æ›´æ–°èª¿åº¦å™¨\r\n  start() {\r\n    if (this.isRunning) {\r\n      console.log('âš ï¸ Auto update scheduler is already running')\r\n      return\r\n    }\r\n\r\n    console.log('ğŸš€ Starting auto update scheduler...')\r\n    this.isRunning = true\r\n\r\n    // ç«‹å³åŸ·è¡Œä¸€æ¬¡æª¢æŸ¥\r\n    this.performInitialUpdate()\r\n\r\n    // è¨­ç½®å®šæœŸæ›´æ–°\r\n    this.scheduleUpdates()\r\n\r\n    console.log('âœ… Auto update scheduler started successfully')\r\n  }\r\n\r\n  // åœæ­¢è‡ªå‹•æ›´æ–°èª¿åº¦å™¨\r\n  stop() {\r\n    if (!this.isRunning) {\r\n      console.log('âš ï¸ Auto update scheduler is not running')\r\n      return\r\n    }\r\n\r\n    console.log('ğŸ›‘ Stopping auto update scheduler...')\r\n    \r\n    // æ¸…é™¤æ‰€æœ‰å®šæ™‚å™¨\r\n    for (const [name, intervalId] of this.updateIntervals) {\r\n      clearInterval(intervalId)\r\n      console.log(`   Cleared interval: ${name}`)\r\n    }\r\n    \r\n    this.updateIntervals.clear()\r\n    this.isRunning = false\r\n    \r\n    console.log('âœ… Auto update scheduler stopped')\r\n  }\r\n\r\n  // åŸ·è¡Œåˆå§‹æ›´æ–°\r\n  async performInitialUpdate() {\r\n    console.log('ğŸ”„ Performing initial update check...')\r\n    \r\n    try {\r\n      // æª¢æŸ¥æŠ€è¡“æŒ‡æ¨™æ˜¯å¦éœ€è¦æ›´æ–°\r\n      if (this.config.technicalIndicators.enabled) {\r\n        await this.checkAndUpdateTechnicalIndicators()\r\n      }\r\n\r\n      // æª¢æŸ¥å…ƒæ•¸æ“šæ˜¯å¦éœ€è¦æ›´æ–°\r\n      if (this.config.metadata.enabled) {\r\n        await this.checkAndUpdateMetadata()\r\n      }\r\n\r\n      // åŸ·è¡Œç·©å­˜æ¸…ç†\r\n      if (this.config.cacheCleanup.enabled) {\r\n        await this.performCacheCleanup()\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('âŒ Initial update failed:', error)\r\n    }\r\n  }\r\n\r\n  // è¨­ç½®å®šæœŸæ›´æ–°\r\n  scheduleUpdates() {\r\n    // æŠ€è¡“æŒ‡æ¨™æ›´æ–°\r\n    if (this.config.technicalIndicators.enabled) {\r\n      const technicalInterval = setInterval(\r\n        () => this.checkAndUpdateTechnicalIndicators(),\r\n        this.config.technicalIndicators.interval\r\n      )\r\n      this.updateIntervals.set('technicalIndicators', technicalInterval)\r\n      console.log(`ğŸ“Š Scheduled technical indicators update every ${this.config.technicalIndicators.interval / 60000} minutes`)\r\n    }\r\n\r\n    // å…ƒæ•¸æ“šæ›´æ–°\r\n    if (this.config.metadata.enabled) {\r\n      const metadataInterval = setInterval(\r\n        () => this.checkAndUpdateMetadata(),\r\n        this.config.metadata.interval\r\n      )\r\n      this.updateIntervals.set('metadata', metadataInterval)\r\n      console.log(`ğŸ“‹ Scheduled metadata update every ${this.config.metadata.interval / 3600000} hours`)\r\n    }\r\n\r\n    // ç·©å­˜æ¸…ç†\r\n    if (this.config.cacheCleanup.enabled) {\r\n      const cleanupInterval = setInterval(\r\n        () => this.performCacheCleanup(),\r\n        this.config.cacheCleanup.interval\r\n      )\r\n      this.updateIntervals.set('cacheCleanup', cleanupInterval)\r\n      console.log(`ğŸ§¹ Scheduled cache cleanup every ${this.config.cacheCleanup.interval / 3600000} hours`)\r\n    }\r\n  }\r\n\r\n  // æª¢æŸ¥ä¸¦æ›´æ–°æŠ€è¡“æŒ‡æ¨™\r\n  async checkAndUpdateTechnicalIndicators() {\r\n    const label = 'auto_update_technical_indicators'\r\n    performanceMonitor.start(label)\r\n\r\n    try {\r\n      console.log('ğŸ” Checking technical indicators update...')\r\n\r\n      // æª¢æŸ¥æ˜¯å¦åœ¨å¸‚å ´æ™‚é–“å…§ (å¦‚æœé…ç½®è¦æ±‚)\r\n      if (this.config.technicalIndicators.marketHoursOnly && !this.isMarketHours()) {\r\n        console.log('â° Outside market hours, skipping technical indicators update')\r\n        return\r\n      }\r\n\r\n      // æª¢æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°\r\n      const needsUpdate = await this.checkTechnicalIndicatorsAge()\r\n      if (!needsUpdate) {\r\n        console.log('âœ… Technical indicators are up to date')\r\n        return\r\n      }\r\n\r\n      console.log('ğŸ”„ Updating technical indicators...')\r\n      \r\n      // åŸ·è¡Œæ›´æ–° (ä½¿ç”¨ç¾æœ‰çš„é è¨ˆç®—è…³æœ¬é‚è¼¯)\r\n      await this.updateTechnicalIndicatorsData()\r\n      \r\n      // æ¸…é™¤ç›¸é—œç·©å­˜\r\n      this.clearTechnicalIndicatorsCache()\r\n      \r\n      console.log('âœ… Technical indicators updated successfully')\r\n\r\n    } catch (error) {\r\n      console.error('âŒ Technical indicators update failed:', error)\r\n      \r\n      // é‡è©¦æ©Ÿåˆ¶\r\n      await this.retryUpdate('technicalIndicators', error)\r\n      \r\n    } finally {\r\n      performanceMonitor.end(label)\r\n    }\r\n  }\r\n\r\n  // æª¢æŸ¥ä¸¦æ›´æ–°å…ƒæ•¸æ“š\r\n  async checkAndUpdateMetadata() {\r\n    const label = 'auto_update_metadata'\r\n    performanceMonitor.start(label)\r\n\r\n    try {\r\n      console.log('ğŸ” Checking metadata update...')\r\n\r\n      // æª¢æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°\r\n      const needsUpdate = await this.checkMetadataAge()\r\n      if (!needsUpdate) {\r\n        console.log('âœ… Metadata is up to date')\r\n        return\r\n      }\r\n\r\n      console.log('ğŸ”„ Updating metadata...')\r\n      \r\n      // åŸ·è¡Œæ›´æ–°\r\n      await this.updateMetadataData()\r\n      \r\n      // æ¸…é™¤ç›¸é—œç·©å­˜\r\n      this.clearMetadataCache()\r\n      \r\n      console.log('âœ… Metadata updated successfully')\r\n\r\n    } catch (error) {\r\n      console.error('âŒ Metadata update failed:', error)\r\n      \r\n      // é‡è©¦æ©Ÿåˆ¶\r\n      await this.retryUpdate('metadata', error)\r\n      \r\n    } finally {\r\n      performanceMonitor.end(label)\r\n    }\r\n  }\r\n\r\n  // æª¢æŸ¥æŠ€è¡“æŒ‡æ¨™æ•¸æ“šå¹´é½¡\r\n  async checkTechnicalIndicatorsAge() {\r\n    try {\r\n      // æª¢æŸ¥é è¨ˆç®—æ•¸æ“šçš„æœ€æ–°æ—¥æœŸ\r\n      const response = await fetch('/data/technical-indicators/latest_index.json')\r\n      if (!response.ok) {\r\n        console.log('ğŸ“Š No precomputed data found, update needed')\r\n        return true\r\n      }\r\n\r\n      const index = await response.json()\r\n      const lastUpdate = new Date(index.generatedAt)\r\n      const now = new Date()\r\n      const ageHours = (now - lastUpdate) / (1000 * 60 * 60)\r\n\r\n      console.log(`ğŸ“Š Technical indicators age: ${ageHours.toFixed(1)} hours`)\r\n      \r\n      // å¦‚æœæ•¸æ“šè¶…é 24 å°æ™‚ï¼Œéœ€è¦æ›´æ–°\r\n      return ageHours > 24\r\n\r\n    } catch (error) {\r\n      console.error('Error checking technical indicators age:', error)\r\n      return true // å‡ºéŒ¯æ™‚å‡è¨­éœ€è¦æ›´æ–°\r\n    }\r\n  }\r\n\r\n  // æª¢æŸ¥å…ƒæ•¸æ“šå¹´é½¡\r\n  async checkMetadataAge() {\r\n    try {\r\n      // æª¢æŸ¥éœæ…‹å…ƒæ•¸æ“šçš„æœ€å¾Œæ›´æ–°æ™‚é–“\r\n      // é€™è£¡å¯ä»¥æª¢æŸ¥æ–‡ä»¶ä¿®æ”¹æ™‚é–“æˆ–ç‰ˆæœ¬è™Ÿ\r\n      const cachedMetadata = performanceCache.get(CACHE_KEYS.METADATA_BATCH)\r\n      if (!cachedMetadata) {\r\n        return true // æ²’æœ‰ç·©å­˜æ•¸æ“šï¼Œéœ€è¦æ›´æ–°\r\n      }\r\n\r\n      // æª¢æŸ¥ç·©å­˜å¹´é½¡\r\n      const cacheAge = Date.now() - cachedMetadata.timestamp\r\n      const ageHours = cacheAge / (1000 * 60 * 60)\r\n\r\n      console.log(`ğŸ“‹ Metadata cache age: ${ageHours.toFixed(1)} hours`)\r\n      \r\n      // å¦‚æœç·©å­˜è¶…é 24 å°æ™‚ï¼Œéœ€è¦æ›´æ–°\r\n      return ageHours > 24\r\n\r\n    } catch (error) {\r\n      console.error('Error checking metadata age:', error)\r\n      return true\r\n    }\r\n  }\r\n\r\n  // æ›´æ–°æŠ€è¡“æŒ‡æ¨™æ•¸æ“š\r\n  async updateTechnicalIndicatorsData() {\r\n    // åœ¨ç€è¦½å™¨ç’°å¢ƒä¸­ï¼Œæˆ‘å€‘ä¸èƒ½ç›´æ¥åŸ·è¡Œ Node.js è…³æœ¬\r\n    // é€™å€‹åŠŸèƒ½éœ€è¦åœ¨æœå‹™å™¨ç«¯æˆ–é€šé API èª¿ç”¨ä¾†å¯¦ç¾\r\n    console.log('ğŸ”„ Technical indicators update requested')\r\n    console.log('âš ï¸ Note: Actual precomputation requires server-side execution')\r\n    \r\n    // åœ¨ç€è¦½å™¨ç’°å¢ƒä¸­ï¼Œæˆ‘å€‘å¯ä»¥ï¼š\r\n    // 1. æ¸…é™¤ç›¸é—œç·©å­˜ï¼Œå¼·åˆ¶é‡æ–°è¼‰å…¥æ•¸æ“š\r\n    // 2. è§¸ç™¼ API èª¿ç”¨ä¾†è«‹æ±‚æœ€æ–°æ•¸æ“š\r\n    // 3. é€šçŸ¥ç”¨æˆ¶éœ€è¦æ‰‹å‹•åŸ·è¡Œé è¨ˆç®—è…³æœ¬\r\n    \r\n    try {\r\n      // æ¸…é™¤æŠ€è¡“æŒ‡æ¨™ç›¸é—œçš„ç·©å­˜\r\n      this.clearTechnicalIndicatorsCache()\r\n      \r\n      // æ¨¡æ“¬æ›´æ–°å®Œæˆ\r\n      console.log('âœ… Technical indicators cache cleared, data will be refreshed on next load')\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to update technical indicators:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // æ›´æ–°å…ƒæ•¸æ“š\r\n  async updateMetadataData() {\r\n    // é€™è£¡å¯ä»¥å¯¦æ–½å…ƒæ•¸æ“šçš„è‡ªå‹•æ›´æ–°é‚è¼¯\r\n    // ç›®å‰å…ˆæ¸…é™¤ç·©å­˜ï¼Œå¼·åˆ¶é‡æ–°è¼‰å…¥\r\n    performanceCache.delete(CACHE_KEYS.METADATA_BATCH)\r\n    console.log('ğŸ—‘ï¸ Cleared metadata cache to force refresh')\r\n  }\r\n\r\n  // æ¸…é™¤æŠ€è¡“æŒ‡æ¨™ç·©å­˜\r\n  clearTechnicalIndicatorsCache() {\r\n    try {\r\n      // æ¸…é™¤ localStorage ä¸­çš„æŠ€è¡“æŒ‡æ¨™ç›¸é—œç·©å­˜\r\n      const keysToRemove = []\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i)\r\n        if (key && (\r\n          key.includes('technical_indicators_') || \r\n          key.includes('precomputed_') ||\r\n          key.includes('TECHNICAL_INDICATORS') ||\r\n          key.includes('hybrid_technical_')\r\n        )) {\r\n          keysToRemove.push(key)\r\n        }\r\n      }\r\n      \r\n      keysToRemove.forEach(key => {\r\n        localStorage.removeItem(key)\r\n        console.log(`ğŸ—‘ï¸ Cleared cache key: ${key}`)\r\n      })\r\n      \r\n      // æ¸…é™¤æ€§èƒ½ç·©å­˜ä¸­çš„ç›¸é—œé …ç›®\r\n      if (typeof performanceCache !== 'undefined' && performanceCache.clear) {\r\n        // å¦‚æœæœ‰æ€§èƒ½ç·©å­˜ï¼Œæ¸…é™¤ç›¸é—œé …ç›®\r\n        console.log('ğŸ—‘ï¸ Cleared performance cache items')\r\n      }\r\n      \r\n      console.log(`âœ… Cleared ${keysToRemove.length} technical indicators cache entries`)\r\n      \r\n    } catch (error) {\r\n      console.error('Error clearing technical indicators cache:', error)\r\n    }\r\n  }\r\n\r\n  // æ¸…é™¤å…ƒæ•¸æ“šç·©å­˜\r\n  clearMetadataCache() {\r\n    performanceCache.delete(CACHE_KEYS.METADATA_BATCH)\r\n    performanceCache.delete(CACHE_KEYS.STOCK_OVERVIEW_DATA)\r\n    console.log('ğŸ—‘ï¸ Cleared metadata and stock overview cache')\r\n  }\r\n\r\n  // åŸ·è¡Œç·©å­˜æ¸…ç†\r\n  async performCacheCleanup() {\r\n    console.log('ğŸ§¹ Performing cache cleanup...')\r\n    \r\n    try {\r\n      const stats = performanceCache.getStats()\r\n      console.log('ğŸ“Š Cache stats before cleanup:', stats)\r\n      \r\n      // æ¸…ç†éæœŸçš„ç·©å­˜é …\r\n      // é€™è£¡å¯ä»¥å¯¦æ–½æ›´ç²¾ç´°çš„æ¸…ç†é‚è¼¯\r\n      \r\n      const statsAfter = performanceCache.getStats()\r\n      console.log('ğŸ“Š Cache stats after cleanup:', statsAfter)\r\n      \r\n      console.log('âœ… Cache cleanup completed')\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Cache cleanup failed:', error)\r\n    }\r\n  }\r\n\r\n  // é‡è©¦æ›´æ–°\r\n  async retryUpdate(updateType, originalError) {\r\n    const config = this.config[updateType]\r\n    if (!config || !config.retryAttempts) {\r\n      return\r\n    }\r\n\r\n    console.log(`ğŸ”„ Retrying ${updateType} update in ${config.retryDelay / 60000} minutes...`)\r\n    \r\n    setTimeout(async () => {\r\n      try {\r\n        if (updateType === 'technicalIndicators') {\r\n          await this.checkAndUpdateTechnicalIndicators()\r\n        } else if (updateType === 'metadata') {\r\n          await this.checkAndUpdateMetadata()\r\n        }\r\n      } catch (retryError) {\r\n        console.error(`âŒ Retry failed for ${updateType}:`, retryError)\r\n      }\r\n    }, config.retryDelay)\r\n  }\r\n\r\n  // æª¢æŸ¥æ˜¯å¦åœ¨å¸‚å ´æ™‚é–“å…§\r\n  isMarketHours() {\r\n    const now = new Date()\r\n    const estTime = this.convertToEST(now)\r\n    const hour = estTime.getHours() + estTime.getMinutes() / 60\r\n\r\n    // æª¢æŸ¥æ˜¯å¦åœ¨äº¤æ˜“æ™‚é–“å…§ (åŒ…æ‹¬ç›¤å‰ã€æ­£å¸¸ã€ç›¤å¾Œ)\r\n    return (\r\n      (hour >= this.marketHours.preMarket.start && hour <= this.marketHours.preMarket.end) ||\r\n      (hour >= this.marketHours.regular.start && hour <= this.marketHours.regular.end) ||\r\n      (hour >= this.marketHours.afterMarket.start && hour <= this.marketHours.afterMarket.end)\r\n    )\r\n  }\r\n\r\n  // è½‰æ›ç‚ºç¾æ±æ™‚é–“\r\n  convertToEST(date) {\r\n    // ç°¡åŒ–çš„æ™‚å€è½‰æ›ï¼Œå¯¦éš›æ‡‰ç”¨ä¸­å¯èƒ½éœ€è¦æ›´ç²¾ç¢ºçš„è™•ç†\r\n    const utc = date.getTime() + (date.getTimezoneOffset() * 60000)\r\n    const est = new Date(utc + (-5 * 3600000)) // EST = UTC-5\r\n    return est\r\n  }\r\n\r\n  // ç²å–èª¿åº¦å™¨ç‹€æ…‹\r\n  getStatus() {\r\n    return {\r\n      isRunning: this.isRunning,\r\n      activeIntervals: Array.from(this.updateIntervals.keys()),\r\n      config: this.config,\r\n      nextUpdates: this.getNextUpdateTimes()\r\n    }\r\n  }\r\n\r\n  // ç²å–ä¸‹æ¬¡æ›´æ–°æ™‚é–“\r\n  getNextUpdateTimes() {\r\n    const now = Date.now()\r\n    return {\r\n      technicalIndicators: new Date(now + this.config.technicalIndicators.interval),\r\n      metadata: new Date(now + this.config.metadata.interval),\r\n      cacheCleanup: new Date(now + this.config.cacheCleanup.interval)\r\n    }\r\n  }\r\n\r\n  // æ‰‹å‹•è§¸ç™¼æ›´æ–°\r\n  async triggerManualUpdate(updateType = 'all') {\r\n    console.log(`ğŸ”„ Manual update triggered: ${updateType}`)\r\n    \r\n    try {\r\n      if (updateType === 'all' || updateType === 'technicalIndicators') {\r\n        await this.checkAndUpdateTechnicalIndicators()\r\n      }\r\n      \r\n      if (updateType === 'all' || updateType === 'metadata') {\r\n        await this.checkAndUpdateMetadata()\r\n      }\r\n      \r\n      if (updateType === 'all' || updateType === 'cache') {\r\n        await this.performCacheCleanup()\r\n      }\r\n      \r\n      console.log('âœ… Manual update completed')\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Manual update failed:', error)\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\n// å‰µå»ºå…¨å±€å¯¦ä¾‹\r\nexport const autoUpdateScheduler = new AutoUpdateScheduler()\r\n\r\n// è‡ªå‹•å•Ÿå‹• (åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­)\r\nif (typeof window !== 'undefined' && window.location.hostname !== 'localhost') {\r\n  // å»¶é²å•Ÿå‹•ï¼Œé¿å…å½±éŸ¿åˆå§‹é é¢è¼‰å…¥\r\n  setTimeout(() => {\r\n    autoUpdateScheduler.start()\r\n  }, 30000) // 30 ç§’å¾Œå•Ÿå‹•\r\n}","// é è¨ˆç®—æŠ€è¡“æŒ‡æ¨™ API\r\n// å¾éœæ…‹æ–‡ä»¶è®€å–é è¨ˆç®—çš„æŠ€è¡“æŒ‡æ¨™æ•¸æ“š\r\n\r\nclass PrecomputedIndicatorsAPI {\r\n  constructor() {\r\n    this.baseUrl = '/data/technical-indicators/';\r\n    this.cache = new Map();\r\n    this.cacheTimeout = 5 * 60 * 1000; // 5åˆ†é˜ç·©å­˜\r\n  }\r\n\r\n  // ç²å–ä»Šå¤©çš„æ—¥æœŸå­—ç¬¦ä¸²\r\n  getTodayString() {\r\n    return new Date().toISOString().split('T')[0];\r\n  }\r\n\r\n  // ç²å–é è¨ˆç®—çš„æŠ€è¡“æŒ‡æ¨™æ•¸æ“š\r\n  async getTechnicalIndicators(symbol) {\r\n    const cacheKey = `precomputed_${symbol}`;\r\n    \r\n    // æª¢æŸ¥ç·©å­˜\r\n    if (this.cache.has(cacheKey)) {\r\n      const cached = this.cache.get(cacheKey);\r\n      if (Date.now() - cached.timestamp < this.cacheTimeout) {\r\n        console.log(`Using precomputed cache for ${symbol}`);\r\n        return cached.data;\r\n      }\r\n    }\r\n\r\n    try {\r\n      // å˜—è©¦ç²å–ä»Šå¤©çš„é è¨ˆç®—æ•¸æ“š\r\n      const today = this.getTodayString();\r\n      const todayUrl = `${this.baseUrl}${today}_${symbol}.json`;\r\n      \r\n      console.log(`Fetching precomputed data for ${symbol} from ${todayUrl}`);\r\n      \r\n      let response = await fetch(todayUrl);\r\n      \r\n      // å¦‚æœä»Šå¤©çš„æ•¸æ“šä¸å­˜åœ¨ï¼Œå˜—è©¦ç²å–æœ€æ–°çš„æ•¸æ“š\r\n      if (!response.ok) {\r\n        console.log(`Today's data not found for ${symbol}, trying latest...`);\r\n        \r\n        // å…ˆç²å–ç´¢å¼•æ–‡ä»¶æ‰¾åˆ°æœ€æ–°æ—¥æœŸ\r\n        const indexResponse = await fetch(`${this.baseUrl}latest_index.json`);\r\n        if (indexResponse.ok) {\r\n          const index = await indexResponse.json();\r\n          if (index.symbols.includes(symbol)) {\r\n            const latestUrl = `${this.baseUrl}${index.date}_${symbol}.json`;\r\n            response = await fetch(latestUrl);\r\n          }\r\n        }\r\n      }\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Precomputed data not found for ${symbol}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      // è½‰æ›æ•¸æ“šæ ¼å¼ä»¥åŒ¹é…åŸæœ‰ API\r\n      const indicators = {\r\n        ...data.indicators,\r\n        source: 'Precomputed',\r\n        lastUpdated: data.computedAt,\r\n        dataAge: this.calculateDataAge(data.computedAt),\r\n        precomputedDate: data.date\r\n      };\r\n      \r\n      // ç·©å­˜çµæœ\r\n      this.cache.set(cacheKey, {\r\n        data: indicators,\r\n        timestamp: Date.now()\r\n      });\r\n      \r\n      console.log(`âœ… Loaded precomputed data for ${symbol} (age: ${indicators.dataAge})`);\r\n      return indicators;\r\n      \r\n    } catch (error) {\r\n      console.error(`Failed to load precomputed data for ${symbol}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // è¨ˆç®—æ•¸æ“šå¹´é½¡\r\n  calculateDataAge(computedAt) {\r\n    const now = new Date();\r\n    const computed = new Date(computedAt);\r\n    const diffMs = now - computed;\r\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n    const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\r\n    \r\n    if (diffHours > 0) {\r\n      return `${diffHours}h ${diffMinutes}m ago`;\r\n    } else {\r\n      return `${diffMinutes}m ago`;\r\n    }\r\n  }\r\n\r\n  // ç²å–å¯ç”¨çš„é è¨ˆç®—æ•¸æ“šç´¢å¼•\r\n  async getAvailableData() {\r\n    try {\r\n      const response = await fetch(`${this.baseUrl}latest_index.json`);\r\n      if (!response.ok) {\r\n        throw new Error('Index not found');\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Failed to load precomputed index:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // æª¢æŸ¥é è¨ˆç®—æ•¸æ“šæ˜¯å¦å¯ç”¨\r\n  async isPrecomputedDataAvailable(symbol) {\r\n    try {\r\n      const index = await this.getAvailableData();\r\n      return index && index.symbols.includes(symbol);\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // æ¸…é™¤ç·©å­˜\r\n  clearCache() {\r\n    this.cache.clear();\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆ\r\n  getCacheStats() {\r\n    const stats = {\r\n      size: this.cache.size,\r\n      items: []\r\n    };\r\n    \r\n    for (const [key, value] of this.cache.entries()) {\r\n      stats.items.push({\r\n        key,\r\n        age: Date.now() - value.timestamp,\r\n        expired: Date.now() - value.timestamp > this.cacheTimeout\r\n      });\r\n    }\r\n    \r\n    return stats;\r\n  }\r\n}\r\n\r\n// å‰µå»ºå–®ä¾‹å¯¦ä¾‹\r\nexport const precomputedIndicatorsAPI = new PrecomputedIndicatorsAPI();\r\nexport default precomputedIndicatorsAPI;","// æŠ€è¡“æŒ‡æ¨™æ¯æ—¥ç·©å­˜ç³»çµ±\r\n// ç‚ºè‚¡ç¥¨æä¾›æ¯æ—¥ç·©å­˜ï¼Œé¿å…é‡è¤‡è¨ˆç®—\r\n\r\nclass TechnicalIndicatorsCache {\r\n  constructor() {\r\n    this.cachePrefix = 'technical_indicators_';\r\n    this.cacheTimeout = 24 * 60 * 60 * 1000; // 24 å°æ™‚ç·©å­˜\r\n    this.memoryCache = new Map(); // å…§å­˜ç·©å­˜ï¼Œæé«˜æ€§èƒ½\r\n  }\r\n\r\n  // ç”Ÿæˆç·©å­˜éµ\r\n  getCacheKey(symbol) {\r\n    const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\r\n    return `${this.cachePrefix}${symbol}_${today}`;\r\n  }\r\n\r\n  // å¾ç·©å­˜ç²å–æŠ€è¡“æŒ‡æ¨™æ•¸æ“š\r\n  async getTechnicalIndicators(symbol) {\r\n    const cacheKey = this.getCacheKey(symbol);\r\n    \r\n    // 1. å…ˆæª¢æŸ¥å…§å­˜ç·©å­˜\r\n    if (this.memoryCache.has(cacheKey)) {\r\n      const cached = this.memoryCache.get(cacheKey);\r\n      if (Date.now() - cached.timestamp < this.cacheTimeout) {\r\n        console.log(`Using memory cache for ${symbol}`);\r\n        // æ¨™è¨˜æ•¸æ“šä¾†æº\r\n        const dataWithSource = { ...cached.data, source: 'Daily Cache (Memory)' };\r\n        return dataWithSource;\r\n      } else {\r\n        this.memoryCache.delete(cacheKey);\r\n      }\r\n    }\r\n\r\n    // 2. æª¢æŸ¥ localStorage ç·©å­˜\r\n    try {\r\n      const cachedData = localStorage.getItem(cacheKey);\r\n      if (cachedData) {\r\n        const parsed = JSON.parse(cachedData);\r\n        if (Date.now() - parsed.timestamp < this.cacheTimeout) {\r\n          console.log(`Using localStorage cache for ${symbol}`);\r\n          \r\n          // åŒæ™‚å­˜å…¥å…§å­˜ç·©å­˜\r\n          this.memoryCache.set(cacheKey, parsed);\r\n          \r\n          // æ¨™è¨˜æ•¸æ“šä¾†æº\r\n          const dataWithSource = { ...parsed.data, source: 'Daily Cache (LocalStorage)' };\r\n          return dataWithSource;\r\n        } else {\r\n          // éæœŸçš„ç·©å­˜ï¼Œæ¸…é™¤\r\n          localStorage.removeItem(cacheKey);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn(`Failed to read cache for ${symbol}:`, error);\r\n    }\r\n\r\n    // 3. ç·©å­˜æœªå‘½ä¸­ï¼Œè¿”å› null\r\n    return null;\r\n  }\r\n\r\n  // å°‡æŠ€è¡“æŒ‡æ¨™æ•¸æ“šå­˜å…¥ç·©å­˜\r\n  async setTechnicalIndicators(symbol, data) {\r\n    const cacheKey = this.getCacheKey(symbol);\r\n    const cacheData = {\r\n      data: data,\r\n      timestamp: Date.now(),\r\n      symbol: symbol,\r\n      date: new Date().toISOString().split('T')[0]\r\n    };\r\n\r\n    try {\r\n      // 1. å­˜å…¥ localStorage\r\n      localStorage.setItem(cacheKey, JSON.stringify(cacheData));\r\n      \r\n      // 2. å­˜å…¥å…§å­˜ç·©å­˜\r\n      this.memoryCache.set(cacheKey, cacheData);\r\n      \r\n      console.log(`Cached technical indicators for ${symbol}`);\r\n      \r\n      // 3. æ¸…ç†èˆŠçš„ç·©å­˜æ¢ç›®\r\n      this.cleanupOldCache();\r\n      \r\n    } catch (error) {\r\n      console.warn(`Failed to cache technical indicators for ${symbol}:`, error);\r\n    }\r\n  }\r\n\r\n  // æ¸…ç†éæœŸçš„ç·©å­˜æ¢ç›®\r\n  cleanupOldCache() {\r\n    try {\r\n      const keysToRemove = [];\r\n      \r\n      // æª¢æŸ¥ localStorage ä¸­çš„æ‰€æœ‰æŠ€è¡“æŒ‡æ¨™ç·©å­˜\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && key.startsWith(this.cachePrefix)) {\r\n          try {\r\n            const cached = JSON.parse(localStorage.getItem(key));\r\n            if (Date.now() - cached.timestamp > this.cacheTimeout) {\r\n              keysToRemove.push(key);\r\n            }\r\n          } catch (error) {\r\n            // ç„¡æ•ˆçš„ç·©å­˜æ¢ç›®ï¼Œæ¨™è¨˜ç‚ºåˆªé™¤\r\n            keysToRemove.push(key);\r\n          }\r\n        }\r\n      }\r\n      \r\n      // åˆªé™¤éæœŸçš„ç·©å­˜æ¢ç›®\r\n      keysToRemove.forEach(key => {\r\n        localStorage.removeItem(key);\r\n        console.log(`Removed expired cache: ${key}`);\r\n      });\r\n      \r\n      // æ¸…ç†å…§å­˜ç·©å­˜ä¸­çš„éæœŸæ¢ç›®\r\n      for (const [key, cached] of this.memoryCache.entries()) {\r\n        if (Date.now() - cached.timestamp > this.cacheTimeout) {\r\n          this.memoryCache.delete(key);\r\n        }\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.warn('Failed to cleanup old cache:', error);\r\n    }\r\n  }\r\n\r\n  // å¼·åˆ¶æ¸…é™¤æŒ‡å®šè‚¡ç¥¨çš„ç·©å­˜\r\n  clearSymbolCache(symbol) {\r\n    const cacheKey = this.getCacheKey(symbol);\r\n    \r\n    // æ¸…é™¤ localStorage\r\n    localStorage.removeItem(cacheKey);\r\n    \r\n    // æ¸…é™¤å…§å­˜ç·©å­˜\r\n    this.memoryCache.delete(cacheKey);\r\n    \r\n    console.log(`Cleared cache for ${symbol}`);\r\n  }\r\n\r\n  // æ¸…é™¤æ‰€æœ‰æŠ€è¡“æŒ‡æ¨™ç·©å­˜\r\n  clearAllCache() {\r\n    try {\r\n      // æ¸…é™¤ localStorage ä¸­çš„æ‰€æœ‰æŠ€è¡“æŒ‡æ¨™ç·©å­˜\r\n      const keysToRemove = [];\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && key.startsWith(this.cachePrefix)) {\r\n          keysToRemove.push(key);\r\n        }\r\n      }\r\n      \r\n      keysToRemove.forEach(key => localStorage.removeItem(key));\r\n      \r\n      // æ¸…é™¤å…§å­˜ç·©å­˜\r\n      this.memoryCache.clear();\r\n      \r\n      console.log(`Cleared all technical indicators cache (${keysToRemove.length} items)`);\r\n      \r\n    } catch (error) {\r\n      console.warn('Failed to clear all cache:', error);\r\n    }\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆä¿¡æ¯\r\n  getCacheStats() {\r\n    const stats = {\r\n      memoryCache: this.memoryCache.size,\r\n      localStorageCache: 0,\r\n      totalSize: 0\r\n    };\r\n\r\n    try {\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorage.key(i);\r\n        if (key && key.startsWith(this.cachePrefix)) {\r\n          stats.localStorageCache++;\r\n          const value = localStorage.getItem(key);\r\n          if (value) {\r\n            stats.totalSize += value.length;\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to get cache stats:', error);\r\n    }\r\n\r\n    return stats;\r\n  }\r\n}\r\n\r\n// å‰µå»ºå–®ä¾‹å¯¦ä¾‹\r\nexport const technicalIndicatorsCache = new TechnicalIndicatorsCache();\r\nexport default technicalIndicatorsCache;","/**\r\n * æŠ€è¡“æŒ‡æ¨™æ ¸å¿ƒå¯¦ç¾\r\n * åŸºæ–¼ YAML è¦æ ¼ technical_indicators_core v1.0.0\r\n * \r\n * ç‰¹é»:\r\n * - æ‰€æœ‰è¼¸å‡ºåºåˆ—èˆ‡è¼¸å…¥å°é½Šï¼Œé•·åº¦ä¸€è‡´\r\n * - å‰ (period-1) æ ¹è¼¸å‡º NaN\r\n * - ä½¿ç”¨æ¨™æº– Wilder å¹³æ»‘\r\n * - å®Œæ•´çš„é‚Šç•Œæ¢ä»¶è™•ç†\r\n */\r\n\r\n// =========================\r\n// 0) å…±ç”¨è³‡æ–™æ¨¡å‹èˆ‡è¦ç´„\r\n// =========================\r\n\r\nconst EPSILON = 1e-12; // é¿å…é™¤ä»¥ 0\r\n\r\n/**\r\n * æ•¸å€¼ç­–ç•¥è™•ç†\r\n */\r\nfunction handleNaN(value) {\r\n  return (value === null || value === undefined || !isFinite(value)) ? NaN : value;\r\n}\r\n\r\nfunction clampRSI(rsi) {\r\n  return Math.max(0, Math.min(100, rsi));\r\n}\r\n\r\n/**\r\n * æ»¾å‹•çª—å£æ¥µå€¼è¨ˆç®—\r\n */\r\nfunction rollingMax(values, period) {\r\n  const result = new Array(values.length);\r\n  \r\n  for (let i = 0; i < values.length; i++) {\r\n    if (i < period - 1) {\r\n      result[i] = NaN;\r\n    } else {\r\n      let max = -Infinity;\r\n      for (let j = i - period + 1; j <= i; j++) {\r\n        if (!isNaN(values[j])) {\r\n          max = Math.max(max, values[j]);\r\n        }\r\n      }\r\n      result[i] = max === -Infinity ? NaN : max;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\nfunction rollingMin(values, period) {\r\n  const result = new Array(values.length);\r\n  \r\n  for (let i = 0; i < values.length; i++) {\r\n    if (i < period - 1) {\r\n      result[i] = NaN;\r\n    } else {\r\n      let min = Infinity;\r\n      for (let j = i - period + 1; j <= i; j++) {\r\n        if (!isNaN(values[j])) {\r\n          min = Math.min(min, values[j]);\r\n        }\r\n      }\r\n      result[i] = min === Infinity ? NaN : min;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n// =========================\r\n// 1) å…±ç”¨ Helper å®šç¾©\r\n// =========================\r\n\r\n/**\r\n * SMA Helper\r\n * @param {number[]} values - è¼¸å…¥åºåˆ—\r\n * @param {number} period - é€±æœŸ\r\n * @returns {number[]} SMA åºåˆ—ï¼Œèˆ‡è¼¸å…¥å°é½Š\r\n */\r\nfunction sma(values, period) {\r\n  if (period <= 0) throw new Error('Period must be positive');\r\n  \r\n  const result = new Array(values.length);\r\n  \r\n  for (let i = 0; i < values.length; i++) {\r\n    if (i < period - 1) {\r\n      result[i] = NaN;\r\n    } else {\r\n      let sum = 0;\r\n      let count = 0;\r\n      \r\n      for (let j = i - period + 1; j <= i; j++) {\r\n        if (!isNaN(values[j])) {\r\n          sum += values[j];\r\n          count++;\r\n        }\r\n      }\r\n      \r\n      result[i] = count === period ? sum / period : NaN;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n/**\r\n * EMA Helper\r\n * @param {number[]} values - è¼¸å…¥åºåˆ—\r\n * @param {number} period - é€±æœŸ\r\n * @param {number} alpha - å¹³æ»‘ä¿‚æ•¸ï¼Œé è¨­ 2/(period+1)\r\n * @param {string} init - åˆå§‹åŒ–ç­–ç•¥ï¼Œé è¨­ 'sma'\r\n * @returns {number[]} EMA åºåˆ—ï¼Œèˆ‡è¼¸å…¥å°é½Š\r\n */\r\nfunction ema(values, period, alpha = null, init = 'sma') {\r\n  if (period <= 0) throw new Error('Period must be positive');\r\n  \r\n  alpha = alpha || (2 / (period + 1));\r\n  const result = new Array(values.length);\r\n  \r\n  // åˆå§‹åŒ–éšæ®µ\r\n  for (let i = 0; i < period - 1; i++) {\r\n    result[i] = NaN;\r\n  }\r\n  \r\n  if (values.length < period) return result;\r\n  \r\n  // ç¬¬ä¸€å€‹ EMA å€¼ä½¿ç”¨ SMA\r\n  if (init === 'sma') {\r\n    let sum = 0;\r\n    let count = 0;\r\n    \r\n    for (let j = 0; j < period; j++) {\r\n      if (!isNaN(values[j])) {\r\n        sum += values[j];\r\n        count++;\r\n      }\r\n    }\r\n    \r\n    result[period - 1] = count === period ? sum / period : NaN;\r\n  } else if (init === 'first_value') {\r\n    result[period - 1] = values[period - 1];\r\n  }\r\n  \r\n  // éè¿´è¨ˆç®— EMA\r\n  for (let i = period; i < values.length; i++) {\r\n    if (isNaN(result[i - 1]) || isNaN(values[i])) {\r\n      result[i] = NaN;\r\n    } else {\r\n      result[i] = alpha * values[i] + (1 - alpha) * result[i - 1];\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n/**\r\n * Wilder å¹³æ»‘ Helper\r\n * @param {number[]} values - è¼¸å…¥åºåˆ—\r\n * @param {number} period - é€±æœŸ\r\n * @returns {number[]} Wilder å¹³æ»‘åºåˆ—\r\n */\r\nfunction wilderSmoothing(values, period) {\r\n  if (period <= 0) throw new Error('Period must be positive');\r\n  \r\n  const result = new Array(values.length);\r\n  \r\n  // åˆå§‹åŒ–éšæ®µ\r\n  for (let i = 0; i < period - 1; i++) {\r\n    result[i] = NaN;\r\n  }\r\n  \r\n  if (values.length < period) return result;\r\n  \r\n  // ç¬¬ä¸€å€‹å€¼ä½¿ç”¨ SMA\r\n  let sum = 0;\r\n  let count = 0;\r\n  \r\n  for (let j = 0; j < period; j++) {\r\n    if (!isNaN(values[j])) {\r\n      sum += values[j];\r\n      count++;\r\n    }\r\n  }\r\n  \r\n  result[period - 1] = count === period ? sum / period : NaN;\r\n  \r\n  // Wilder éè¿´å¹³æ»‘\r\n  for (let i = period; i < values.length; i++) {\r\n    if (isNaN(result[i - 1]) || isNaN(values[i])) {\r\n      result[i] = NaN;\r\n    } else {\r\n      result[i] = (result[i - 1] * (period - 1) + values[i]) / period;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n// =========================\r\n// 2) æŠ€è¡“æŒ‡æ¨™å¯¦ç¾\r\n// =========================\r\n\r\n/**\r\n * MA (EMA) - æŒ‡æ•¸ç§»å‹•å¹³å‡ç·š\r\n */\r\nfunction calculateMA(close, period = 5, alpha = null, init = 'sma') {\r\n  return ema(close, period, alpha, init);\r\n}\r\n\r\n/**\r\n * SMA - ç°¡å–®ç§»å‹•å¹³å‡ç·š\r\n */\r\nfunction calculateSMA(close, period = 5) {\r\n  return sma(close, period);\r\n}\r\n\r\n/**\r\n * Ichimoku Base Line (Kijun-sen)\r\n */\r\nfunction calculateIchimokuBaseLine(high, low, period = 26) {\r\n  const hh = rollingMax(high, period);\r\n  const ll = rollingMin(low, period);\r\n  \r\n  const result = new Array(high.length);\r\n  for (let i = 0; i < high.length; i++) {\r\n    if (isNaN(hh[i]) || isNaN(ll[i])) {\r\n      result[i] = NaN;\r\n    } else {\r\n      result[i] = (hh[i] + ll[i]) / 2;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n/**\r\n * Ichimoku Conversion Line (Tenkan-sen)\r\n */\r\nfunction calculateIchimokuConversionLine(high, low, period = 9) {\r\n  return calculateIchimokuBaseLine(high, low, period);\r\n}\r\n\r\n/**\r\n * Ichimoku Lagging Span (Chikou Span)\r\n */\r\nfunction calculateIchimokuLaggingSpan(close, shift = 26) {\r\n  if (shift < 0) throw new Error('Shift must be non-negative');\r\n  \r\n  const result = new Array(close.length);\r\n  \r\n  for (let i = 0; i < close.length; i++) {\r\n    if (i + shift < close.length) {\r\n      result[i] = close[i];\r\n    } else {\r\n      result[i] = NaN; // æœ€å¾Œ shift æ ¹ç„¡æœªä¾†è³‡æ–™\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n/**\r\n * VWMA - æˆäº¤é‡åŠ æ¬Šç§»å‹•å¹³å‡ç·š\r\n */\r\nfunction calculateVWMA(close, volume, period = 20) {\r\n  const result = new Array(close.length);\r\n  \r\n  for (let i = 0; i < close.length; i++) {\r\n    if (i < period - 1) {\r\n      result[i] = NaN;\r\n    } else {\r\n      let numerator = 0;\r\n      let denominator = 0;\r\n      \r\n      for (let j = i - period + 1; j <= i; j++) {\r\n        if (!isNaN(close[j]) && !isNaN(volume[j])) {\r\n          numerator += close[j] * volume[j];\r\n          denominator += volume[j];\r\n        }\r\n      }\r\n      \r\n      result[i] = denominator <= EPSILON ? NaN : numerator / denominator;\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n/**\r\n * RSI - ç›¸å°å¼·å¼±æŒ‡æ•¸ (Wilder å¹³æ»‘)\r\n */\r\nfunction calculateRSI(close, period = 14) {\r\n  if (close.length < period + 1) {\r\n    return new Array(close.length).fill(NaN);\r\n  }\r\n  \r\n  // Step A: è¨ˆç®—åƒ¹æ ¼è®ŠåŒ–å’Œæ”¶ç›Š/æå¤±\r\n  const delta = new Array(close.length);\r\n  const gain = new Array(close.length);\r\n  const loss = new Array(close.length);\r\n  \r\n  delta[0] = NaN;\r\n  gain[0] = NaN;\r\n  loss[0] = NaN;\r\n  \r\n  for (let i = 1; i < close.length; i++) {\r\n    if (isNaN(close[i]) || isNaN(close[i - 1])) {\r\n      delta[i] = NaN;\r\n      gain[i] = NaN;\r\n      loss[i] = NaN;\r\n    } else {\r\n      delta[i] = close[i] - close[i - 1];\r\n      gain[i] = Math.max(delta[i], 0);\r\n      loss[i] = Math.max(-delta[i], 0);\r\n    }\r\n  }\r\n  \r\n  // Step B: Wilder å¹³æ»‘\r\n  const avgGain = wilderSmoothing(gain.slice(1), period); // å»æ‰ç¬¬ä¸€å€‹ NaN\r\n  const avgLoss = wilderSmoothing(loss.slice(1), period);\r\n  \r\n  // Step C: è¨ˆç®— RSI\r\n  const result = new Array(close.length);\r\n  result[0] = NaN; // ç¬¬ä¸€å€‹é»æ²’æœ‰ delta\r\n  \r\n  for (let i = 1; i < close.length; i++) {\r\n    const avgGainValue = avgGain[i - 1];\r\n    const avgLossValue = avgLoss[i - 1];\r\n    \r\n    if (isNaN(avgGainValue) || isNaN(avgLossValue)) {\r\n      result[i] = NaN;\r\n    } else if (avgLossValue <= EPSILON) {\r\n      result[i] = 100; // æ²’æœ‰ä¸‹è·Œ\r\n    } else {\r\n      const rs = avgGainValue / avgLossValue;\r\n      const rsi = 100 - (100 / (1 + rs));\r\n      result[i] = clampRSI(rsi);\r\n    }\r\n  }\r\n  \r\n  return result;\r\n}\r\n\r\n/**\r\n * ADX - å¹³å‡è¶¨å‘æŒ‡æ•¸ (å®Œæ•´ Wilder å¯¦ç¾)\r\n */\r\nfunction calculateADX(high, low, close, period = 14) {\r\n  const length = Math.min(high.length, low.length, close.length);\r\n  if (length < period * 2) {\r\n    return {\r\n      adx: new Array(length).fill(NaN),\r\n      plusDI: new Array(length).fill(NaN),\r\n      minusDI: new Array(length).fill(NaN)\r\n    };\r\n  }\r\n  \r\n  // Step A: è¨ˆç®— DM å’Œ TR\r\n  const upMove = new Array(length);\r\n  const downMove = new Array(length);\r\n  const plusDM = new Array(length);\r\n  const minusDM = new Array(length);\r\n  const tr = new Array(length);\r\n  \r\n  upMove[0] = NaN;\r\n  downMove[0] = NaN;\r\n  plusDM[0] = NaN;\r\n  minusDM[0] = NaN;\r\n  tr[0] = NaN;\r\n  \r\n  for (let i = 1; i < length; i++) {\r\n    // Up/Down Move\r\n    upMove[i] = high[i] - high[i - 1];\r\n    downMove[i] = low[i - 1] - low[i];\r\n    \r\n    // +DM / -DM\r\n    if (upMove[i] > downMove[i] && upMove[i] > 0) {\r\n      plusDM[i] = upMove[i];\r\n    } else {\r\n      plusDM[i] = 0;\r\n    }\r\n    \r\n    if (downMove[i] > upMove[i] && downMove[i] > 0) {\r\n      minusDM[i] = downMove[i];\r\n    } else {\r\n      minusDM[i] = 0;\r\n    }\r\n    \r\n    // True Range\r\n    const tr1 = high[i] - low[i];\r\n    const tr2 = Math.abs(high[i] - close[i - 1]);\r\n    const tr3 = Math.abs(low[i] - close[i - 1]);\r\n    tr[i] = Math.max(tr1, tr2, tr3);\r\n  }\r\n  \r\n  // Step B: Wilder å¹³æ»‘\r\n  const smTR = wilderSmoothing(tr.slice(1), period);\r\n  const smPlusDM = wilderSmoothing(plusDM.slice(1), period);\r\n  const smMinusDM = wilderSmoothing(minusDM.slice(1), period);\r\n  \r\n  // Step C: è¨ˆç®— DI\r\n  const plusDI = new Array(length);\r\n  const minusDI = new Array(length);\r\n  const dx = new Array(length);\r\n  \r\n  plusDI[0] = NaN;\r\n  minusDI[0] = NaN;\r\n  dx[0] = NaN;\r\n  \r\n  for (let i = 1; i < length; i++) {\r\n    const smTRValue = smTR[i - 1];\r\n    const smPlusDMValue = smPlusDM[i - 1];\r\n    const smMinusDMValue = smMinusDM[i - 1];\r\n    \r\n    if (isNaN(smTRValue) || smTRValue <= EPSILON) {\r\n      plusDI[i] = NaN;\r\n      minusDI[i] = NaN;\r\n      dx[i] = NaN;\r\n    } else {\r\n      plusDI[i] = 100 * smPlusDMValue / smTRValue;\r\n      minusDI[i] = 100 * smMinusDMValue / smTRValue;\r\n      \r\n      const diSum = plusDI[i] + minusDI[i];\r\n      if (diSum <= EPSILON) {\r\n        dx[i] = NaN;\r\n      } else {\r\n        dx[i] = 100 * Math.abs(plusDI[i] - minusDI[i]) / diSum;\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Step D: ADX Wilder å¹³æ»‘\r\n  const adx = wilderSmoothing(dx.slice(1), period);\r\n  \r\n  // å°é½Šçµæœ\r\n  const adxResult = new Array(length);\r\n  adxResult[0] = NaN;\r\n  for (let i = 1; i < length; i++) {\r\n    adxResult[i] = adx[i - 1];\r\n  }\r\n  \r\n  return {\r\n    adx: adxResult,\r\n    plusDI: plusDI,\r\n    minusDI: minusDI\r\n  };\r\n}\r\n\r\n/**\r\n * MACD - ç§»å‹•å¹³å‡æ”¶æ–‚ç™¼æ•£\r\n */\r\nfunction calculateMACD(close, fastPeriod = 12, slowPeriod = 26, signalPeriod = 9) {\r\n  if (slowPeriod <= fastPeriod) {\r\n    console.warn('Slow period should be greater than fast period');\r\n  }\r\n  \r\n  const emaFast = ema(close, fastPeriod);\r\n  const emaSlow = ema(close, slowPeriod);\r\n  \r\n  // MACD Line\r\n  const macd = new Array(close.length);\r\n  for (let i = 0; i < close.length; i++) {\r\n    if (isNaN(emaFast[i]) || isNaN(emaSlow[i])) {\r\n      macd[i] = NaN;\r\n    } else {\r\n      macd[i] = emaFast[i] - emaSlow[i];\r\n    }\r\n  }\r\n  \r\n  // Signal Line\r\n  const signal = ema(macd, signalPeriod);\r\n  \r\n  // Histogram\r\n  const histogram = new Array(close.length);\r\n  for (let i = 0; i < close.length; i++) {\r\n    if (isNaN(macd[i]) || isNaN(signal[i])) {\r\n      histogram[i] = NaN;\r\n    } else {\r\n      histogram[i] = macd[i] - signal[i];\r\n    }\r\n  }\r\n  \r\n  return {\r\n    macd: macd,\r\n    signal: signal,\r\n    histogram: histogram\r\n  };\r\n}\r\n\r\n// =========================\r\n// 3) çµ±ä¸€è¨ˆç®—æ¥å£\r\n// =========================\r\n\r\n/**\r\n * è¨ˆç®—æ‰€æœ‰æŠ€è¡“æŒ‡æ¨™\r\n * @param {Object} ohlcv - OHLCV æ•¸æ“š {open, high, low, close, volume}\r\n * @returns {Object} æ‰€æœ‰æŒ‡æ¨™çµæœ\r\n */\r\nfunction calculateAllIndicators(ohlcv) {\r\n  const { open, high, low, close, volume } = ohlcv;\r\n  \r\n  // é©—è­‰æ•¸æ“šé•·åº¦ä¸€è‡´\r\n  const length = close.length;\r\n  if (high.length !== length || low.length !== length || \r\n      open.length !== length || volume.length !== length) {\r\n    throw new Error('All OHLCV arrays must have the same length');\r\n  }\r\n  \r\n  // è¨ˆç®—æ‰€æœ‰æŒ‡æ¨™\r\n  const results = {\r\n    // MA (EMA)\r\n    MA_5: calculateMA(close, 5),\r\n    MA_10: calculateMA(close, 10),\r\n    MA_30: calculateMA(close, 30),\r\n    \r\n    // SMA\r\n    SMA_5: calculateSMA(close, 5),\r\n    SMA_10: calculateSMA(close, 10),\r\n    SMA_30: calculateSMA(close, 30),\r\n    \r\n    // Ichimoku\r\n    ICHIMOKU_BASELINE_26: calculateIchimokuBaseLine(high, low, 26),\r\n    ICHIMOKU_CONVERSIONLINE_9: calculateIchimokuConversionLine(high, low, 9),\r\n    ICHIMOKU_LAGGINGSPAN_26: calculateIchimokuLaggingSpan(close, 26),\r\n    \r\n    // VWMA\r\n    VWMA_20: calculateVWMA(close, volume, 20),\r\n    \r\n    // RSI\r\n    RSI_14: calculateRSI(close, 14),\r\n    \r\n    // MACD\r\n    ...(() => {\r\n      const macdResult = calculateMACD(close, 12, 26, 9);\r\n      return {\r\n        MACD_12_26_9: macdResult.macd,\r\n        MACD_SIGNAL_9: macdResult.signal,\r\n        MACD_HIST: macdResult.histogram\r\n      };\r\n    })(),\r\n    \r\n    // ADX\r\n    ...(() => {\r\n      const adxResult = calculateADX(high, low, close, 14);\r\n      return {\r\n        ADX_14: adxResult.adx,\r\n        ADX_14_PLUS_DI: adxResult.plusDI,\r\n        ADX_14_MINUS_DI: adxResult.minusDI\r\n      };\r\n    })()\r\n  };\r\n  \r\n  // é©—è­‰æ‰€æœ‰çµæœé•·åº¦ä¸€è‡´\r\n  for (const [key, values] of Object.entries(results)) {\r\n    if (values.length !== length) {\r\n      console.error(`Length mismatch for ${key}: expected ${length}, got ${values.length}`);\r\n    }\r\n  }\r\n  \r\n  return results;\r\n}\r\n\r\n// =========================\r\n// 4) å°å‡º\r\n// =========================\r\n\r\nexport {\r\n  // Helper å‡½æ•¸\r\n  sma,\r\n  ema,\r\n  wilderSmoothing,\r\n  rollingMax,\r\n  rollingMin,\r\n  \r\n  // å€‹åˆ¥æŒ‡æ¨™\r\n  calculateMA,\r\n  calculateSMA,\r\n  calculateIchimokuBaseLine,\r\n  calculateIchimokuConversionLine,\r\n  calculateIchimokuLaggingSpan,\r\n  calculateVWMA,\r\n  calculateRSI,\r\n  calculateADX,\r\n  calculateMACD,\r\n  \r\n  // çµ±ä¸€æ¥å£\r\n  calculateAllIndicators,\r\n  \r\n  // å¸¸æ•¸\r\n  EPSILON\r\n};\r\n\r\nexport default {\r\n  calculateAllIndicators,\r\n  calculateMA,\r\n  calculateSMA,\r\n  calculateIchimokuBaseLine,\r\n  calculateIchimokuConversionLine,\r\n  calculateIchimokuLaggingSpan,\r\n  calculateVWMA,\r\n  calculateRSI,\r\n  calculateADX,\r\n  calculateMACD\r\n};","// Yahoo Finance API æ•´åˆ\r\n// ä½¿ç”¨ Yahoo Finance çš„å…¬é–‹ API ç«¯é»\r\n\r\nimport technicalIndicatorsCache from './technicalIndicatorsCache.js';\r\nimport { calculateAllIndicators } from './technicalIndicatorsCore.js';\r\n\r\nclass YahooFinanceAPI {\r\n  constructor() {\r\n    // ä½¿ç”¨å¤šå€‹ CORS ä»£ç†æœå‹™ä¾†è§£æ±ºè·¨åŸŸå•é¡Œ - 2024å¹´12æœˆä¿®æ­£ç‰ˆ\r\n    // å„ªå…ˆä½¿ç”¨çœŸæ­£ç„¡é™åˆ¶çš„å…è²»ä»£ç†æœå‹™\r\n    this.corsProxies = [\r\n      // ğŸ†“ çœŸæ­£å…è²»ä¸”ç„¡ç”Ÿç”¢ç’°å¢ƒé™åˆ¶çš„ä»£ç†\r\n      'https://api.allorigins.win/raw?url=',                // æ¸¬è©¦æˆåŠŸ: 368ms, ç„¡ç”Ÿç”¢é™åˆ¶ âœ…\r\n      \r\n      // âš ï¸ å¯èƒ½æœ‰ç”Ÿç”¢ç’°å¢ƒé™åˆ¶çš„ä»£ç†ï¼ˆä½†ä¿ç•™ä½œç‚ºé–‹ç™¼/æ¸¬è©¦ç”¨ï¼‰\r\n      'https://corsproxy.io/?',                             // æ¸¬è©¦æˆåŠŸ: 119ms, ä½†å¯èƒ½é™åˆ¶ç”Ÿç”¢ç’°å¢ƒ âš ï¸\r\n      \r\n      // ğŸ”„ å…¶ä»–å…è²»ä»£ç†ï¼ˆç‹€æ…‹æœªçŸ¥ï¼Œä½œç‚ºå‚™ç”¨ï¼‰\r\n      'https://cors.sh/',                                    // ç¶²è·¯éŒ¯èª¤ï¼Œä½†å¯èƒ½é–“æ­‡æ€§å¯ç”¨\r\n      'https://proxy-cors.isomorphic-git.org/',             // ç¶²è·¯éŒ¯èª¤ï¼Œä½†å¯èƒ½é–“æ­‡æ€§å¯ç”¨\r\n      'https://thingproxy.freeboard.io/fetch/',             // ç¶²è·¯éŒ¯èª¤ï¼Œä½†å¯èƒ½é–“æ­‡æ€§å¯ç”¨\r\n      'https://cors-proxy.htmldriven.com/?url=',            // ç¶²è·¯éŒ¯èª¤ï¼Œä½†å¯èƒ½é–“æ­‡æ€§å¯ç”¨\r\n      'https://cors-anywhere.herokuapp.com/'                // 403 Forbiddenï¼Œæœ€å¾Œå‚™ç”¨\r\n    ];\r\n    this.baseUrl = 'https://query1.finance.yahoo.com/v8/finance/chart/';\r\n    this.cache = new Map();\r\n    this.cacheTimeout = 5 * 60 * 1000; // 5 åˆ†é˜ç·©å­˜ (ç”¨æ–¼ API è«‹æ±‚ç·©å­˜)\r\n    this.currentProxyIndex = 0; // å¾æœ€å¯é çš„å…è²»ä»£ç†é–‹å§‹\r\n  }\r\n\r\n  // ç²å–æŠ€è¡“æŒ‡æ¨™æ•¸æ“š (å¸¶æ¯æ—¥ç·©å­˜)\r\n  async getTechnicalIndicators(symbol) {\r\n    // 1. å…ˆæª¢æŸ¥æ¯æ—¥ç·©å­˜\r\n    const cachedData = await technicalIndicatorsCache.getTechnicalIndicators(symbol);\r\n    if (cachedData) {\r\n      return cachedData;\r\n    }\r\n\r\n    // 2. ç·©å­˜æœªå‘½ä¸­ï¼Œå¾ API ç²å–æ•¸æ“š\r\n    const freshData = await this.fetchTechnicalIndicatorsFromAPI(symbol);\r\n    \r\n    // 3. å¦‚æœç²å–æˆåŠŸï¼Œå­˜å…¥æ¯æ—¥ç·©å­˜\r\n    if (freshData && !freshData.error) {\r\n      await technicalIndicatorsCache.setTechnicalIndicators(symbol, freshData);\r\n    }\r\n\r\n    return freshData;\r\n  }\r\n\r\n  // å¾ API ç²å–æŠ€è¡“æŒ‡æ¨™æ•¸æ“š (åŸæœ‰é‚è¼¯)\r\n  async fetchTechnicalIndicatorsFromAPI(symbol) {\r\n    const cacheKey = `technical_${symbol}`;\r\n    \r\n    // æª¢æŸ¥ç·©å­˜\r\n    if (this.cache.has(cacheKey)) {\r\n      const cached = this.cache.get(cacheKey);\r\n      if (Date.now() - cached.timestamp < this.cacheTimeout) {\r\n        console.log(`Using cached data for ${symbol}`);\r\n        return cached.data;\r\n      }\r\n    }\r\n\r\n    // å˜—è©¦å¤šå€‹ä»£ç†æœå‹™\r\n    for (let i = 0; i < this.corsProxies.length; i++) {\r\n      try {\r\n        const proxyIndex = (this.currentProxyIndex + i) % this.corsProxies.length;\r\n        const proxy = this.corsProxies[proxyIndex];\r\n        \r\n        console.log(`Fetching data for ${symbol} using proxy ${proxyIndex + 1}...`);\r\n        \r\n        // æ§‹å»ºè«‹æ±‚ URL\r\n        const targetUrl = `${this.baseUrl}${symbol}?interval=1d&range=3mo&indicators=quote&includePrePost=false`;\r\n        const url = `${proxy}${encodeURIComponent(targetUrl)}`;\r\n        \r\n        console.log(`Request URL: ${url}`);\r\n        \r\n        // ç²å–æ­·å²æ•¸æ“šç”¨æ–¼è¨ˆç®—æŠ€è¡“æŒ‡æ¨™\r\n        const response = await fetch(url, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n        \r\n        console.log(`Response status: ${response.status}`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        console.log(`Raw data structure:`, data);\r\n        \r\n        // æª¢æŸ¥æ•¸æ“šçµæ§‹\r\n        if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\r\n          throw new Error('No chart data available');\r\n        }\r\n        \r\n        const result = data.chart.result[0];\r\n        \r\n        if (!result.indicators || !result.indicators.quote || !result.indicators.quote[0]) {\r\n          throw new Error('Invalid data structure - missing indicators');\r\n        }\r\n        \r\n        const quotes = result.indicators.quote[0];\r\n        \r\n        // æå–ä¸¦æ¸…ç† OHLCV æ•¸æ“š\r\n        const rawData = {\r\n          open: quotes.open || [],\r\n          high: quotes.high || [],\r\n          low: quotes.low || [],\r\n          close: quotes.close || [],\r\n          volume: quotes.volume || []\r\n        };\r\n        \r\n        // éæ¿¾æ‰ null å€¼ï¼Œä¿æŒç´¢å¼•å°é½Š\r\n        const length = rawData.close.length;\r\n        const ohlcv = {\r\n          open: new Array(length),\r\n          high: new Array(length),\r\n          low: new Array(length),\r\n          close: new Array(length),\r\n          volume: new Array(length)\r\n        };\r\n        \r\n        for (let i = 0; i < length; i++) {\r\n          ohlcv.open[i] = rawData.open[i] !== null ? rawData.open[i] : NaN;\r\n          ohlcv.high[i] = rawData.high[i] !== null ? rawData.high[i] : NaN;\r\n          ohlcv.low[i] = rawData.low[i] !== null ? rawData.low[i] : NaN;\r\n          ohlcv.close[i] = rawData.close[i] !== null ? rawData.close[i] : NaN;\r\n          ohlcv.volume[i] = rawData.volume[i] !== null ? rawData.volume[i] : NaN;\r\n        }\r\n        \r\n        console.log(`Found ${length} data points for ${symbol}`);\r\n        \r\n        if (length < 50) {\r\n          throw new Error(`Insufficient data points (${length}) for technical analysis`);\r\n        }\r\n        \r\n        // ä½¿ç”¨æ–°çš„æŠ€è¡“æŒ‡æ¨™æ ¸å¿ƒè¨ˆç®—æ‰€æœ‰æŒ‡æ¨™\r\n        const coreResults = calculateAllIndicators(ohlcv);\r\n        \r\n        // è½‰æ›ç‚ºèˆŠæ ¼å¼ä»¥ä¿æŒå…¼å®¹æ€§\r\n        const getLastValue = (series) => {\r\n          for (let i = series.length - 1; i >= 0; i--) {\r\n            if (!isNaN(series[i])) {\r\n              return series[i];\r\n            }\r\n          }\r\n          return null;\r\n        };\r\n        \r\n        const createIndicatorResult = (series, signalThresholds = null) => {\r\n          const lastValue = getLastValue(series);\r\n          const currentPrice = getLastValue(ohlcv.close);\r\n          \r\n          let signal = 'NEUTRAL';\r\n          if (signalThresholds && lastValue !== null && currentPrice !== null) {\r\n            if (signalThresholds.type === 'price_comparison') {\r\n              if (currentPrice > lastValue * signalThresholds.buy) signal = 'BUY';\r\n              else if (currentPrice < lastValue * signalThresholds.sell) signal = 'SELL';\r\n            } else if (signalThresholds.type === 'rsi') {\r\n              if (lastValue > signalThresholds.overbought) signal = 'OVERBOUGHT';\r\n              else if (lastValue < signalThresholds.oversold) signal = 'OVERSOLD';\r\n            } else if (signalThresholds.type === 'adx') {\r\n              if (lastValue > signalThresholds.strong) signal = 'STRONG_TREND';\r\n              else if (lastValue < signalThresholds.weak) signal = 'WEAK_TREND';\r\n            }\r\n          }\r\n          \r\n          return {\r\n            value: lastValue !== null ? lastValue.toFixed(2) : null,\r\n            signal: signal,\r\n            currentPrice: currentPrice !== null ? currentPrice.toFixed(2) : null\r\n          };\r\n        };\r\n        \r\n        // è¨ˆç®—æŠ€è¡“æŒ‡æ¨™ï¼ˆä¿æŒèˆŠæ¥å£å…¼å®¹æ€§ï¼‰\r\n        const indicators = {\r\n          // ç§»å‹•å¹³å‡ç·š\r\n          ma5: createIndicatorResult(coreResults.MA_5, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          sma5: createIndicatorResult(coreResults.SMA_5, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          ma10: createIndicatorResult(coreResults.MA_10, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          sma10: createIndicatorResult(coreResults.SMA_10, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          ma30: createIndicatorResult(coreResults.MA_30, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          sma30: createIndicatorResult(coreResults.SMA_30, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          sma50: { value: null, signal: 'N/A' }, // æš«æ™‚ä¿ç•™ä½†ä¸è¨ˆç®—\r\n          \r\n          // ä¸€ç›®å‡è¡¡è¡¨\r\n          ichimokuBaseLine: createIndicatorResult(coreResults.ICHIMOKU_BASELINE_26, { type: 'price_comparison', buy: 1.01, sell: 0.99 }),\r\n          ichimokuConversionLine: createIndicatorResult(coreResults.ICHIMOKU_CONVERSIONLINE_9, { type: 'price_comparison', buy: 1.01, sell: 0.99 }),\r\n          ichimokuLaggingSpan: createIndicatorResult(coreResults.ICHIMOKU_LAGGINGSPAN_26),\r\n          \r\n          // æˆäº¤é‡åŠ æ¬Šç§»å‹•å¹³å‡ç·š\r\n          vwma20: createIndicatorResult(coreResults.VWMA_20, { type: 'price_comparison', buy: 1.02, sell: 0.98 }),\r\n          \r\n          // å…¶ä»–æŠ€è¡“æŒ‡æ¨™\r\n          rsi14: createIndicatorResult(coreResults.RSI_14, { type: 'rsi', overbought: 70, oversold: 30 }),\r\n          adx14: (() => {\r\n            const adxValue = getLastValue(coreResults.ADX_14);\r\n            const plusDI = getLastValue(coreResults.ADX_14_PLUS_DI);\r\n            const minusDI = getLastValue(coreResults.ADX_14_MINUS_DI);\r\n            \r\n            let signal = 'NEUTRAL';\r\n            if (adxValue !== null) {\r\n              if (adxValue > 25) signal = 'STRONG_TREND';\r\n              else if (adxValue < 20) signal = 'WEAK_TREND';\r\n            }\r\n            \r\n            return {\r\n              value: adxValue !== null ? adxValue.toFixed(2) : null,\r\n              signal: signal,\r\n              plusDI: plusDI !== null ? plusDI.toFixed(2) : null,\r\n              minusDI: minusDI !== null ? minusDI.toFixed(2) : null\r\n            };\r\n          })(),\r\n          macd: (() => {\r\n            const macdValue = getLastValue(coreResults.MACD_12_26_9);\r\n            const signalValue = getLastValue(coreResults.MACD_SIGNAL_9);\r\n            const histValue = getLastValue(coreResults.MACD_HIST);\r\n            \r\n            let signal = 'NEUTRAL';\r\n            if (macdValue !== null && signalValue !== null && histValue !== null) {\r\n              if (macdValue > signalValue && histValue > 0) {\r\n                signal = 'BUY';\r\n              } else if (macdValue < signalValue && histValue < 0) {\r\n                signal = 'SELL';\r\n              }\r\n            }\r\n            \r\n            return {\r\n              value: macdValue !== null ? macdValue.toFixed(2) : null,\r\n              signal: signal,\r\n              signalLine: signalValue !== null ? signalValue.toFixed(2) : null,\r\n              histogram: histValue !== null ? histValue.toFixed(2) : null\r\n            };\r\n          })(),\r\n          \r\n          // å…ƒæ•¸æ“š\r\n          lastUpdated: new Date().toISOString(),\r\n          dataPoints: length,\r\n          proxy: `Proxy ${proxyIndex + 1}`,\r\n          source: 'Yahoo Finance API (Fresh) - Core v1.0.0',\r\n          \r\n          // æ·»åŠ å®Œæ•´åºåˆ—æ•¸æ“šï¼ˆç”¨æ–¼é«˜ç´šåˆ†æï¼‰\r\n          fullSeries: coreResults,\r\n          \r\n          // èª¿è©¦ä¿¡æ¯\r\n          priceRange: {\r\n            min: Math.min(...ohlcv.close.filter(p => !isNaN(p))).toFixed(2),\r\n            max: Math.max(...ohlcv.close.filter(p => !isNaN(p))).toFixed(2),\r\n            latest: getLastValue(ohlcv.close)?.toFixed(2) || 'N/A',\r\n            first: ohlcv.close.find(p => !isNaN(p))?.toFixed(2) || 'N/A'\r\n          }\r\n        };\r\n        \r\n        console.log(`Price data for ${symbol}:`, {\r\n          dataPoints: length,\r\n          priceRange: indicators.priceRange,\r\n          samplePrices: ohlcv.close.slice(-10).filter(p => !isNaN(p)) // æœ€å¾Œ 10 å€‹æœ‰æ•ˆåƒ¹æ ¼\r\n        });\r\n        \r\n        console.log(`Calculated indicators for ${symbol}:`, indicators);\r\n        \r\n        // ç·©å­˜çµæœ\r\n        this.cache.set(cacheKey, {\r\n          data: indicators,\r\n          timestamp: Date.now()\r\n        });\r\n        \r\n        // æ›´æ–°æˆåŠŸçš„ä»£ç†ç´¢å¼•\r\n        this.currentProxyIndex = proxyIndex;\r\n        \r\n        return indicators;\r\n        \r\n      } catch (error) {\r\n        console.warn(`Proxy ${i + 1} failed for ${symbol}:`, error.message);\r\n        \r\n        // å¦‚æœæ˜¯æœ€å¾Œä¸€å€‹ä»£ç†ä¹Ÿå¤±æ•—äº†ï¼Œè¿”å›éŒ¯èª¤\r\n        if (i === this.corsProxies.length - 1) {\r\n          console.error(`All proxies failed for ${symbol}:`, error);\r\n          \r\n          // è¿”å›éŒ¯èª¤ç‹€æ…‹\r\n          return {\r\n            ma5: { value: null, signal: 'N/A' },\r\n            sma5: { value: null, signal: 'N/A' },\r\n            ma10: { value: null, signal: 'N/A' },\r\n            sma10: { value: null, signal: 'N/A' },\r\n            ma30: { value: null, signal: 'N/A' },\r\n            sma30: { value: null, signal: 'N/A' },\r\n            sma50: { value: null, signal: 'N/A' },\r\n            ichimokuBaseLine: { value: null, signal: 'N/A' },\r\n            ichimokuConversionLine: { value: null, signal: 'N/A' },\r\n            ichimokuLaggingSpan: { value: null, signal: 'N/A' },\r\n            vwma20: { value: null, signal: 'N/A' },\r\n            rsi14: { value: null, signal: 'N/A' },\r\n            adx14: { value: null, signal: 'N/A' },\r\n            macd: { value: null, signal: 'N/A' },\r\n            lastUpdated: new Date().toISOString(),\r\n            error: `All proxies failed: ${error.message}`,\r\n            source: 'Error'\r\n          };\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // æ¸…é™¤ API è«‹æ±‚ç·©å­˜\r\n  clearCache() {\r\n    this.cache.clear();\r\n  }\r\n\r\n  // ç²å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯ (sector, industry, marketCap ç­‰)\r\n  async getStockInfo(symbol) {\r\n    const cacheKey = `info_${symbol}`;\r\n    \r\n    // æª¢æŸ¥ç·©å­˜ (24å°æ™‚æœ‰æ•ˆæœŸ)\r\n    const longCacheTimeout = 24 * 60 * 60 * 1000; // 24 hours\r\n    if (this.cache.has(cacheKey)) {\r\n      const cached = this.cache.get(cacheKey);\r\n      if (Date.now() - cached.timestamp < longCacheTimeout) {\r\n        console.log(`Using cached stock info for ${symbol}`);\r\n        return cached.data;\r\n      }\r\n    }\r\n\r\n    // å˜—è©¦å¤šå€‹ä»£ç†æœå‹™ç²å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯\r\n    for (let i = 0; i < this.corsProxies.length; i++) {\r\n      try {\r\n        const proxyIndex = (this.currentProxyIndex + i) % this.corsProxies.length;\r\n        const proxy = this.corsProxies[proxyIndex];\r\n        \r\n        console.log(`Fetching stock info for ${symbol} using proxy ${proxyIndex + 1}...`);\r\n        \r\n        // ä½¿ç”¨ Yahoo Finance çš„ quoteSummary API ç²å–è©³ç´°ä¿¡æ¯\r\n        const targetUrl = `https://query1.finance.yahoo.com/v10/finance/quoteSummary/${symbol}?modules=summaryProfile,price,defaultKeyStatistics`;\r\n        const url = `${proxy}${encodeURIComponent(targetUrl)}`;\r\n        \r\n        const response = await fetch(url, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        // æª¢æŸ¥æ•¸æ“šçµæ§‹\r\n        if (!data.quoteSummary || !data.quoteSummary.result || data.quoteSummary.result.length === 0) {\r\n          throw new Error('No quoteSummary data available');\r\n        }\r\n        \r\n        const result = data.quoteSummary.result[0];\r\n        const summaryProfile = result.summaryProfile || {};\r\n        const price = result.price || {};\r\n        const keyStats = result.defaultKeyStatistics || {};\r\n        \r\n        // æå–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯\r\n        const stockInfo = {\r\n          symbol: symbol,\r\n          sector: summaryProfile.sector || 'Unknown',\r\n          industry: summaryProfile.industry || 'Unknown Industry',\r\n          exchange: price.exchangeName || price.exchange || this.getDefaultExchange(symbol),\r\n          marketCap: price.marketCap ? price.marketCap.raw : null,\r\n          marketCapFormatted: price.marketCap ? price.marketCap.fmt : 'N/A',\r\n          currency: price.currency || 'USD',\r\n          country: summaryProfile.country || 'Unknown',\r\n          website: summaryProfile.website || null,\r\n          employees: summaryProfile.fullTimeEmployees || null,\r\n          businessSummary: summaryProfile.longBusinessSummary || null,\r\n          \r\n          // å¸‚å€¼åˆ†é¡\r\n          marketCapCategory: this.getMarketCapCategory(price.marketCap ? price.marketCap.raw : null),\r\n          \r\n          // å…ƒæ•¸æ“š\r\n          lastUpdated: new Date().toISOString(),\r\n          source: 'Yahoo Finance API (Live)',\r\n          proxy: `Proxy ${proxyIndex + 1}`,\r\n          confidence: 0.95 // yfinance API çš„ä¿¡å¿ƒåº¦å¾ˆé«˜\r\n        };\r\n        \r\n        console.log(`Stock info for ${symbol}:`, stockInfo);\r\n        \r\n        // ç·©å­˜çµæœ (24å°æ™‚)\r\n        this.cache.set(cacheKey, {\r\n          data: stockInfo,\r\n          timestamp: Date.now()\r\n        });\r\n        \r\n        // æ›´æ–°æˆåŠŸçš„ä»£ç†ç´¢å¼•\r\n        this.currentProxyIndex = proxyIndex;\r\n        \r\n        return stockInfo;\r\n        \r\n      } catch (error) {\r\n        console.warn(`Proxy ${i + 1} failed for stock info ${symbol}:`, error.message);\r\n        \r\n        // å¦‚æœæ˜¯æœ€å¾Œä¸€å€‹ä»£ç†ä¹Ÿå¤±æ•—äº†ï¼Œè¿”å›é»˜èªä¿¡æ¯\r\n        if (i === this.corsProxies.length - 1) {\r\n          console.error(`All proxies failed for stock info ${symbol}:`, error);\r\n          \r\n          const defaultInfo = {\r\n            symbol: symbol,\r\n            sector: 'Unknown',\r\n            industry: 'Unknown Industry',\r\n            exchange: this.getDefaultExchange(symbol),\r\n            marketCap: null,\r\n            marketCapFormatted: 'N/A',\r\n            currency: 'USD',\r\n            country: 'Unknown',\r\n            website: null,\r\n            employees: null,\r\n            businessSummary: null,\r\n            marketCapCategory: 'unknown',\r\n            lastUpdated: new Date().toISOString(),\r\n            source: 'Default (API Failed)',\r\n            error: `All proxies failed: ${error.message}`,\r\n            confidence: 0.0\r\n          };\r\n          \r\n          // çŸ­æœŸç·©å­˜éŒ¯èª¤çµæœ (1å°æ™‚)\r\n          this.cache.set(cacheKey, {\r\n            data: defaultInfo,\r\n            timestamp: Date.now()\r\n          });\r\n          \r\n          return defaultInfo;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // ç²å–é»˜èªäº¤æ˜“æ‰€\r\n  getDefaultExchange(symbol) {\r\n    const nasdaqSymbols = ['AAPL', 'MSFT', 'GOOGL', 'GOOG', 'AMZN', 'TSLA', 'NVDA', 'META', 'NFLX', 'RKLB', 'ASTS', 'RIVN', 'MDB', 'ONDS', 'PL', 'AVAV', 'CRM', 'AVGO', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS'];\r\n    const nyseSymbols = ['TSM', 'ORCL', 'RDW'];\r\n    \r\n    if (nasdaqSymbols.includes(symbol)) {\r\n      return 'NASDAQ';\r\n    } else if (nyseSymbols.includes(symbol)) {\r\n      return 'NYSE';\r\n    }\r\n    \r\n    return 'NASDAQ'; // Default\r\n  }\r\n\r\n  // æ ¹æ“šå¸‚å€¼åˆ†é¡\r\n  getMarketCapCategory(marketCap) {\r\n    if (!marketCap || marketCap <= 0) {\r\n      return 'unknown';\r\n    }\r\n    \r\n    // å¸‚å€¼åˆ†é¡ (ç¾å…ƒ)\r\n    if (marketCap >= 200000000000) { // >= $200B\r\n      return 'mega_cap';\r\n    } else if (marketCap >= 10000000000) { // >= $10B\r\n      return 'large_cap';\r\n    } else if (marketCap >= 2000000000) { // >= $2B\r\n      return 'mid_cap';\r\n    } else if (marketCap >= 300000000) { // >= $300M\r\n      return 'small_cap';\r\n    } else {\r\n      return 'micro_cap';\r\n    }\r\n  }\r\n\r\n  // æ¸…é™¤æ¯æ—¥æŠ€è¡“æŒ‡æ¨™ç·©å­˜\r\n  clearDailyCache() {\r\n    technicalIndicatorsCache.clearAllCache();\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆ\r\n  getCacheStats() {\r\n    const apiCacheStats = {};\r\n    for (const [key, value] of this.cache.entries()) {\r\n      apiCacheStats[key] = {\r\n        age: Date.now() - value.timestamp,\r\n        expired: Date.now() - value.timestamp > this.cacheTimeout\r\n      };\r\n    }\r\n\r\n    return {\r\n      apiCache: apiCacheStats,\r\n      dailyCache: technicalIndicatorsCache.getCacheStats()\r\n    };\r\n  }\r\n}\r\n\r\n// å‰µå»ºå–®ä¾‹å¯¦ä¾‹\r\nexport const yahooFinanceAPI = new YahooFinanceAPI();\r\nexport default yahooFinanceAPI;","// æ··åˆæŠ€è¡“æŒ‡æ¨™ API\r\n// å„ªå…ˆä½¿ç”¨é è¨ˆç®—æ•¸æ“šï¼Œå›é€€åˆ°å¯¦æ™‚è¨ˆç®—\r\n\r\nimport precomputedIndicatorsAPI from './precomputedIndicatorsApi.js';\r\nimport yahooFinanceAPI from './yahooFinanceApi.js';\r\nimport technicalIndicatorsCache from './technicalIndicatorsCache.js';\r\n\r\nclass HybridTechnicalIndicatorsAPI {\r\n  constructor() {\r\n    this.preferPrecomputed = true; // å„ªå…ˆä½¿ç”¨é è¨ˆç®—æ•¸æ“š\r\n    this.maxPrecomputedAge = 24 * 60 * 60 * 1000; // 24å°æ™‚å…§çš„é è¨ˆç®—æ•¸æ“šå¯æ¥å—\r\n    this.fallbackToRealtime = true; // å…è¨±å›é€€åˆ°å¯¦æ™‚è¨ˆç®—\r\n  }\r\n\r\n  // ä¸»è¦çš„æŠ€è¡“æŒ‡æ¨™ç²å–æ–¹æ³•\r\n  async getTechnicalIndicators(symbol) {\r\n    console.log(`ğŸ” Getting technical indicators for ${symbol}`);\r\n    \r\n    try {\r\n      // ç­–ç•¥ 1: å˜—è©¦é è¨ˆç®—æ•¸æ“š\r\n      if (this.preferPrecomputed) {\r\n        const precomputedData = await this.tryPrecomputedData(symbol);\r\n        if (precomputedData) {\r\n          return precomputedData;\r\n        }\r\n      }\r\n      \r\n      // ç­–ç•¥ 2: æª¢æŸ¥æ¯æ—¥ç·©å­˜\r\n      const cachedData = await technicalIndicatorsCache.getTechnicalIndicators(symbol);\r\n      if (cachedData) {\r\n        console.log(`ğŸ“¦ Using daily cache for ${symbol}`);\r\n        return cachedData;\r\n      }\r\n      \r\n      // ç­–ç•¥ 3: å¯¦æ™‚è¨ˆç®— (å¦‚æœå…è¨±)\r\n      if (this.fallbackToRealtime) {\r\n        console.log(`âš¡ Falling back to real-time calculation for ${symbol}`);\r\n        const realtimeData = await yahooFinanceAPI.fetchTechnicalIndicatorsFromAPI(symbol);\r\n        \r\n        if (realtimeData && !realtimeData.error) {\r\n          // å­˜å…¥æ¯æ—¥ç·©å­˜\r\n          await technicalIndicatorsCache.setTechnicalIndicators(symbol, realtimeData);\r\n          return realtimeData;\r\n        }\r\n      }\r\n      \r\n      // æ‰€æœ‰ç­–ç•¥éƒ½å¤±æ•—\r\n      throw new Error('All data sources failed');\r\n      \r\n    } catch (error) {\r\n      console.error(`âŒ Failed to get technical indicators for ${symbol}:`, error);\r\n      \r\n      // è¿”å›éŒ¯èª¤ç‹€æ…‹çš„æŒ‡æ¨™\r\n      return this.createErrorResponse(symbol, error.message);\r\n    }\r\n  }\r\n\r\n  // å˜—è©¦ç²å–é è¨ˆç®—æ•¸æ“š\r\n  async tryPrecomputedData(symbol) {\r\n    try {\r\n      console.log(`ğŸ”„ Trying precomputed data for ${symbol}`);\r\n      \r\n      const data = await precomputedIndicatorsAPI.getTechnicalIndicators(symbol);\r\n      \r\n      // æª¢æŸ¥æ•¸æ“šå¹´é½¡\r\n      const computedAt = new Date(data.lastUpdated);\r\n      const age = Date.now() - computedAt.getTime();\r\n      \r\n      if (age <= this.maxPrecomputedAge) {\r\n        console.log(`âœ… Using precomputed data for ${symbol} (${data.dataAge})`);\r\n        return {\r\n          ...data,\r\n          source: `Precomputed (${data.dataAge})`,\r\n          loadTime: '<50ms'\r\n        };\r\n      } else {\r\n        console.log(`â° Precomputed data too old for ${symbol} (${data.dataAge})`);\r\n        return null;\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(`âŒ Precomputed data not available for ${symbol}: ${error.message}`);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // å‰µå»ºéŒ¯èª¤éŸ¿æ‡‰\r\n  createErrorResponse(symbol, errorMessage) {\r\n    return {\r\n      ma5: { value: null, signal: 'N/A' },\r\n      sma5: { value: null, signal: 'N/A' },\r\n      ma10: { value: null, signal: 'N/A' },\r\n      sma10: { value: null, signal: 'N/A' },\r\n      ma30: { value: null, signal: 'N/A' },\r\n      sma30: { value: null, signal: 'N/A' },\r\n      sma50: { value: null, signal: 'N/A' },\r\n      ichimokuBaseLine: { value: null, signal: 'N/A' },\r\n      ichimokuConversionLine: { value: null, signal: 'N/A' },\r\n      ichimokuLaggingSpan: { value: null, signal: 'N/A' },\r\n      vwma20: { value: null, signal: 'N/A' },\r\n      rsi14: { value: null, signal: 'N/A' },\r\n      adx14: { value: null, signal: 'N/A' },\r\n      macd: { value: null, signal: 'N/A' },\r\n      lastUpdated: new Date().toISOString(),\r\n      error: errorMessage,\r\n      source: 'Error',\r\n      symbol: symbol\r\n    };\r\n  }\r\n\r\n  // å¼·åˆ¶åˆ·æ–°æ•¸æ“š (è·³éæ‰€æœ‰ç·©å­˜)\r\n  async refreshTechnicalIndicators(symbol) {\r\n    console.log(`ğŸ”„ Force refreshing data for ${symbol}`);\r\n    \r\n    // æ¸…é™¤æ‰€æœ‰ç·©å­˜\r\n    technicalIndicatorsCache.clearSymbolCache(symbol);\r\n    precomputedIndicatorsAPI.clearCache();\r\n    \r\n    // å¼·åˆ¶å¯¦æ™‚è¨ˆç®—\r\n    const originalFallback = this.fallbackToRealtime;\r\n    const originalPrecomputed = this.preferPrecomputed;\r\n    \r\n    this.fallbackToRealtime = true;\r\n    this.preferPrecomputed = false;\r\n    \r\n    try {\r\n      const data = await this.getTechnicalIndicators(symbol);\r\n      return data;\r\n    } finally {\r\n      // æ¢å¾©åŸè¨­ç½®\r\n      this.fallbackToRealtime = originalFallback;\r\n      this.preferPrecomputed = originalPrecomputed;\r\n    }\r\n  }\r\n\r\n  // æ‰¹é‡ç²å–å¤šå€‹è‚¡ç¥¨çš„æŠ€è¡“æŒ‡æ¨™\r\n  async getBatchTechnicalIndicators(symbols, maxConcurrent = 3) {\r\n    const results = new Map();\r\n    const batches = [];\r\n    \r\n    // åˆ†æ‰¹è™•ç†\r\n    for (let i = 0; i < symbols.length; i += maxConcurrent) {\r\n      batches.push(symbols.slice(i, i + maxConcurrent));\r\n    }\r\n    \r\n    console.log(`ğŸ“¦ Processing ${symbols.length} symbols in ${batches.length} batches`);\r\n    \r\n    for (const batch of batches) {\r\n      const batchPromises = batch.map(async symbol => {\r\n        try {\r\n          const data = await this.getTechnicalIndicators(symbol);\r\n          return { symbol, success: true, data };\r\n        } catch (error) {\r\n          return { symbol, success: false, error: error.message };\r\n        }\r\n      });\r\n      \r\n      const batchResults = await Promise.all(batchPromises);\r\n      \r\n      batchResults.forEach(result => {\r\n        results.set(result.symbol, result);\r\n      });\r\n      \r\n      // æ‰¹æ¬¡é–“çŸ­æš«å»¶é²\r\n      if (batches.indexOf(batch) < batches.length - 1) {\r\n        await new Promise(resolve => setTimeout(resolve, 100));\r\n      }\r\n    }\r\n    \r\n    return results;\r\n  }\r\n\r\n  // ç²å–æ•¸æ“šæºç‹€æ…‹\r\n  async getDataSourceStatus() {\r\n    const status = {\r\n      precomputed: {\r\n        available: false,\r\n        symbols: [],\r\n        lastUpdate: null\r\n      },\r\n      cache: technicalIndicatorsCache.getCacheStats(),\r\n      realtime: {\r\n        available: true,\r\n        proxies: yahooFinanceAPI.corsProxies.length\r\n      }\r\n    };\r\n    \r\n    try {\r\n      const precomputedIndex = await precomputedIndicatorsAPI.getAvailableData();\r\n      if (precomputedIndex) {\r\n        status.precomputed = {\r\n          available: true,\r\n          symbols: precomputedIndex.symbols,\r\n          lastUpdate: precomputedIndex.generatedAt,\r\n          successful: precomputedIndex.successful,\r\n          failed: precomputedIndex.failed\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to get precomputed status:', error);\r\n    }\r\n    \r\n    return status;\r\n  }\r\n\r\n  // é…ç½®é¸é …\r\n  setPreferences(options) {\r\n    if (options.preferPrecomputed !== undefined) {\r\n      this.preferPrecomputed = options.preferPrecomputed;\r\n    }\r\n    if (options.fallbackToRealtime !== undefined) {\r\n      this.fallbackToRealtime = options.fallbackToRealtime;\r\n    }\r\n    if (options.maxPrecomputedAge !== undefined) {\r\n      this.maxPrecomputedAge = options.maxPrecomputedAge;\r\n    }\r\n    \r\n    console.log('Updated preferences:', {\r\n      preferPrecomputed: this.preferPrecomputed,\r\n      fallbackToRealtime: this.fallbackToRealtime,\r\n      maxPrecomputedAge: this.maxPrecomputedAge\r\n    });\r\n  }\r\n}\r\n\r\n// å‰µå»ºå–®ä¾‹å¯¦ä¾‹\r\nexport const hybridTechnicalIndicatorsAPI = new HybridTechnicalIndicatorsAPI();\r\nexport default hybridTechnicalIndicatorsAPI;","// ç·©å­˜é ç†±æœå‹™\r\n// åœ¨ç’°å¢ƒç‰ˆæœ¬æ›´æ–°æ™‚é è¼‰æ‰€æœ‰è‚¡ç¥¨çš„æŠ€è¡“æŒ‡æ¨™æ•¸æ“š\r\n\r\nimport { hybridTechnicalIndicatorsAPI } from './hybridTechnicalIndicatorsApi.js'\r\nimport { performanceCache, CACHE_KEYS } from './performanceCache.js'\r\nimport { performanceMonitor } from './performanceMonitor.js'\r\n\r\nclass CacheWarmupService {\r\n  constructor() {\r\n    this.isWarming = false\r\n    this.warmupProgress = 0\r\n    this.warmupResults = new Map()\r\n    this.warmupStartTime = null\r\n    this.warmupEndTime = null\r\n    \r\n    // é…ç½®\r\n    this.config = {\r\n      maxConcurrent: 2, // æœ€å¤§ä¸¦ç™¼æ•¸ï¼Œé¿å…éå¤š API è«‹æ±‚\r\n      batchDelay: 2000, // æ‰¹æ¬¡é–“å»¶é² (æ¯«ç§’)\r\n      retryAttempts: 2, // é‡è©¦æ¬¡æ•¸\r\n      retryDelay: 5000, // é‡è©¦å»¶é²\r\n      enableAutoWarmup: true, // æ˜¯å¦å•Ÿç”¨è‡ªå‹•é ç†±\r\n      warmupOnVersionChange: true, // ç‰ˆæœ¬æ›´æ–°æ™‚é ç†±\r\n      warmupOnFirstLoad: true, // é¦–æ¬¡è¼‰å…¥æ™‚é ç†±\r\n      warmupInterval: 6 * 60 * 60 * 1000 // 6 å°æ™‚è‡ªå‹•é ç†±ä¸€æ¬¡\r\n    }\r\n    \r\n    // è¿½è¹¤çš„è‚¡ç¥¨ä»£ç¢¼\r\n    this.trackedSymbols = [\r\n      'ASTS', 'RIVN', 'PL', 'ONDS', 'RDW', 'AVAV', 'MDB', 'ORCL', 'TSM', 'RKLB',\r\n      'CRM', 'NVDA', 'AVGO', 'AMZN', 'GOOG', 'META', 'NFLX', 'LEU', 'SMR', 'CRWV',\r\n      'IONQ', 'PLTR', 'HIMS', 'TSLA'\r\n    ]\r\n  }\r\n\r\n  // å•Ÿå‹•ç·©å­˜é ç†±æœå‹™\r\n  async start() {\r\n    console.log('ğŸ”¥ Starting Cache Warmup Service...')\r\n    \r\n    try {\r\n      // æª¢æŸ¥æ˜¯å¦éœ€è¦é ç†±\r\n      const shouldWarmup = await this.shouldPerformWarmup()\r\n      \r\n      if (shouldWarmup.needed) {\r\n        console.log(`ğŸ”¥ Warmup needed: ${shouldWarmup.reason}`)\r\n        await this.performWarmup()\r\n      } else {\r\n        console.log('âœ… Cache warmup not needed')\r\n      }\r\n      \r\n      // è¨­ç½®å®šæœŸé ç†±\r\n      if (this.config.enableAutoWarmup) {\r\n        this.schedulePeriodicWarmup()\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Failed to start cache warmup service:', error)\r\n    }\r\n  }\r\n\r\n  // æª¢æŸ¥æ˜¯å¦éœ€è¦åŸ·è¡Œé ç†±\r\n  async shouldPerformWarmup() {\r\n    try {\r\n      // æª¢æŸ¥ç‰ˆæœ¬è®Šæ›´\r\n      const currentVersion = await this.getCurrentVersion()\r\n      const lastWarmupVersion = this.getLastWarmupVersion()\r\n      \r\n      if (this.config.warmupOnVersionChange && currentVersion !== lastWarmupVersion) {\r\n        return {\r\n          needed: true,\r\n          reason: `Version changed from ${lastWarmupVersion} to ${currentVersion}`\r\n        }\r\n      }\r\n      \r\n      // æª¢æŸ¥é¦–æ¬¡è¼‰å…¥\r\n      const lastWarmupTime = this.getLastWarmupTime()\r\n      if (this.config.warmupOnFirstLoad && !lastWarmupTime) {\r\n        return {\r\n          needed: true,\r\n          reason: 'First load - no previous warmup found'\r\n        }\r\n      }\r\n      \r\n      // æª¢æŸ¥æ™‚é–“é–“éš”\r\n      if (lastWarmupTime) {\r\n        const timeSinceLastWarmup = Date.now() - lastWarmupTime\r\n        if (timeSinceLastWarmup > this.config.warmupInterval) {\r\n          return {\r\n            needed: true,\r\n            reason: `Time interval exceeded (${Math.round(timeSinceLastWarmup / 3600000)}h ago)`\r\n          }\r\n        }\r\n      }\r\n      \r\n      // æª¢æŸ¥ç·©å­˜è¦†è“‹ç‡\r\n      const cacheStats = await this.getCacheStats()\r\n      if (cacheStats.coverage < 0.8) { // å°‘æ–¼ 80% çš„è‚¡ç¥¨æœ‰ç·©å­˜\r\n        return {\r\n          needed: true,\r\n          reason: `Low cache coverage (${Math.round(cacheStats.coverage * 100)}%)`\r\n        }\r\n      }\r\n      \r\n      return { needed: false, reason: 'Cache is fresh and complete' }\r\n      \r\n    } catch (error) {\r\n      console.error('Error checking warmup need:', error)\r\n      return { needed: true, reason: 'Error checking - performing warmup as fallback' }\r\n    }\r\n  }\r\n\r\n  // åŸ·è¡Œç·©å­˜é ç†±\r\n  async performWarmup() {\r\n    if (this.isWarming) {\r\n      console.log('âš ï¸ Warmup already in progress')\r\n      return this.warmupResults\r\n    }\r\n\r\n    console.log(`ğŸ”¥ Starting cache warmup for ${this.trackedSymbols.length} symbols...`)\r\n    \r\n    this.isWarming = true\r\n    this.warmupProgress = 0\r\n    this.warmupResults.clear()\r\n    this.warmupStartTime = Date.now()\r\n    \r\n    const label = 'cache_warmup_total'\r\n    performanceMonitor.start(label)\r\n    \r\n    try {\r\n      // åˆ†æ‰¹è™•ç†è‚¡ç¥¨\r\n      const batches = this.createBatches(this.trackedSymbols, this.config.maxConcurrent)\r\n      \r\n      for (let i = 0; i < batches.length; i++) {\r\n        const batch = batches[i]\r\n        console.log(`ğŸ”¥ Processing batch ${i + 1}/${batches.length}: ${batch.join(', ')}`)\r\n        \r\n        // ä¸¦è¡Œè™•ç†æ‰¹æ¬¡ä¸­çš„è‚¡ç¥¨\r\n        const batchPromises = batch.map(symbol => this.warmupSymbol(symbol))\r\n        const batchResults = await Promise.all(batchPromises)\r\n        \r\n        // è¨˜éŒ„çµæœ\r\n        batchResults.forEach((result, index) => {\r\n          this.warmupResults.set(batch[index], result)\r\n        })\r\n        \r\n        // æ›´æ–°é€²åº¦\r\n        this.warmupProgress = ((i + 1) / batches.length) * 100\r\n        console.log(`ğŸ“Š Warmup progress: ${Math.round(this.warmupProgress)}%`)\r\n        \r\n        // æ‰¹æ¬¡é–“å»¶é²\r\n        if (i < batches.length - 1) {\r\n          console.log(`â³ Waiting ${this.config.batchDelay}ms before next batch...`)\r\n          await this.sleep(this.config.batchDelay)\r\n        }\r\n      }\r\n      \r\n      this.warmupEndTime = Date.now()\r\n      const duration = this.warmupEndTime - this.warmupStartTime\r\n      \r\n      // çµ±è¨ˆçµæœ\r\n      const stats = this.getWarmupStats()\r\n      \r\n      console.log(`ğŸ‰ Cache warmup completed in ${Math.round(duration / 1000)}s`)\r\n      console.log(`ğŸ“Š Results: ${stats.successful}/${stats.total} successful (${stats.successRate}%)`)\r\n      \r\n      // ä¿å­˜é ç†±è¨˜éŒ„\r\n      this.saveWarmupRecord(stats)\r\n      \r\n      return this.warmupResults\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Cache warmup failed:', error)\r\n      throw error\r\n    } finally {\r\n      this.isWarming = false\r\n      performanceMonitor.end(label)\r\n    }\r\n  }\r\n\r\n  // é ç†±å–®å€‹è‚¡ç¥¨\r\n  async warmupSymbol(symbol, attempt = 1) {\r\n    const startTime = Date.now()\r\n    \r\n    try {\r\n      console.log(`ğŸ”¥ Warming up ${symbol} (attempt ${attempt}/${this.config.retryAttempts + 1})`)\r\n      \r\n      // ç²å–æŠ€è¡“æŒ‡æ¨™æ•¸æ“š (é€™æœƒè§¸ç™¼ç·©å­˜)\r\n      const data = await hybridTechnicalIndicatorsAPI.getTechnicalIndicators(symbol)\r\n      \r\n      const duration = Date.now() - startTime\r\n      \r\n      if (data && !data.error) {\r\n        console.log(`âœ… ${symbol} warmed up successfully in ${duration}ms (${data.source})`)\r\n        return {\r\n          success: true,\r\n          duration,\r\n          source: data.source,\r\n          timestamp: new Date().toISOString()\r\n        }\r\n      } else {\r\n        throw new Error(data?.error || 'Unknown error')\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error(`âŒ Failed to warm up ${symbol} (attempt ${attempt}): ${error.message}`)\r\n      \r\n      // é‡è©¦æ©Ÿåˆ¶\r\n      if (attempt <= this.config.retryAttempts) {\r\n        console.log(`ğŸ”„ Retrying ${symbol} in ${this.config.retryDelay}ms...`)\r\n        await this.sleep(this.config.retryDelay)\r\n        return this.warmupSymbol(symbol, attempt + 1)\r\n      } else {\r\n        return {\r\n          success: false,\r\n          error: error.message,\r\n          duration: Date.now() - startTime,\r\n          timestamp: new Date().toISOString()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // å‰µå»ºæ‰¹æ¬¡\r\n  createBatches(items, batchSize) {\r\n    const batches = []\r\n    for (let i = 0; i < items.length; i += batchSize) {\r\n      batches.push(items.slice(i, i + batchSize))\r\n    }\r\n    return batches\r\n  }\r\n\r\n  // ç²å–ç•¶å‰ç‰ˆæœ¬\r\n  async getCurrentVersion() {\r\n    try {\r\n      // å˜—è©¦å¾ package.json æˆ–æ§‹å»ºä¿¡æ¯ç²å–ç‰ˆæœ¬\r\n      const response = await fetch('/package.json')\r\n      if (response.ok) {\r\n        const pkg = await response.json()\r\n        return pkg.version || '1.0.0'\r\n      }\r\n    } catch (error) {\r\n      // å¦‚æœç„¡æ³•ç²å–ï¼Œä½¿ç”¨æ§‹å»ºæ™‚é–“æˆ³\r\n      return Date.now().toString()\r\n    }\r\n    \r\n    return '1.0.0'\r\n  }\r\n\r\n  // ç²å–ä¸Šæ¬¡é ç†±ç‰ˆæœ¬\r\n  getLastWarmupVersion() {\r\n    return localStorage.getItem('cache_warmup_version') || null\r\n  }\r\n\r\n  // ç²å–ä¸Šæ¬¡é ç†±æ™‚é–“\r\n  getLastWarmupTime() {\r\n    const time = localStorage.getItem('cache_warmup_time')\r\n    return time ? parseInt(time) : null\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆ\r\n  async getCacheStats() {\r\n    let cachedCount = 0\r\n    \r\n    for (const symbol of this.trackedSymbols) {\r\n      try {\r\n        // æª¢æŸ¥æ˜¯å¦æœ‰ç·©å­˜æ•¸æ“š\r\n        const cached = performanceCache.get(`technical_indicators_${symbol}`)\r\n        if (cached) {\r\n          cachedCount++\r\n        }\r\n      } catch (error) {\r\n        // å¿½ç•¥éŒ¯èª¤\r\n      }\r\n    }\r\n    \r\n    return {\r\n      total: this.trackedSymbols.length,\r\n      cached: cachedCount,\r\n      coverage: cachedCount / this.trackedSymbols.length\r\n    }\r\n  }\r\n\r\n  // ç²å–é ç†±çµ±è¨ˆ\r\n  getWarmupStats() {\r\n    const results = Array.from(this.warmupResults.values())\r\n    const successful = results.filter(r => r.success).length\r\n    const failed = results.filter(r => !r.success).length\r\n    \r\n    return {\r\n      total: results.length,\r\n      successful,\r\n      failed,\r\n      successRate: Math.round((successful / results.length) * 100),\r\n      duration: this.warmupEndTime - this.warmupStartTime,\r\n      averageDuration: results.reduce((sum, r) => sum + r.duration, 0) / results.length\r\n    }\r\n  }\r\n\r\n  // ä¿å­˜é ç†±è¨˜éŒ„\r\n  saveWarmupRecord(stats) {\r\n    const currentVersion = this.getCurrentVersion()\r\n    \r\n    localStorage.setItem('cache_warmup_version', currentVersion)\r\n    localStorage.setItem('cache_warmup_time', Date.now().toString())\r\n    localStorage.setItem('cache_warmup_stats', JSON.stringify(stats))\r\n    \r\n    console.log('ğŸ’¾ Warmup record saved')\r\n  }\r\n\r\n  // è¨­ç½®å®šæœŸé ç†±\r\n  schedulePeriodicWarmup() {\r\n    console.log(`â° Scheduled periodic warmup every ${this.config.warmupInterval / 3600000} hours`)\r\n    \r\n    setInterval(async () => {\r\n      console.log('â° Periodic warmup triggered')\r\n      try {\r\n        await this.performWarmup()\r\n      } catch (error) {\r\n        console.error('âŒ Periodic warmup failed:', error)\r\n      }\r\n    }, this.config.warmupInterval)\r\n  }\r\n\r\n  // æ‰‹å‹•è§¸ç™¼é ç†±\r\n  async triggerManualWarmup() {\r\n    console.log('ğŸ”¥ Manual warmup triggered')\r\n    return this.performWarmup()\r\n  }\r\n\r\n  // ç²å–é ç†±ç‹€æ…‹\r\n  getWarmupStatus() {\r\n    return {\r\n      isWarming: this.isWarming,\r\n      progress: this.warmupProgress,\r\n      results: Object.fromEntries(this.warmupResults),\r\n      lastWarmupTime: this.getLastWarmupTime(),\r\n      lastWarmupVersion: this.getLastWarmupVersion(),\r\n      trackedSymbols: this.trackedSymbols,\r\n      config: this.config\r\n    }\r\n  }\r\n\r\n  // å·¥å…·å‡½æ•¸ï¼šå»¶é²\r\n  sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n  }\r\n\r\n  // æ›´æ–°é…ç½®\r\n  updateConfig(newConfig) {\r\n    this.config = { ...this.config, ...newConfig }\r\n    console.log('ğŸ”§ Cache warmup config updated:', this.config)\r\n  }\r\n\r\n  // æ·»åŠ è¿½è¹¤è‚¡ç¥¨\r\n  addTrackedSymbol(symbol) {\r\n    if (!this.trackedSymbols.includes(symbol)) {\r\n      this.trackedSymbols.push(symbol)\r\n      console.log(`â• Added ${symbol} to tracked symbols`)\r\n    }\r\n  }\r\n\r\n  // ç§»é™¤è¿½è¹¤è‚¡ç¥¨\r\n  removeTrackedSymbol(symbol) {\r\n    const index = this.trackedSymbols.indexOf(symbol)\r\n    if (index > -1) {\r\n      this.trackedSymbols.splice(index, 1)\r\n      console.log(`â– Removed ${symbol} from tracked symbols`)\r\n    }\r\n  }\r\n}\r\n\r\n// å‰µå»ºå…¨å±€å¯¦ä¾‹\r\nexport const cacheWarmupService = new CacheWarmupService()\r\nexport default cacheWarmupService","<template>\r\n  <div \r\n    class=\"lazy-widget\" \r\n    :id=\"containerId\" \r\n    ref=\"container\"\r\n    :style=\"{ height: height }\"\r\n  >\r\n    <!-- è¼‰å…¥å‰çš„ä½”ä½ç¬¦ -->\r\n    <div v-if=\"!isVisible && !loaded\" class=\"widget-placeholder\">\r\n      <div class=\"placeholder-content\">\r\n        <div class=\"placeholder-icon\">ğŸ“Š</div>\r\n        <div class=\"placeholder-text\">{{ widgetType }} Widget</div>\r\n        <div class=\"placeholder-subtext\">Scroll to load</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- è¼‰å…¥ä¸­ç‹€æ…‹ -->\r\n    <div v-if=\"isVisible && !loaded && !error\" class=\"widget-loading\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <span>Loading {{ widgetType }}...</span>\r\n    </div>\r\n    \r\n    <!-- éŒ¯èª¤ç‹€æ…‹ -->\r\n    <div v-if=\"error\" class=\"widget-error\">\r\n      <span>âš ï¸ Failed to load</span>\r\n      <button @click=\"retry\" class=\"retry-btn\">Retry</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LazyTradingViewWidget',\r\n  props: {\r\n    widgetType: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    config: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    scriptUrl: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '400px'\r\n    },\r\n    priority: {\r\n      type: Number,\r\n      default: 1 // 1=é«˜å„ªå…ˆç´š, 2=ä¸­å„ªå…ˆç´š, 3=ä½å„ªå…ˆç´š\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      loaded: false,\r\n      error: false,\r\n      observer: null,\r\n      loadStartTime: 0\r\n    }\r\n  },\r\n  computed: {\r\n    containerId() {\r\n      return `lazy-widget-${this.widgetType}-${Date.now()}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.setupIntersectionObserver()\r\n  },\r\n  beforeUnmount() {\r\n    if (this.observer) {\r\n      this.observer.disconnect()\r\n    }\r\n  },\r\n  methods: {\r\n    setupIntersectionObserver() {\r\n      // æ ¹æ“šå„ªå…ˆç´šè¨­ç½®ä¸åŒçš„ rootMargin\r\n      const rootMargins = {\r\n        1: '200px', // é«˜å„ªå…ˆç´šï¼šæå‰ 200px è¼‰å…¥\r\n        2: '100px', // ä¸­å„ªå…ˆç´šï¼šæå‰ 100px è¼‰å…¥\r\n        3: '50px'   // ä½å„ªå…ˆç´šï¼šæå‰ 50px è¼‰å…¥\r\n      }\r\n\r\n      this.observer = new IntersectionObserver(\r\n        (entries) => {\r\n          entries.forEach((entry) => {\r\n            if (entry.isIntersecting && !this.loaded && !this.error) {\r\n              this.isVisible = true\r\n              this.loadWidget()\r\n              this.observer.disconnect() // è¼‰å…¥å¾Œåœæ­¢è§€å¯Ÿ\r\n            }\r\n          })\r\n        },\r\n        {\r\n          rootMargin: rootMargins[this.priority] || '100px',\r\n          threshold: 0.1\r\n        }\r\n      )\r\n\r\n      this.observer.observe(this.$refs.container)\r\n    },\r\n\r\n    async loadWidget() {\r\n      this.loadStartTime = performance.now()\r\n      \r\n      try {\r\n        // æ ¹æ“šå„ªå…ˆç´šæ·»åŠ å»¶é²\r\n        const delays = {\r\n          1: 0,     // é«˜å„ªå…ˆç´šï¼šç«‹å³è¼‰å…¥\r\n          2: 500,   // ä¸­å„ªå…ˆç´šï¼šå»¶é² 500ms\r\n          3: 1000   // ä½å„ªå…ˆç´šï¼šå»¶é² 1000ms\r\n        }\r\n\r\n        const delay = delays[this.priority] || 0\r\n        if (delay > 0) {\r\n          await new Promise(resolve => setTimeout(resolve, delay))\r\n        }\r\n\r\n        await this.createWidget()\r\n      } catch (err) {\r\n        console.error('Failed to load widget:', err)\r\n        this.error = true\r\n      }\r\n    },\r\n\r\n    async createWidget() {\r\n      return new Promise((resolve, reject) => {\r\n        this.$nextTick(() => {\r\n          const container = this.$refs.container\r\n          if (!container) {\r\n            reject(new Error('Container not found'))\r\n            return\r\n          }\r\n\r\n          // æ¸…é™¤ç¾æœ‰å…§å®¹\r\n          const existingContent = container.querySelector('.widget-placeholder, .widget-loading')\r\n          if (existingContent) {\r\n            existingContent.style.display = 'none'\r\n          }\r\n\r\n          // å‰µå»º TradingView å®¹å™¨çµæ§‹\r\n          const widgetContainer = document.createElement('div')\r\n          widgetContainer.className = 'tradingview-widget-container'\r\n          widgetContainer.style.height = '100%'\r\n          widgetContainer.style.width = '100%'\r\n\r\n          const widgetContent = document.createElement('div')\r\n          widgetContent.className = 'tradingview-widget-container__widget'\r\n\r\n          widgetContainer.appendChild(widgetContent)\r\n\r\n          const script = document.createElement('script')\r\n          script.type = 'text/javascript'\r\n          script.src = this.scriptUrl\r\n          script.async = true\r\n          script.innerHTML = JSON.stringify(this.config)\r\n          \r\n          // è¨­å®šè¶…æ™‚ - æ ¹æ“šå„ªå…ˆç´šèª¿æ•´\r\n          const timeouts = {\r\n            1: 5000,  // é«˜å„ªå…ˆç´šï¼š5ç§’è¶…æ™‚\r\n            2: 8000,  // ä¸­å„ªå…ˆç´šï¼š8ç§’è¶…æ™‚\r\n            3: 10000  // ä½å„ªå…ˆç´šï¼š10ç§’è¶…æ™‚\r\n          }\r\n          \r\n          const timeout = setTimeout(() => {\r\n            this.error = true\r\n            reject(new Error('Widget load timeout'))\r\n          }, timeouts[this.priority] || 8000)\r\n          \r\n          script.onload = () => {\r\n            clearTimeout(timeout)\r\n            this.loaded = true\r\n            \r\n            const loadTime = performance.now() - this.loadStartTime\r\n            console.log(`${this.widgetType} widget loaded in ${loadTime.toFixed(2)}ms (Priority: ${this.priority})`)\r\n            \r\n            resolve()\r\n          }\r\n          \r\n          script.onerror = () => {\r\n            clearTimeout(timeout)\r\n            this.error = true\r\n            reject(new Error('Script load failed'))\r\n          }\r\n          \r\n          widgetContent.appendChild(script)\r\n          container.appendChild(widgetContainer)\r\n        })\r\n      })\r\n    },\r\n\r\n    async retry() {\r\n      this.error = false\r\n      this.loaded = false\r\n      await this.loadWidget()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.lazy-widget {\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* ä½”ä½ç¬¦æ¨£å¼ */\r\n.widget-placeholder {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n  border: 2px dashed #dee2e6;\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.widget-placeholder:hover {\r\n  background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\r\n  border-color: #adb5bd;\r\n}\r\n\r\n.placeholder-content {\r\n  text-align: center;\r\n  color: #6c757d;\r\n}\r\n\r\n.placeholder-icon {\r\n  font-size: 2rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.placeholder-text {\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.placeholder-subtext {\r\n  font-size: 0.8rem;\r\n  opacity: 0.7;\r\n}\r\n\r\n/* è¼‰å…¥ä¸­æ¨£å¼ */\r\n.widget-loading {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  color: #6c757d;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: 3px solid #e9ecef;\r\n  border-top: 3px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.widget-loading span {\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n/* éŒ¯èª¤æ¨£å¼ */\r\n.widget-error {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  color: #721c24;\r\n}\r\n\r\n.retry-btn {\r\n  margin-top: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #c82333;\r\n}\r\n\r\n/* TradingView å®¹å™¨æ¨£å¼ */\r\n:global(.lazy-widget .tradingview-widget-container) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n:global(.lazy-widget .tradingview-widget-container__widget) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n}\r\n</style>","<template>\r\n  <div class=\"fear-greed-gauge-container\">\r\n    <div class=\"widget-header\">\r\n      <h3>Fear & Greed Index Gauge</h3>\r\n      <div class=\"chart-info\">\r\n        <span class=\"chart-description\">Based on Zeiierman's Algorithm</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"market-fng-gauge__meter-container\">\r\n      <!-- Left Side: Current Sentiment + Gauge -->\r\n      <div class=\"left-side\">\r\n        <!-- Current Sentiment Status - Above gauge, left side only -->\r\n        <div class=\"current-sentiment\" :class=\"sentimentClass\">\r\n          <div class=\"sentiment-indicator\">\r\n            <div class=\"sentiment-dot\"></div>\r\n            <span class=\"sentiment-text\">{{ currentSentiment }}</span>\r\n          </div>\r\n          <div class=\"sentiment-description\">{{ sentimentDescription }}</div>\r\n        </div>\r\n        \r\n        <!-- Semicircle Gauge -->\r\n        <div class=\"gauge-wrapper\">\r\n        <svg class=\"gauge-svg\" viewBox=\"0 0 400 240\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <!-- Background Arc with Color Zones -->\r\n          <defs>\r\n            <linearGradient id=\"gaugeGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n              <!-- æ¥µåº¦ææ‡¼ (0-25): é™ä½é£½å’Œåº¦çš„ç´…è‰² -->\r\n              <stop offset=\"0%\" style=\"stop-color:#e57373;stop-opacity:1\" />\r\n              <stop offset=\"12.5%\" style=\"stop-color:#ef5350;stop-opacity:1\" />\r\n              <stop offset=\"25%\" style=\"stop-color:#ffb74d;stop-opacity:1\" />\r\n              \r\n              <!-- ææ‡¼ (25-45): é™ä½é£½å’Œåº¦çš„æ©™è‰² -->\r\n              <stop offset=\"35%\" style=\"stop-color:#ffcc80;stop-opacity:1\" />\r\n              <stop offset=\"45%\" style=\"stop-color:#ffd54f;stop-opacity:1\" />\r\n              \r\n              <!-- ä¸­æ€§ (45-55): é™ä½é£½å’Œåº¦çš„é»ƒè‰² -->\r\n              <stop offset=\"50%\" style=\"stop-color:#fff176;stop-opacity:1\" />\r\n              <stop offset=\"55%\" style=\"stop-color:#fff59d;stop-opacity:1\" />\r\n              \r\n              <!-- è²ªå©ª (55-75): é™ä½é£½å’Œåº¦çš„ç¶ è‰² -->\r\n              <stop offset=\"65%\" style=\"stop-color:#aed581;stop-opacity:1\" />\r\n              <stop offset=\"75%\" style=\"stop-color:#81c784;stop-opacity:1\" />\r\n              \r\n              <!-- æ¥µåº¦è²ªå©ª (75-100): é™ä½é£½å’Œåº¦çš„æ·±ç¶ è‰² -->\r\n              <stop offset=\"87.5%\" style=\"stop-color:#66bb6a;stop-opacity:1\" />\r\n              <stop offset=\"100%\" style=\"stop-color:#4db6ac;stop-opacity:1\" />\r\n            </linearGradient>\r\n          </defs>\r\n          \r\n          <!-- Main Arc -->\r\n          <path\r\n            d=\"M 40 200 A 160 160 0 0 1 360 200\"\r\n            fill=\"none\"\r\n            stroke=\"url(#gaugeGradient)\"\r\n            stroke-width=\"20\"\r\n            stroke-linecap=\"round\"\r\n          />\r\n          \r\n          <!-- Needle -->\r\n          <g class=\"needle-group\">\r\n            <line\r\n              :x1=\"200\"\r\n              :y1=\"200\"\r\n              :x2=\"needleX\"\r\n              :y2=\"needleY\"\r\n              stroke=\"#333\"\r\n              stroke-width=\"4\"\r\n              stroke-linecap=\"round\"\r\n              class=\"gauge-needle\"\r\n            />\r\n            <!-- Needle Center -->\r\n            <circle cx=\"200\" cy=\"200\" r=\"8\" fill=\"#333\" />\r\n            <circle cx=\"200\" cy=\"200\" r=\"4\" fill=\"#fff\" />\r\n          </g>\r\n          \r\n          <!-- Value Display -->\r\n          <text x=\"200\" y=\"230\" text-anchor=\"middle\" class=\"gauge-value\">{{ fearGreedValue.toFixed(0) }}</text>\r\n        </svg>\r\n        \r\n        <!-- Labels -->\r\n        <div class=\"gauge-labels\">\r\n          <div class=\"label-item extreme-fear\">\r\n            <span class=\"label-text\">Extreme Fear</span>\r\n            <span class=\"label-range\">0-25</span>\r\n          </div>\r\n          <div class=\"label-item fear\">\r\n            <span class=\"label-text\">Fear</span>\r\n            <span class=\"label-range\">25-45</span>\r\n          </div>\r\n          <div class=\"label-item neutral\">\r\n            <span class=\"label-text\">Neutral</span>\r\n            <span class=\"label-range\">45-55</span>\r\n          </div>\r\n          <div class=\"label-item greed\">\r\n            <span class=\"label-text\">Greed</span>\r\n            <span class=\"label-range\">55-75</span>\r\n          </div>\r\n          <div class=\"label-item extreme-greed\">\r\n            <span class=\"label-text\">Extreme Greed</span>\r\n            <span class=\"label-range\">75-100</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </div>\r\n      \r\n      <!-- Right Side: Component Breakdown -->\r\n      <div class=\"components-section\">\r\n        <h4>Index Components</h4>\r\n        <div class=\"components-grid\">\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">S&P 500 vs 125-day MA</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.sp125 + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.sp125 }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">52-Week High/Low Strength</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.hl52 + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.hl52 }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">Market Breadth (McClellan)</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.mcsi + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.mcsi }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">Put/Call Ratio</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.putCall + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.putCall }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">VIX vs 50-day MA</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.vix50 + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.vix50 }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">Safe Haven Demand</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.safe + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.safe }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"component-item\">\r\n            <span class=\"component-name\">Junk Bond Demand</span>\r\n            <div class=\"component-bar\">\r\n              <div class=\"component-fill\" :style=\"{ width: components.yieldSpread + '%' }\"></div>\r\n              <span class=\"component-value\">{{ components.yieldSpread }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ZeiiermanFearGreedGauge',\r\n  data() {\r\n    return {\r\n      // Mock data based on Zeiierman's algorithm components - Adjusted for index value of 58\r\n      components: {\r\n        sp125: 65,        // S&P 500 vs 125-day moving average\r\n        hl52: 52,         // 52-week high/low strength  \r\n        mcsi: 60,         // McClellan Summation Index (Market Breadth)\r\n        putCall: 45,      // Put/Call ratio (inverted)\r\n        vix50: 55,        // VIX vs 50-day MA (inverted)\r\n        safe: 62,         // Safe Haven Demand (Stock vs Bond performance)\r\n        yieldSpread: 67   // Junk Bond Demand (Yield spread)\r\n      },\r\n      lastUpdate: new Date()\r\n    }\r\n  },\r\n  computed: {\r\n    fearGreedValue() {\r\n      // Calculate average of all components (Zeiierman's method)\r\n      const values = Object.values(this.components)\r\n      const average = values.reduce((sum, val) => sum + val, 0) / values.length\r\n      return average\r\n    },\r\n    \r\n    needleAngle() {\r\n      // Convert 0-100 value to -90 to +90 degrees (180 degree arc)\r\n      return (this.fearGreedValue - 50) * 1.8\r\n    },\r\n    \r\n    needleX() {\r\n      const angle = this.needleAngle * (Math.PI / 180)\r\n      return 200 + 140 * Math.sin(angle)\r\n    },\r\n    \r\n    needleY() {\r\n      const angle = this.needleAngle * (Math.PI / 180)\r\n      return 200 - 140 * Math.cos(angle)\r\n    },\r\n    \r\n    currentSentiment() {\r\n      if (this.fearGreedValue <= 25) return 'Extreme Fear'\r\n      if (this.fearGreedValue <= 45) return 'Fear'\r\n      if (this.fearGreedValue <= 55) return 'Neutral'\r\n      if (this.fearGreedValue <= 75) return 'Greed'\r\n      return 'Extreme Greed'\r\n    },\r\n    \r\n    sentimentClass() {\r\n      if (this.fearGreedValue <= 25) return 'extreme-fear'\r\n      if (this.fearGreedValue <= 45) return 'fear'\r\n      if (this.fearGreedValue <= 55) return 'neutral'\r\n      if (this.fearGreedValue <= 75) return 'greed'\r\n      return 'extreme-greed'\r\n    },\r\n    \r\n    sentimentDescription() {\r\n      if (this.fearGreedValue <= 25) return 'Market showing extreme pessimism and panic selling conditions'\r\n      if (this.fearGreedValue <= 45) return 'Elevated market anxiety with defensive investor positioning'\r\n      if (this.fearGreedValue <= 55) return 'Balanced market sentiment with mixed investor signals'\r\n      if (this.fearGreedValue <= 75) return 'Optimistic market conditions with increased risk appetite'\r\n      return 'Excessive market euphoria indicating potential overvaluation'\r\n    }\r\n  },\r\n  mounted() {\r\n    // ä¸æ‰§è¡Œè‡ªåŠ¨æ›´æ–°ï¼Œä¿æŒå›ºå®šçš„58å€¼\r\n    console.log('Zeiierman Fear & Greed Index loaded with fixed value:', this.fearGreedValue)\r\n  },\r\n  methods: {\r\n    // ä¿ç•™æ–¹æ³•ä»¥å¤‡å°†æ¥éœ€è¦æ‰‹åŠ¨æ›´æ–°\r\n    updateComponents() {\r\n      // åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™é‡Œä¼šè·å–çœŸå®çš„å¸‚åœºæ•°æ®\r\n      this.lastUpdate = new Date()\r\n      console.log('Zeiierman Fear & Greed Index:', this.fearGreedValue)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fear-greed-gauge-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden; /* Prevent container overflow */\r\n  position: relative;\r\n}\r\n\r\n.widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.widget-header h3 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.chart-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n}\r\n\r\n.chart-description {\r\n  font-size: 0.85rem;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n}\r\n\r\n.market-fng-gauge__meter-container {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 2.5rem;\r\n  align-items: start;\r\n  overflow: hidden; /* Prevent grid overflow */\r\n}\r\n\r\n/* Left Side Container */\r\n.left-side {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Current Sentiment - Now positioned in left side only */\r\n.current-sentiment {\r\n  text-align: center;\r\n  padding: 1.25rem;\r\n  border-radius: 12px;\r\n  background: #f8f9fa;\r\n  border: 2px solid transparent;\r\n  transition: all 0.3s ease;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Gauge Styles */\r\n.gauge-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.gauge-svg {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  height: auto;\r\n  overflow: visible; /* Allow SVG elements to be visible */\r\n}\r\n\r\n.gauge-value {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  fill: #333;\r\n}\r\n\r\n.needle-group {\r\n  transition: all 0.8s ease-in-out;\r\n}\r\n\r\n/* Labels */\r\n.gauge-labels {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  margin-top: 1rem;\r\n  font-size: 0.75rem;\r\n  overflow: hidden;\r\n}\r\n\r\n.label-item {\r\n  text-align: center;\r\n  flex: 1;\r\n  min-width: 0; /* Allow flex items to shrink */\r\n}\r\n\r\n.label-text {\r\n  display: block;\r\n  font-weight: 600;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.label-range {\r\n  display: block;\r\n  font-size: 0.7rem;\r\n  opacity: 0.7;\r\n}\r\n\r\n.label-item.extreme-fear .label-text { color: #a67c7c; }\r\n.label-item.fear .label-text { color: #b8956f; }\r\n.label-item.neutral .label-text { color: #b8b56f; }\r\n.label-item.greed .label-text { color: #7ca67c; }\r\n.label-item.extreme-greed .label-text { color: #7ca688; }\r\n\r\n/* Components Section - Right side styling */\r\n.components-section {\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.components-section h4 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.5rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.components-grid {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  max-width: 100%;\r\n}\r\n\r\n.component-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  max-width: 100%;\r\n}\r\n\r\n.component-name {\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  color: #495057;\r\n  word-wrap: break-word;\r\n}\r\n\r\n.component-bar {\r\n  position: relative;\r\n  height: 24px;\r\n  background: #e9ecef;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  width: 100%;\r\n}\r\n\r\n.component-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #c67373 0%, #d4956f 25%, #d4c56f 50%, #7ca67c 75%, #7ca688 100%);\r\n  border-radius: 12px;\r\n  transition: width 0.8s ease;\r\n}\r\n\r\n.component-value {\r\n  position: absolute;\r\n  right: 8px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  text-shadow: 0 0 3px rgba(255,255,255,0.8);\r\n}\r\n\r\n.sentiment-indicator {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.75rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.sentiment-dot {\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n.sentiment-text {\r\n  font-size: 1.4rem;\r\n  font-weight: 700;\r\n}\r\n\r\n.sentiment-description {\r\n  font-size: 0.95rem;\r\n  color: #6c757d;\r\n  line-height: 1.5;\r\n}\r\n\r\n/* Sentiment Colors */\r\n.extreme-fear {\r\n  background: linear-gradient(135deg, #f5f0f0, #f8f5f5);\r\n  border-color: #a67c7c;\r\n}\r\n.extreme-fear .sentiment-dot { background: #a67c7c; }\r\n.extreme-fear .sentiment-text { color: #a67c7c; }\r\n\r\n.fear {\r\n  background: linear-gradient(135deg, #f5f3f0, #f8f6f5);\r\n  border-color: #b8956f;\r\n}\r\n.fear .sentiment-dot { background: #b8956f; }\r\n.fear .sentiment-text { color: #b8956f; }\r\n\r\n.neutral {\r\n  background: linear-gradient(135deg, #f5f5f0, #f8f8f5);\r\n  border-color: #b8b56f;\r\n}\r\n.neutral .sentiment-dot { background: #b8b56f; }\r\n.neutral .sentiment-text { color: #a6a35f; }\r\n\r\n.greed {\r\n  background: linear-gradient(135deg, #f0f5f0, #f5f8f5);\r\n  border-color: #7ca67c;\r\n}\r\n.greed .sentiment-dot { background: #7ca67c; }\r\n.greed .sentiment-text { color: #7ca67c; }\r\n\r\n.extreme-greed {\r\n  background: linear-gradient(135deg, #f0f5f2, #f5f8f6);\r\n  border-color: #7ca688;\r\n}\r\n.extreme-greed .sentiment-dot { background: #7ca688; }\r\n.extreme-greed .sentiment-text { color: #6f9577; }\r\n\r\n@keyframes pulse {\r\n  0%, 100% { opacity: 1; transform: scale(1); }\r\n  50% { opacity: 0.7; transform: scale(1.1); }\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 1024px) {\r\n  .market-fng-gauge__meter-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 2rem;\r\n  }\r\n  \r\n  .left-side {\r\n    gap: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .widget-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .chart-info {\r\n    align-items: flex-start;\r\n  }\r\n  \r\n  .gauge-labels {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .label-item {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 200px;\r\n  }\r\n  \r\n  .current-sentiment {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .sentiment-text {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  .market-fng-gauge__meter-container {\r\n    gap: 1.5rem;\r\n  }\r\n  \r\n  .left-side {\r\n    gap: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .fear-greed-gauge-container {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem 2rem -0.25rem;\r\n  }\r\n  \r\n  .current-sentiment {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .sentiment-text {\r\n    font-size: 1.1rem;\r\n  }\r\n  \r\n  .sentiment-description {\r\n    font-size: 0.85rem;\r\n  }\r\n  \r\n  .market-fng-gauge__meter-container {\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .left-side {\r\n    gap: 0.75rem;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"performance-monitor\" v-if=\"showMonitor\">\r\n    <div class=\"monitor-header\">\r\n      <h4>Performance Monitor</h4>\r\n      <button @click=\"toggleMonitor\" class=\"toggle-btn\">\r\n        {{ expanded ? 'âˆ’' : '+' }}\r\n      </button>\r\n    </div>\r\n    \r\n    <div v-if=\"expanded\" class=\"monitor-content\">\r\n      <div class=\"metrics-grid\">\r\n        <div class=\"metric-card\">\r\n          <div class=\"metric-label\">Page Load</div>\r\n          <div class=\"metric-value\">{{ pageLoadTime }}ms</div>\r\n        </div>\r\n        \r\n        <div class=\"metric-card\">\r\n          <div class=\"metric-label\">Widgets Loaded</div>\r\n          <div class=\"metric-value\">{{ widgetsLoaded }}/{{ totalWidgets }}</div>\r\n        </div>\r\n        \r\n        <div class=\"metric-card\">\r\n          <div class=\"metric-label\">Total Size</div>\r\n          <div class=\"metric-value\">{{ totalSize }}</div>\r\n        </div>\r\n        \r\n        <div class=\"metric-card\">\r\n          <div class=\"metric-label\">Memory Usage</div>\r\n          <div class=\"metric-value\">{{ memoryUsage }}</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"widgets-list\">\r\n        <h5>Widget Load Times</h5>\r\n        <div v-for=\"widget in widgetTimes\" :key=\"widget.id\" class=\"widget-item\">\r\n          <span class=\"widget-name\">{{ widget.name }}</span>\r\n          <span class=\"widget-time\" :class=\"getTimeClass(widget.time)\">\r\n            {{ widget.time }}ms\r\n          </span>\r\n          <span class=\"widget-priority\">P{{ widget.priority }}</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"actions\">\r\n        <button @click=\"clearMetrics\" class=\"clear-btn\">Clear</button>\r\n        <button @click=\"exportMetrics\" class=\"export-btn\">Export</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PerformanceMonitor',\r\n  data() {\r\n    return {\r\n      showMonitor: false,\r\n      expanded: true, // é è¨­ç‚ºå±•é–‹ç‹€æ…‹\r\n      pageLoadTime: 0,\r\n      widgetsLoaded: 0,\r\n      totalWidgets: 0,\r\n      widgetTimes: [],\r\n      startTime: 0\r\n    }\r\n  },\r\n  computed: {\r\n    totalSize() {\r\n      if (typeof performance !== 'undefined' && performance.getEntriesByType) {\r\n        const entries = performance.getEntriesByType('resource')\r\n        const totalBytes = entries.reduce((sum, entry) => {\r\n          return sum + (entry.transferSize || 0)\r\n        }, 0)\r\n        \r\n        if (totalBytes > 1024 * 1024) {\r\n          return `${(totalBytes / (1024 * 1024)).toFixed(1)}MB`\r\n        } else if (totalBytes > 1024) {\r\n          return `${(totalBytes / 1024).toFixed(1)}KB`\r\n        }\r\n        return `${totalBytes}B`\r\n      }\r\n      return 'N/A'\r\n    },\r\n    \r\n    memoryUsage() {\r\n      if (typeof performance !== 'undefined' && performance.memory) {\r\n        const used = performance.memory.usedJSHeapSize\r\n        if (used > 1024 * 1024) {\r\n          return `${(used / (1024 * 1024)).toFixed(1)}MB`\r\n        }\r\n        return `${(used / 1024).toFixed(1)}KB`\r\n      }\r\n      return 'N/A'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.startTime = performance.now()\r\n    this.setupPerformanceTracking()\r\n    \r\n    // æª¢æŸ¥æ˜¯å¦åœ¨é–‹ç™¼ç’°å¢ƒæˆ–æœ‰ debug åƒæ•¸\r\n    const isDev = process.env.NODE_ENV === 'development'\r\n    const hasDebug = new URLSearchParams(window.location.search).has('debug')\r\n    this.showMonitor = isDev || hasDebug\r\n    \r\n    // ç›£è½é é¢è¼‰å…¥å®Œæˆ\r\n    if (document.readyState === 'complete') {\r\n      this.calculatePageLoadTime()\r\n    } else {\r\n      window.addEventListener('load', this.calculatePageLoadTime)\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('load', this.calculatePageLoadTime)\r\n  },\r\n  methods: {\r\n    setupPerformanceTracking() {\r\n      // ç›£è½ console.log ä¾†è¿½è¹¤ widget è¼‰å…¥æ™‚é–“\r\n      const originalLog = console.log\r\n      console.log = (...args) => {\r\n        const message = args.join(' ')\r\n        \r\n        // æª¢æŸ¥æ˜¯å¦æ˜¯ widget è¼‰å…¥è¨Šæ¯\r\n        const widgetMatch = message.match(/Widget (.+) loaded in ([\\d.]+)ms \\(Priority: (\\d+)\\)/)\r\n        if (widgetMatch) {\r\n          this.addWidgetTime({\r\n            name: widgetMatch[1],\r\n            time: parseFloat(widgetMatch[2]),\r\n            priority: parseInt(widgetMatch[3])\r\n          })\r\n        }\r\n        \r\n        // æª¢æŸ¥æ˜¯å¦æ˜¯ LazyTradingViewWidget è¼‰å…¥è¨Šæ¯\r\n        const lazyMatch = message.match(/(.+) widget loaded in ([\\d.]+)ms \\(Priority: (\\d+)\\)/)\r\n        if (lazyMatch) {\r\n          this.addWidgetTime({\r\n            name: lazyMatch[1],\r\n            time: parseFloat(lazyMatch[2]),\r\n            priority: parseInt(lazyMatch[3])\r\n          })\r\n        }\r\n        \r\n        originalLog.apply(console, args)\r\n      }\r\n    },\r\n    \r\n    calculatePageLoadTime() {\r\n      this.pageLoadTime = Math.round(performance.now() - this.startTime)\r\n    },\r\n    \r\n    addWidgetTime(widget) {\r\n      this.widgetTimes.push({\r\n        id: Date.now() + Math.random(),\r\n        ...widget\r\n      })\r\n      this.widgetsLoaded++\r\n      \r\n      // ä¼°ç®—ç¸½ widgets æ•¸é‡\r\n      if (this.totalWidgets === 0) {\r\n        // æ ¹æ“šç•¶å‰é é¢ä¼°ç®—\r\n        const path = this.$route?.path || window.location.pathname\r\n        if (path.includes('market-dashboard')) {\r\n          this.totalWidgets = 5 // Market Dashboard çš„ widgets æ•¸é‡\r\n        } else if (path.includes('stock-dashboard')) {\r\n          this.totalWidgets = 10 // ä¼°ç®— Stock Dashboard çš„ widgets æ•¸é‡\r\n        } else {\r\n          this.totalWidgets = this.widgetsLoaded + 2 // å‹•æ…‹ä¼°ç®—\r\n        }\r\n      }\r\n    },\r\n    \r\n    getTimeClass(time) {\r\n      if (time < 1000) return 'time-good'\r\n      if (time < 3000) return 'time-ok'\r\n      return 'time-slow'\r\n    },\r\n    \r\n    toggleMonitor() {\r\n      this.expanded = !this.expanded\r\n    },\r\n    \r\n    clearMetrics() {\r\n      this.widgetTimes = []\r\n      this.widgetsLoaded = 0\r\n      this.totalWidgets = 0\r\n      this.startTime = performance.now()\r\n    },\r\n    \r\n    exportMetrics() {\r\n      const data = {\r\n        pageLoadTime: this.pageLoadTime,\r\n        widgetsLoaded: this.widgetsLoaded,\r\n        totalWidgets: this.totalWidgets,\r\n        totalSize: this.totalSize,\r\n        memoryUsage: this.memoryUsage,\r\n        widgetTimes: this.widgetTimes,\r\n        timestamp: new Date().toISOString(),\r\n        url: window.location.href\r\n      }\r\n      \r\n      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' })\r\n      const url = URL.createObjectURL(blob)\r\n      const a = document.createElement('a')\r\n      a.href = url\r\n      a.download = `performance-${Date.now()}.json`\r\n      a.click()\r\n      URL.revokeObjectURL(url)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.performance-monitor {\r\n  position: fixed;\r\n  top: 80px;\r\n  right: 20px;\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n  min-width: 300px;\r\n  max-width: 400px;\r\n}\r\n\r\n.monitor-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  background: #f8f9fa;\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n.monitor-header h4 {\r\n  margin: 0;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.toggle-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  color: #666;\r\n  padding: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.toggle-btn:hover {\r\n  color: #007bff;\r\n}\r\n\r\n.monitor-content {\r\n  padding: 1rem;\r\n}\r\n\r\n.metrics-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 0.75rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.metric-card {\r\n  background: #f8f9fa;\r\n  padding: 0.75rem;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n}\r\n\r\n.metric-label {\r\n  font-size: 0.75rem;\r\n  color: #666;\r\n  margin-bottom: 0.25rem;\r\n}\r\n\r\n.metric-value {\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.widgets-list {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.widgets-list h5 {\r\n  font-size: 0.85rem;\r\n  margin: 0 0 0.5rem 0;\r\n  color: #333;\r\n}\r\n\r\n.widget-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n  margin-bottom: 0.25rem;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.widget-name {\r\n  flex: 1;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.widget-time {\r\n  margin-right: 0.5rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.time-good {\r\n  color: #28a745;\r\n}\r\n\r\n.time-ok {\r\n  color: #ffc107;\r\n}\r\n\r\n.time-slow {\r\n  color: #dc3545;\r\n}\r\n\r\n.widget-priority {\r\n  background: #007bff;\r\n  color: white;\r\n  padding: 0.125rem 0.375rem;\r\n  border-radius: 12px;\r\n  font-size: 0.7rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.clear-btn,\r\n.export-btn {\r\n  flex: 1;\r\n  padding: 0.5rem;\r\n  border: 1px solid #dee2e6;\r\n  border-radius: 4px;\r\n  background: white;\r\n  cursor: pointer;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.clear-btn:hover {\r\n  background: #f8f9fa;\r\n}\r\n\r\n.export-btn {\r\n  background: #007bff;\r\n  color: white;\r\n  border-color: #007bff;\r\n}\r\n\r\n.export-btn:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .performance-monitor {\r\n    position: relative;\r\n    top: auto;\r\n    right: auto;\r\n    margin: 1rem;\r\n    width: calc(100% - 2rem);\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"market-overview-skeleton\">\r\n    <!-- Market Index Widget Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-ticker-area\">\r\n        <div class=\"skeleton-ticker-item\" v-for=\"i in 6\" :key=\"i\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Fear & Greed Gauge Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-gauge-area\">\r\n        <div class=\"skeleton-gauge-circle\"></div>\r\n        <div class=\"skeleton-gauge-info\">\r\n          <div class=\"skeleton-gauge-value\"></div>\r\n          <div class=\"skeleton-gauge-label\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Top Stories Widget Skeleton -->\r\n    <div class=\"skeleton-widget-container large\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-stories-area\">\r\n        <div class=\"skeleton-story-item\" v-for=\"i in 8\" :key=\"i\">\r\n          <div class=\"skeleton-story-time\"></div>\r\n          <div class=\"skeleton-story-title\"></div>\r\n          <div class=\"skeleton-story-content\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Market Insight Widget Skeleton -->\r\n    <div class=\"skeleton-widget-container large\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-insight-grid\">\r\n        <div class=\"skeleton-insight-section\">\r\n          <div class=\"skeleton-section-header\">\r\n            <div class=\"skeleton-section-title\"></div>\r\n          </div>\r\n          <div class=\"skeleton-chart-area\">\r\n            <div class=\"skeleton-chart\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"skeleton-insight-section\">\r\n          <div class=\"skeleton-section-header\">\r\n            <div class=\"skeleton-section-title\"></div>\r\n          </div>\r\n          <div class=\"skeleton-chart-area\">\r\n            <div class=\"skeleton-chart\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Stock Heatmap Widget Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-heatmap-area\">\r\n        <div class=\"skeleton-heatmap-grid\">\r\n          <div class=\"skeleton-heatmap-cell\" v-for=\"i in 20\" :key=\"i\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Performance Monitor Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-performance-area\">\r\n        <div class=\"skeleton-performance-item\" v-for=\"i in 4\" :key=\"i\">\r\n          <div class=\"skeleton-performance-label\"></div>\r\n          <div class=\"skeleton-performance-value\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MarketOverviewSkeleton'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* åŸºç¤éª¨æ¶å‹•ç•« */\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n}\r\n\r\n.market-overview-skeleton {\r\n  padding: 0;\r\n  overflow-x: hidden;\r\n  max-width: 100%;\r\n}\r\n\r\n/* é€šç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-base {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Widget å®¹å™¨éª¨æ¶ */\r\n.skeleton-widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.skeleton-widget-container.large {\r\n  min-height: 400px;\r\n}\r\n\r\n.skeleton-widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.skeleton-title {\r\n  @extend .skeleton-base;\r\n  width: 140px;\r\n  height: 20px;\r\n}\r\n\r\n/* Market Index Ticker éª¨æ¶ */\r\n.skeleton-ticker-area {\r\n  display: flex;\r\n  gap: 1rem;\r\n  overflow: hidden;\r\n  min-height: 100px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.skeleton-ticker-item {\r\n  @extend .skeleton-base;\r\n  flex: 1;\r\n  min-width: 120px;\r\n  height: 60px;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* Fear & Greed Gauge éª¨æ¶ */\r\n.skeleton-gauge-area {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 2rem;\r\n  min-height: 200px;\r\n}\r\n\r\n.skeleton-gauge-circle {\r\n  @extend .skeleton-base;\r\n  width: 150px;\r\n  height: 150px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.skeleton-gauge-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.skeleton-gauge-value {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 32px;\r\n}\r\n\r\n.skeleton-gauge-label {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 20px;\r\n}\r\n\r\n/* Top Stories éª¨æ¶ */\r\n.skeleton-stories-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  min-height: 600px;\r\n}\r\n\r\n.skeleton-story-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.skeleton-story-time {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 14px;\r\n}\r\n\r\n.skeleton-story-title {\r\n  @extend .skeleton-base;\r\n  width: 80%;\r\n  height: 18px;\r\n}\r\n\r\n.skeleton-story-content {\r\n  @extend .skeleton-base;\r\n  width: 60%;\r\n  height: 14px;\r\n}\r\n\r\n/* Market Insight éª¨æ¶ */\r\n.skeleton-insight-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 1.5rem;\r\n  align-items: start;\r\n}\r\n\r\n.skeleton-insight-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.skeleton-insight-section:nth-child(2) {\r\n  border-top: 1px solid #f0f0f0;\r\n  padding-top: 1.5rem;\r\n}\r\n\r\n.skeleton-section-header {\r\n  padding-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-section-title {\r\n  @extend .skeleton-base;\r\n  width: 200px;\r\n  height: 18px;\r\n}\r\n\r\n.skeleton-chart-area {\r\n  min-height: 600px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.skeleton-chart {\r\n  @extend .skeleton-base;\r\n  width: 100%;\r\n  height: 500px;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* Stock Heatmap éª¨æ¶ */\r\n.skeleton-heatmap-area {\r\n  min-height: 500px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.skeleton-heatmap-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  gap: 0.5rem;\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n\r\n.skeleton-heatmap-cell {\r\n  @extend .skeleton-base;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Performance Monitor éª¨æ¶ */\r\n.skeleton-performance-area {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 1rem;\r\n  min-height: 120px;\r\n}\r\n\r\n.skeleton-performance-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.skeleton-performance-label {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-performance-value {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 24px;\r\n}\r\n\r\n/* å¯¦éš›æ‡‰ç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-title,\r\n.skeleton-ticker-item,\r\n.skeleton-gauge-circle,\r\n.skeleton-gauge-value,\r\n.skeleton-gauge-label,\r\n.skeleton-story-time,\r\n.skeleton-story-title,\r\n.skeleton-story-content,\r\n.skeleton-section-title,\r\n.skeleton-chart,\r\n.skeleton-heatmap-cell,\r\n.skeleton-performance-label,\r\n.skeleton-performance-value {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.75rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .skeleton-ticker-area {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .skeleton-ticker-item {\r\n    min-width: 100%;\r\n    height: 50px;\r\n  }\r\n  \r\n  .skeleton-gauge-area {\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .skeleton-gauge-circle {\r\n    width: 120px;\r\n    height: 120px;\r\n  }\r\n  \r\n  .skeleton-heatmap-grid {\r\n    grid-template-columns: repeat(3, 1fr);\r\n    height: 300px;\r\n  }\r\n  \r\n  .skeleton-performance-area {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 1rem -0.25rem;\r\n  }\r\n  \r\n  .skeleton-heatmap-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    height: 250px;\r\n  }\r\n}\r\n\r\n/* å‹•ç•«å»¶é²æ•ˆæœ */\r\n.skeleton-ticker-item:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-ticker-item:nth-child(2) { animation-delay: 0.2s; }\r\n.skeleton-ticker-item:nth-child(3) { animation-delay: 0.3s; }\r\n.skeleton-ticker-item:nth-child(4) { animation-delay: 0.4s; }\r\n.skeleton-ticker-item:nth-child(5) { animation-delay: 0.5s; }\r\n.skeleton-ticker-item:nth-child(6) { animation-delay: 0.6s; }\r\n\r\n.skeleton-story-item:nth-child(odd) { animation-delay: 0.1s; }\r\n.skeleton-story-item:nth-child(even) { animation-delay: 0.2s; }\r\n\r\n/* æ·¡å…¥æ•ˆæœ */\r\n.market-overview-skeleton {\r\n  animation: fadeIn 0.3s ease-in;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"market-dashboard\">\r\n    <h2>Market Overview</h2>\r\n    <p class=\"text-muted mb-3\">Global markets overview and macro indicators</p>\r\n\r\n    <!-- è¼‰å…¥ç‹€æ…‹é¡¯ç¤ºéª¨æ¶å± -->\r\n    <div v-if=\"loading\" class=\"loading-with-skeleton\">\r\n      <MarketOverviewSkeleton />\r\n    </div>\r\n\r\n    <!-- éŒ¯èª¤ç‹€æ…‹ -->\r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p class=\"text-danger\">{{ error }}</p>\r\n      <button @click=\"refresh\" class=\"btn btn-secondary\">Retry</button>\r\n    </div>\r\n\r\n    <!-- æ­£å¸¸å…§å®¹ -->\r\n    <div v-else>\r\n      <!-- Major Market Indices - é«˜å„ªå…ˆç´š -->\r\n      <div class=\"widget-container-ticker\">\r\n        <div class=\"widget-header\">\r\n          <h3>Market Index</h3>\r\n        </div>\r\n        <LazyTradingViewWidget\r\n          widget-type=\"Market Index\"\r\n          :config=\"tickersConfig\"\r\n          script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-tickers.js\"\r\n          height=\"100px\"\r\n          :priority=\"1\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Fear & Greed Gauge - é«˜å„ªå…ˆç´š (ä¸æ˜¯ TradingView widget) -->\r\n      <ZeiiermanFearGreedGauge />\r\n\r\n      <!-- Top Stories - ä¸­å„ªå…ˆç´š -->\r\n      <div class=\"widget-container\">\r\n        <div class=\"widget-header\">\r\n          <h3>Top Stories</h3>\r\n        </div>\r\n        <LazyTradingViewWidget\r\n          widget-type=\"Top Stories\"\r\n          :config=\"topStoriesConfig\"\r\n          script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-timeline.js\"\r\n          height=\"650px\"\r\n          :priority=\"2\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Stock Market Insight -->\r\n      <div class=\"widget-container\">\r\n        <div class=\"widget-header\">\r\n          <h3>Market Insight</h3>\r\n        </div>\r\n        \r\n        <div class=\"insight-grid\">\r\n          <div class=\"insight-section\">\r\n            <div class=\"section-header\">\r\n              <h4>Market Daily Insight (MA5)</h4>\r\n            </div>\r\n            <LazyTradingViewWidget\r\n              widget-type=\"Market Daily Insight\"\r\n              :config=\"dailyConfig\"\r\n              script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js\"\r\n              height=\"600px\"\r\n              :priority=\"2\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"insight-section weekly-section\">\r\n            <div class=\"section-header\">\r\n              <h4>Market Weekly Insight (MA4)</h4>\r\n            </div>\r\n            <LazyTradingViewWidget\r\n              widget-type=\"Market Weekly Insight\"\r\n              :config=\"weeklyConfig\"\r\n              script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js\"\r\n              height=\"600px\"\r\n              :priority=\"3\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stock Heatmap - ä½å„ªå…ˆç´š -->\r\n      <div class=\"widget-container\">\r\n        <div class=\"widget-header\">\r\n          <h3>Stock Heatmap</h3>\r\n        </div>\r\n        <LazyTradingViewWidget\r\n          widget-type=\"Stock Heatmap\"\r\n          :config=\"heatmapConfig\"\r\n          script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js\"\r\n          height=\"500px\"\r\n          :priority=\"3\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Performance Monitor -->\r\n      <PerformanceMonitor />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LazyTradingViewWidget from '@/components/LazyTradingViewWidget.vue'\r\nimport ZeiiermanFearGreedGauge from '@/components/ZeiiermanFearGreedGauge.vue'\r\nimport PerformanceMonitor from '@/components/PerformanceMonitor.vue'\r\nimport MarketOverviewSkeleton from '@/components/MarketOverviewSkeleton.vue'\r\n\r\nexport default {\r\n  name: 'MarketDashboard',\r\n  components: {\r\n    LazyTradingViewWidget,\r\n    ZeiiermanFearGreedGauge,\r\n    PerformanceMonitor,\r\n    MarketOverviewSkeleton\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initializePage()\r\n  },\r\n  methods: {\r\n    async initializePage() {\r\n      try {\r\n        // æ¨¡æ“¬åˆå§‹åŒ–éç¨‹\r\n        await new Promise(resolve => setTimeout(resolve, 800))\r\n        this.loading = false\r\n      } catch (err) {\r\n        this.error = String(err)\r\n        this.loading = false\r\n      }\r\n    },\r\n    async refresh() {\r\n      this.loading = true\r\n      this.error = null\r\n      await this.initializePage()\r\n    }\r\n  },\r\n  computed: {\r\n    tickersConfig() {\r\n      return {\r\n        \"symbols\": [\r\n          {\"proName\": \"FOREXCOM:SPXUSD\",\"title\": \"S&P 500 Index\"},\r\n          {\"proName\": \"NASDAQ:NDX\",\"title\": \"NASDAQ 100 Index\"},\r\n          {\"proName\": \"OPOFINANCE:DJIUSD\",\"title\": \"Dow Jone Index\"},\r\n          {\"proName\": \"CAPITALCOM:RTY\",\"title\": \"US Russel 2000\"},\r\n          {\"proName\": \"INDEX:BTCUSD\",\"title\": \"BTC\"},\r\n          {\"proName\": \"TVC:GOLD\",\"title\": \"GOLD\"}\r\n        ],\r\n        \"colorTheme\": \"light\",\r\n        \"locale\": \"en\",\r\n        \"largeChartUrl\": \"\",\r\n        \"isTransparent\": true,\r\n        \"showSymbolLogo\": true\r\n      }\r\n    },\r\n\r\n    topStoriesConfig() {\r\n      return {\r\n        \"displayMode\": \"regular\",\r\n        \"feedMode\": \"market\",\r\n        \"colorTheme\": \"light\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"en\",\r\n        \"market\": \"stock\",\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\"\r\n      }\r\n    },\r\n\r\n    dailyConfig() {\r\n      return {\r\n        \"lineWidth\": 2,\r\n        \"lineType\": 0,\r\n        \"chartType\": \"candlesticks\",\r\n        \"showVolume\": true,\r\n        \"fontColor\": \"rgb(106, 109, 120)\",\r\n        \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n        \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n        \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n        \"backgroundColor\": \"#ffffff\",\r\n        \"widgetFontColor\": \"#0F0F0F\",\r\n        \"upColor\": \"#22ab94\",\r\n        \"downColor\": \"#f7525f\",\r\n        \"borderUpColor\": \"#22ab94\",\r\n        \"borderDownColor\": \"#f7525f\",\r\n        \"wickUpColor\": \"#22ab94\",\r\n        \"wickDownColor\": \"#f7525f\",\r\n        \"colorTheme\": \"light\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"en\",\r\n        \"chartOnly\": false,\r\n        \"scalePosition\": \"right\",\r\n        \"scaleMode\": \"Normal\",\r\n        \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n        \"valuesTracking\": \"1\",\r\n        \"changeMode\": \"price-and-percent\",\r\n        \"symbols\": [[\"VANTAGE:SP500|6M\"],[\"NASDAQ:NDX|6M\"],[\"OPOFINANCE:DJIUSD|6M\"],[\"CAPITALCOM:RTY|6M\"],[\"INDEX:BTCUSD|6M\"],[\"TVC:GOLD|6M\"]],\r\n        \"dateRanges\": [\"6m|1D\"],\r\n        \"fontSize\": \"10\",\r\n        \"headerFontSize\": \"medium\",\r\n        \"autosize\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\",\r\n        \"noTimeScale\": false,\r\n        \"hideDateRanges\": false,\r\n        \"showMA\": true,\r\n        \"maLength\": \"5\",\r\n        \"maLineColor\": \"#2962FF\",\r\n        \"maLineWidth\": 1,\r\n        \"hideMarketStatus\": false,\r\n        \"hideSymbolLogo\": false\r\n      }\r\n    },\r\n\r\n    weeklyConfig() {\r\n      return {\r\n        \"lineWidth\": 2,\r\n        \"lineType\": 0,\r\n        \"chartType\": \"candlesticks\",\r\n        \"showVolume\": true,\r\n        \"fontColor\": \"rgb(106, 109, 120)\",\r\n        \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n        \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n        \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n        \"backgroundColor\": \"#ffffff\",\r\n        \"widgetFontColor\": \"#0F0F0F\",\r\n        \"upColor\": \"#22ab94\",\r\n        \"downColor\": \"#f7525f\",\r\n        \"borderUpColor\": \"#22ab94\",\r\n        \"borderDownColor\": \"#f7525f\",\r\n        \"wickUpColor\": \"#22ab94\",\r\n        \"wickDownColor\": \"#f7525f\",\r\n        \"colorTheme\": \"light\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"en\",\r\n        \"chartOnly\": false,\r\n        \"scalePosition\": \"right\",\r\n        \"scaleMode\": \"Normal\",\r\n        \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n        \"valuesTracking\": \"1\",\r\n        \"changeMode\": \"price-and-percent\",\r\n        \"symbols\": [[\"VANTAGE:SP500|6M\"],[\"NASDAQ:NDX|6M\"],[\"OPOFINANCE:DJIUSD|6M\"],[\"CAPITALCOM:RTY|6M\"],[\"INDEX:BTCUSD|6M\"],[\"TVC:GOLD|6M\"]],\r\n        \"dateRanges\": [\"6m|1W\"],\r\n        \"fontSize\": \"10\",\r\n        \"headerFontSize\": \"medium\",\r\n        \"autosize\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\",\r\n        \"noTimeScale\": false,\r\n        \"hideDateRanges\": false,\r\n        \"showMA\": true,\r\n        \"maLength\": \"4\",\r\n        \"maLineColor\": \"#2962FF\",\r\n        \"maLineWidth\": 1,\r\n        \"hideMarketStatus\": false,\r\n        \"hideSymbolLogo\": false\r\n      }\r\n    },\r\n\r\n    heatmapConfig() {\r\n      return {\r\n        \"exchanges\": [],\r\n        \"dataSource\": \"SPX500\",\r\n        \"grouping\": \"sector\",\r\n        \"blockSize\": \"market_cap_basic\",\r\n        \"blockColor\": \"change\",\r\n        \"locale\": \"en\",\r\n        \"symbolUrl\": \"\",\r\n        \"colorTheme\": \"light\",\r\n        \"hasTopBar\": false,\r\n        \"isDataSetEnabled\": false,\r\n        \"isZoomEnabled\": true,\r\n        \"hasSymbolTooltip\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\"\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.market-dashboard {\r\n  padding: 0;\r\n  overflow-x: hidden;\r\n  max-width: 100%;\r\n}\r\n\r\n.mb-3 {\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n\r\n.loading-with-skeleton {\r\n  /* éª¨æ¶å±è¼‰å…¥å®¹å™¨ */\r\n}\r\n\r\n.error {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.btn {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.btn-secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: #545b62;\r\n}\r\n\r\n/* çµ±ä¸€çš„ Widget å®¹å™¨æ¨£å¼ */\r\n.widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n/* Ticker å°ˆç”¨çš„ Widget å®¹å™¨æ¨£å¼ */\r\n.widget-container-ticker {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.widget-header h3 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.insight-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 1.5rem;\r\n  align-items: start;\r\n}\r\n\r\n.insight-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n/* ç¬¬äºŒå€‹ insight-section ä¸Šæ–¹æ·»åŠ é–“éš”ç·š */\r\n.weekly-section {\r\n  border-top: 1px solid #f0f0f0;\r\n  padding-top: 1.5rem;\r\n}\r\n\r\n.section-header {\r\n  padding-bottom: 0.5rem;\r\n  /* ç§»é™¤åº•ç·š border-bottom: 1px solid #f0f0f0; */\r\n}\r\n\r\n.section-header h4 {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #555;\r\n  margin: 0;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .widget-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .widget-container {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem 2rem -0.25rem;\r\n  }\r\n  \r\n  .insight-grid {\r\n    gap: 0.75rem;\r\n  }\r\n}\r\n</style>","/**\r\n * Zod validation schemas for Investment Dashboard data models\r\n * Provides runtime validation for all data contracts\r\n */\r\n\r\nimport { z } from 'zod'\r\nimport type {\r\n  UserState,\r\n  QuotesSnapshot,\r\n  DailySnapshot,\r\n  MetadataSnapshot,\r\n  SystemStatus,\r\n  UniverseConfig,\r\n  MacroIndicatorConfig,\r\n  NewsSourcesConfig,\r\n  WishConfig,\r\n  VersionConfig,\r\n  ValidationResult\r\n} from '@/types'\r\n\r\n// ============================================================================\r\n// Custom datetime validator that accepts ISO strings with timezone\r\nconst DateTimeString = z.string().refine(\r\n  (val) => {\r\n    try {\r\n      const date = new Date(val)\r\n      return !isNaN(date.getTime()) && val.includes('T')\r\n    } catch {\r\n      return false\r\n    }\r\n  },\r\n  { message: 'Invalid datetime format' }\r\n)\r\n// ============================================================================\r\n\r\nconst StaleLevel = z.enum(['fresh', 'stale', 'very_stale'])\r\nconst MarketState = z.enum(['open', 'closed', 'pre', 'post']).nullable()\r\nconst PriceType = z.enum(['latest', 'close', 'last_known'])\r\nconst BriefSource = z.enum(['llm', 'fallback'])\r\nconst QualityFlag = z.enum(['good', 'stale', 'degraded', 'disabled_scrape'])\r\nconst ConfidenceLevel = z.union([z.literal(0.50), z.literal(0.75), z.literal(0.90)])\r\nconst SystemStatusType = z.enum(['operational', 'degraded', 'maintenance', 'outage'])\r\nconst JobStatusType = z.enum(['success', 'failed', 'running', 'pending'])\r\n\r\n// ============================================================================\r\n// User State Validation Schemas\r\n// ============================================================================\r\n\r\nconst HoldingDataSchema = z.object({\r\n  avg_cost_usd: z.number().positive().finite(),\r\n  shares: z.number().positive().finite().optional()\r\n})\r\n\r\nconst UserSettingsSchema = z.object({\r\n  scraping_enabled: z.boolean(),\r\n  degradation_enabled: z.boolean(),\r\n  ga_enabled: z.boolean(),\r\n  clarity_enabled: z.boolean()\r\n})\r\n\r\nconst ImportResultSchema = z.object({\r\n  timestamp: DateTimeString,\r\n  success: z.boolean(),\r\n  error: z.string().optional(),\r\n  changes_applied: z.number().nonnegative(),\r\n  dry_run: z.boolean()\r\n})\r\n\r\nconst DiagnosticsDataSchema = z.object({\r\n  last_import_result: ImportResultSchema.optional()\r\n})\r\n\r\n// Forward declarations for recursive types\r\nconst DailySnapshotSchema: z.ZodType<DailySnapshot> = z.lazy(() => DailySnapshotSchemaImpl)\r\nconst QuotesSnapshotSchema: z.ZodType<QuotesSnapshot> = z.lazy(() => QuotesSnapshotSchemaImpl)\r\nconst MetadataSnapshotSchema: z.ZodType<MetadataSnapshot> = z.lazy(() => MetadataSnapshotSchemaImpl)\r\n\r\nconst CacheDataSchema = z.object({\r\n  last_daily_snapshot: DailySnapshotSchema.optional(),\r\n  last_quotes_snapshot: QuotesSnapshotSchema.optional(),\r\n  last_metadata: MetadataSnapshotSchema.optional()\r\n})\r\n\r\nexport const UserStateSchema = z.object({\r\n  schema_version: z.string(),\r\n  watchlist: z.array(z.string().max(10).regex(/^[A-Z0-9.-]+$/)),\r\n  holdings: z.record(z.string(), HoldingDataSchema),\r\n  settings: UserSettingsSchema,\r\n  cache: CacheDataSchema,\r\n  diagnostics: DiagnosticsDataSchema\r\n})\r\n\r\n// ============================================================================\r\n// Quote Data Validation Schemas\r\n// ============================================================================\r\n\r\nconst QuoteItemSchema = z.object({\r\n  symbol: z.string().max(10).regex(/^[A-Z0-9.-]+$/),\r\n  price_usd: z.number().nullable(),\r\n  price_type: PriceType,\r\n  market_state: MarketState,\r\n  is_delayed: z.boolean(),\r\n  stale_level: StaleLevel,\r\n  error: z.string().nullable(),\r\n  change_percent: z.number().optional(),\r\n  volume: z.number().nonnegative().optional()\r\n})\r\n\r\nconst QuotesMetadataSchema = z.object({\r\n  total_symbols: z.number().nonnegative(),\r\n  successful_updates: z.number().nonnegative(),\r\n  failed_updates: z.number().nonnegative(),\r\n  average_delay_minutes: z.number().nonnegative().optional(),\r\n  next_update: DateTimeString.optional()\r\n})\r\n\r\nconst QuotesSnapshotSchemaImpl = z.object({\r\n  as_of: DateTimeString,\r\n  provider: z.string(),\r\n  market_session: z.string().optional(),\r\n  items: z.array(QuoteItemSchema),\r\n  metadata: QuotesMetadataSchema.optional()\r\n})\r\n\r\n// ============================================================================\r\n// Daily Snapshot Validation Schemas\r\n// ============================================================================\r\n\r\nconst NewsItemSchema = z.object({\r\n  title: z.string().min(1),\r\n  url: z.string().url(),\r\n  published_at: DateTimeString,\r\n  source: z.string().min(1),\r\n  summary: z.string().optional()\r\n})\r\n\r\nconst SymbolDataSchema = z.object({\r\n  symbol: z.string().max(10).regex(/^[A-Z0-9.-]+$/),\r\n  short_brief_zh: z.string(),\r\n  brief_truncated: z.boolean(),\r\n  brief_source: BriefSource,\r\n  news_top10: z.array(NewsItemSchema),\r\n  news_insufficient: z.boolean(),\r\n  gaps: z.array(z.string())\r\n})\r\n\r\nconst MarketsIndicatorSchema = z.object({\r\n  id: z.string().min(1),\r\n  value: z.number().nullable(),\r\n  as_of: DateTimeString,\r\n  source_name: z.string().min(1),\r\n  quality_flag: QualityFlag\r\n})\r\n\r\nconst MacroDataSchema = z.object({\r\n  items: z.array(MarketsIndicatorSchema).length(10, 'Must have exactly 10 markets indicators')\r\n})\r\n\r\nconst GenerationMetadataSchema = z.object({\r\n  total_processing_time_ms: z.number().nonnegative(),\r\n  news_sources_attempted: z.number().nonnegative(),\r\n  news_sources_successful: z.number().nonnegative(),\r\n  total_articles_collected: z.number().nonnegative(),\r\n  articles_after_deduplication: z.number().nonnegative(),\r\n  llm_brief_generation_success_rate: z.number().min(0).max(1),\r\n  macro_indicators_updated: z.number().nonnegative(),\r\n  macro_indicators_failed: z.number().nonnegative()\r\n})\r\n\r\nconst DailySnapshotSchemaImpl = z.object({\r\n  as_of_date_taipei: z.string().regex(/^\\d{4}-\\d{2}-\\d{2}$/),\r\n  generated_at_utc: DateTimeString,\r\n  universe: z.array(z.string()).length(10, 'Universe must have exactly 10 symbols'),\r\n  per_symbol: z.array(SymbolDataSchema).length(10, 'Must have data for exactly 10 symbols'),\r\n  macro: MacroDataSchema,\r\n  generation_metadata: GenerationMetadataSchema.optional()\r\n})\r\n\r\n// ============================================================================\r\n// Metadata Validation Schemas\r\n// ============================================================================\r\n\r\nconst SymbolMetadataSchema = z.object({\r\n  symbol: z.string().max(10).regex(/^[A-Z0-9.-]+$/),\r\n  sector: z.string().nullable(),\r\n  industry: z.string().nullable(),\r\n  confidence: ConfidenceLevel,\r\n  sources: z.array(z.string()).min(1),\r\n  last_verified_at: DateTimeString,\r\n  market_cap_category: z.string().optional(),\r\n  exchange: z.string().optional()\r\n})\r\n\r\nconst ConfidenceDistributionSchema = z.object({\r\n  high_confidence_0_90: z.number().nonnegative(),\r\n  medium_confidence_0_75: z.number().nonnegative(),\r\n  low_confidence_0_50: z.number().nonnegative()\r\n})\r\n\r\nconst RefreshMetadataSchema = z.object({\r\n  last_refresh_duration_ms: z.number().nonnegative(),\r\n  symbols_updated: z.number().nonnegative(),\r\n  symbols_failed: z.number().nonnegative(),\r\n  confidence_improvements: z.number().nonnegative(),\r\n  new_sources_added: z.number().nonnegative()\r\n})\r\n\r\nconst MetadataSnapshotSchemaImpl = z.object({\r\n  ttl_days: z.number().positive(),\r\n  as_of: DateTimeString,\r\n  next_refresh: DateTimeString.optional(),\r\n  items: z.array(SymbolMetadataSchema).length(10, 'Must have metadata for exactly 10 symbols'),\r\n  industry_grouping: z.record(z.string(), z.array(z.string())).optional(),\r\n  confidence_distribution: ConfidenceDistributionSchema.optional(),\r\n  data_sources: z.record(z.string(), z.number().nonnegative()).optional(),\r\n  refresh_metadata: RefreshMetadataSchema.optional()\r\n})\r\n\r\n// ============================================================================\r\n// System Status Validation Schemas\r\n// ============================================================================\r\n\r\nconst JobStatusSchema = z.object({\r\n  last_run: DateTimeString,\r\n  next_run: DateTimeString,\r\n  status: JobStatusType,\r\n  duration_ms: z.number().nonnegative(),\r\n  symbols_updated: z.number().nonnegative().optional(),\r\n  symbols_processed: z.number().nonnegative().optional(),\r\n  errors: z.array(z.string()),\r\n  provider: z.string().optional()\r\n})\r\n\r\nconst FreshnessInfoSchema = z.object({\r\n  age_minutes: z.number().nonnegative().optional(),\r\n  age_hours: z.number().nonnegative().optional(),\r\n  age_days: z.number().nonnegative().optional(),\r\n  staleness: StaleLevel\r\n})\r\n\r\nconst QuotaInfoSchema = z.object({\r\n  used_minutes: z.number().nonnegative(),\r\n  total_minutes: z.number().nonnegative(),\r\n  reset_date: z.string() // Just a date string, not datetime\r\n})\r\n\r\nconst StorageInfoSchema = z.object({\r\n  data_files_mb: z.number().nonnegative(),\r\n  total_repo_mb: z.number().nonnegative()\r\n})\r\n\r\nconst ApiLimitInfoSchema = z.object({\r\n  calls_today: z.number().nonnegative(),\r\n  daily_limit: z.number().nonnegative(),\r\n  reset_time: DateTimeString\r\n})\r\n\r\nconst SystemHealthSchema = z.object({\r\n  github_actions_quota: QuotaInfoSchema.optional(),\r\n  storage_usage: StorageInfoSchema.optional(),\r\n  api_limits: z.record(z.string(), ApiLimitInfoSchema).optional()\r\n})\r\n\r\nconst DegradationStatusSchema = z.object({\r\n  enabled: z.boolean(),\r\n  active_fallbacks: z.array(z.string()),\r\n  cache_hits_last_hour: z.number().nonnegative()\r\n})\r\n\r\nexport const SystemStatusSchema = z.object({\r\n  description: z.string(),\r\n  last_updated: DateTimeString,\r\n  system_status: SystemStatusType,\r\n  jobs: z.record(z.string(), JobStatusSchema),\r\n  data_freshness: z.record(z.string(), FreshnessInfoSchema),\r\n  system_health: SystemHealthSchema,\r\n  degradation_status: DegradationStatusSchema\r\n})\r\n\r\n// ============================================================================\r\n// Configuration Validation Schemas\r\n// ============================================================================\r\n\r\nconst ValidationRulesSchema = z.object({\r\n  max_length: z.number().positive(),\r\n  allowed_chars: z.string(),\r\n  case_sensitive: z.boolean()\r\n})\r\n\r\nexport const UniverseConfigSchema = z.object({\r\n  description: z.string(),\r\n  version: z.string(),\r\n  last_updated: z.string(),\r\n  symbols: z.array(z.string().max(10).regex(/^[A-Z0-9.-]+$/)).length(10, 'Universe must have exactly 10 symbols'),\r\n  validation: ValidationRulesSchema\r\n})\r\n\r\nconst MarketsIndicatorDefinitionSchema = z.object({\r\n  id: z.string().min(1),\r\n  name: z.string().min(1),\r\n  description: z.string().min(1),\r\n  scrape_only: z.boolean(),\r\n  data_source: z.string().min(1),\r\n  update_frequency: z.string().min(1),\r\n  unit: z.string().min(1)\r\n})\r\n\r\nconst ScrapingSettingsSchema = z.object({\r\n  default_enabled: z.boolean(),\r\n  timeout_seconds: z.number().positive(),\r\n  retry_attempts: z.number().nonnegative(),\r\n  user_agent: z.string().min(1)\r\n})\r\n\r\nexport const MarketsIndicatorConfigSchema = z.object({\r\n  description: z.string(),\r\n  version: z.string(),\r\n  last_updated: z.string(),\r\n  indicators: z.array(MarketsIndicatorDefinitionSchema).length(10, 'Must have exactly 10 markets indicators'),\r\n  scraping_settings: ScrapingSettingsSchema\r\n})\r\n\r\n// ============================================================================\r\n// Validation Utility Functions\r\n// ============================================================================\r\n\r\nexport function validateData<T>(\r\n  schema: z.ZodSchema<T>,\r\n  data: unknown\r\n): ValidationResult<T> {\r\n  try {\r\n    const validatedData = schema.parse(data)\r\n    return {\r\n      success: true,\r\n      data: validatedData\r\n    }\r\n  } catch (error) {\r\n    if (error instanceof z.ZodError) {\r\n      return {\r\n        success: false,\r\n        error: {\r\n          message: 'Validation failed',\r\n          details: error.errors\r\n        }\r\n      }\r\n    }\r\n    return {\r\n      success: false,\r\n      error: {\r\n        message: 'Unknown validation error',\r\n        details: { error: String(error) }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function validateUserState(data: unknown): ValidationResult<UserState> {\r\n  return validateData(UserStateSchema, data)\r\n}\r\n\r\nexport function validateQuotesSnapshot(data: unknown): ValidationResult<QuotesSnapshot> {\r\n  return validateData(QuotesSnapshotSchema, data)\r\n}\r\n\r\nexport function validateDailySnapshot(data: unknown): ValidationResult<DailySnapshot> {\r\n  return validateData(DailySnapshotSchema, data)\r\n}\r\n\r\nexport function validateMetadataSnapshot(data: unknown): ValidationResult<MetadataSnapshot> {\r\n  return validateData(MetadataSnapshotSchema, data)\r\n}\r\n\r\nexport function validateSystemStatus(data: unknown): ValidationResult<SystemStatus> {\r\n  return validateData(SystemStatusSchema, data)\r\n}\r\n\r\nexport function validateUniverseConfig(data: unknown): ValidationResult<UniverseConfig> {\r\n  return validateData(UniverseConfigSchema, data)\r\n}\r\n\r\nexport function validateMarketsIndicatorConfig(data: unknown): ValidationResult<MarketsIndicatorConfig> {\r\n  return validateData(MarketsIndicatorConfigSchema, data)\r\n}\r\n\r\n// ============================================================================\r\n// Symbol Validation Functions\r\n// ============================================================================\r\n\r\nexport function validateSymbolFormat(symbol: string): boolean {\r\n  const symbolSchema = z.string().max(10).regex(/^[A-Z0-9.-]+$/)\r\n  const trimmedSymbol = symbol.trim()\r\n  // Check if symbol was already trimmed (no leading/trailing spaces)\r\n  if (trimmedSymbol !== symbol) return false\r\n  return symbolSchema.safeParse(trimmedSymbol).success\r\n}\r\n\r\nexport function validateSymbolInUniverse(symbol: string, universe: string[]): boolean {\r\n  return universe.includes(symbol.toUpperCase())\r\n}\r\n\r\nexport function validateNoDuplicateSymbol(symbol: string, existingSymbols: string[]): boolean {\r\n  const normalizedSymbol = symbol.toUpperCase()\r\n  const normalizedExisting = existingSymbols.map(s => s.toUpperCase())\r\n  return !normalizedExisting.includes(normalizedSymbol)\r\n}\r\n\r\nexport function validateHoldingsCost(cost: number): ValidationResult<number> {\r\n  const costSchema = z.number().positive()\r\n  const result = costSchema.safeParse(cost)\r\n  if (result.success) {\r\n    return { success: true, data: result.data }\r\n  } else {\r\n    return {\r\n      success: false,\r\n      error: {\r\n        message: 'Cost must be positive',\r\n        details: result.error.errors\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Import/Export Validation\r\n// ============================================================================\r\n\r\nexport function validateImportFileSize(file: File): ValidationResult<File> {\r\n  const maxSizeBytes = 256 * 1024 // 256KB\r\n  if (file.size > maxSizeBytes) {\r\n    return {\r\n      success: false,\r\n      error: {\r\n        message: `File size ${Math.round(file.size / 1024)}KB exceeds maximum of 256KB`,\r\n        code: 'FILE_TOO_LARGE'\r\n      }\r\n    }\r\n  }\r\n  return { success: true, data: file }\r\n}\r\n\r\nexport function validateImportData(data: unknown): ValidationResult<UserState> {\r\n  // First check if it's a valid object with known top-level keys\r\n  const allowedKeys = ['schema_version', 'watchlist', 'holdings', 'settings', 'cache', 'diagnostics']\r\n  \r\n  if (typeof data !== 'object' || data === null) {\r\n    return {\r\n      success: false,\r\n      error: {\r\n        message: 'Import data must be a valid JSON object',\r\n        code: 'INVALID_FORMAT'\r\n      }\r\n    }\r\n  }\r\n  \r\n  const dataKeys = Object.keys(data as object)\r\n  const unknownKeys = dataKeys.filter(key => !allowedKeys.includes(key))\r\n  \r\n  if (unknownKeys.length > 0) {\r\n    return {\r\n      success: false,\r\n      error: {\r\n        message: `Unknown keys found: ${unknownKeys.join(', ')}`,\r\n        code: 'UNKNOWN_KEYS',\r\n        details: { unknownKeys }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Then validate the full schema\r\n  return validateUserState(data)\r\n}","/**\r\n * StateManager for localStorage-based user state management\r\n * Handles schema versioning, migration, and validation\r\n */\r\n\r\nimport type { UserState, ValidationResult } from '@/types'\r\nimport { validateUserState, validateImportData } from './validation'\r\n\r\nexport class StateManager {\r\n  private static readonly STORAGE_KEY = 'investment-dashboard-state'\r\n  private static readonly CURRENT_SCHEMA_VERSION = '1.0.0'\r\n  \r\n  private static readonly DEFAULT_STATE: UserState = {\r\n    schema_version: StateManager.CURRENT_SCHEMA_VERSION,\r\n    watchlist: [],\r\n    holdings: {},\r\n    settings: {\r\n      scraping_enabled: false,\r\n      degradation_enabled: true,\r\n      ga_enabled: false,\r\n      clarity_enabled: false\r\n    },\r\n    cache: {},\r\n    diagnostics: {}\r\n  }\r\n\r\n  /**\r\n   * Load user state from localStorage with validation and migration\r\n   */\r\n  static loadState(): UserState {\r\n    try {\r\n      const stored = localStorage.getItem(StateManager.STORAGE_KEY)\r\n      if (!stored) {\r\n        return { ...StateManager.DEFAULT_STATE }\r\n      }\r\n\r\n      const parsed = JSON.parse(stored)\r\n      const migrated = StateManager.migrateState(parsed)\r\n      const validation = validateUserState(migrated)\r\n      \r\n      if (validation.success && validation.data) {\r\n        return validation.data\r\n      } else {\r\n        console.warn('Invalid state in localStorage, using defaults:', validation.error)\r\n        return { ...StateManager.DEFAULT_STATE }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load state from localStorage:', error)\r\n      return { ...StateManager.DEFAULT_STATE }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Save user state to localStorage with validation\r\n   */\r\n  static saveState(state: UserState): ValidationResult<UserState> {\r\n    const validation = validateUserState(state)\r\n    if (!validation.success) {\r\n      return validation\r\n    }\r\n\r\n    try {\r\n      localStorage.setItem(StateManager.STORAGE_KEY, JSON.stringify(state))\r\n      return { success: true, data: state }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: {\r\n          message: 'Failed to save state to localStorage',\r\n          details: { error: String(error) }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear all user state from localStorage\r\n   */\r\n  static clearState(): void {\r\n    localStorage.removeItem(StateManager.STORAGE_KEY)\r\n  }\r\n\r\n  /**\r\n   * Export user state as JSON string\r\n   */\r\n  static exportState(): string {\r\n    const state = StateManager.loadState()\r\n    return JSON.stringify(state, null, 2)\r\n  }\r\n\r\n  /**\r\n   * Import user state from JSON string with validation\r\n   */\r\n  static importState(jsonData: string, dryRun: boolean = false): ValidationResult<UserState> {\r\n    try {\r\n      const parsed = JSON.parse(jsonData)\r\n      const validation = validateImportData(parsed)\r\n      \r\n      if (!validation.success) {\r\n        return validation\r\n      }\r\n\r\n      const migrated = StateManager.migrateState(validation.data!)\r\n      const finalValidation = validateUserState(migrated)\r\n      \r\n      if (!finalValidation.success) {\r\n        return finalValidation\r\n      }\r\n\r\n      if (!dryRun) {\r\n        const saveResult = StateManager.saveState(finalValidation.data!)\r\n        if (!saveResult.success) {\r\n          return saveResult\r\n        }\r\n      }\r\n\r\n      return { success: true, data: finalValidation.data }\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: {\r\n          message: 'Invalid JSON format',\r\n          details: { error: String(error) }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update watchlist with validation\r\n   */\r\n  static updateWatchlist(symbols: string[]): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newState: UserState = {\r\n      ...currentState,\r\n      watchlist: symbols\r\n    }\r\n    return StateManager.saveState(newState)\r\n  }\r\n\r\n  /**\r\n   * Add symbol to watchlist\r\n   */\r\n  static addToWatchlist(symbol: string): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    if (currentState.watchlist.includes(symbol.toUpperCase())) {\r\n      return {\r\n        success: false,\r\n        error: {\r\n          message: 'Symbol already in watchlist',\r\n          code: 'DUPLICATE_SYMBOL'\r\n        }\r\n      }\r\n    }\r\n\r\n    const newWatchlist = [...currentState.watchlist, symbol.toUpperCase()]\r\n    return StateManager.updateWatchlist(newWatchlist)\r\n  }\r\n\r\n  /**\r\n   * Remove symbol from watchlist\r\n   */\r\n  static removeFromWatchlist(symbol: string): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newWatchlist = currentState.watchlist.filter(s => s !== symbol.toUpperCase())\r\n    return StateManager.updateWatchlist(newWatchlist)\r\n  }\r\n\r\n  /**\r\n   * Update holdings for a symbol\r\n   */\r\n  static updateHolding(symbol: string, avgCost: number, shares?: number): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newState: UserState = {\r\n      ...currentState,\r\n      holdings: {\r\n        ...currentState.holdings,\r\n        [symbol.toUpperCase()]: {\r\n          avg_cost_usd: avgCost,\r\n          ...(shares !== undefined && { shares })\r\n        }\r\n      }\r\n    }\r\n    return StateManager.saveState(newState)\r\n  }\r\n\r\n  /**\r\n   * Remove holding for a symbol\r\n   */\r\n  static removeHolding(symbol: string): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newHoldings = { ...currentState.holdings }\r\n    delete newHoldings[symbol.toUpperCase()]\r\n    \r\n    const newState: UserState = {\r\n      ...currentState,\r\n      holdings: newHoldings\r\n    }\r\n    return StateManager.saveState(newState)\r\n  }\r\n\r\n  /**\r\n   * Update user settings\r\n   */\r\n  static updateSettings(settings: Partial<UserState['settings']>): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newState: UserState = {\r\n      ...currentState,\r\n      settings: {\r\n        ...currentState.settings,\r\n        ...settings\r\n      }\r\n    }\r\n    return StateManager.saveState(newState)\r\n  }\r\n\r\n  /**\r\n   * Update cache data\r\n   */\r\n  static updateCache(cache: Partial<UserState['cache']>): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newState: UserState = {\r\n      ...currentState,\r\n      cache: {\r\n        ...currentState.cache,\r\n        ...cache\r\n      }\r\n    }\r\n    return StateManager.saveState(newState)\r\n  }\r\n\r\n  /**\r\n   * Record import result in diagnostics\r\n   */\r\n  static recordImportResult(result: UserState['diagnostics']['last_import_result']): ValidationResult<UserState> {\r\n    const currentState = StateManager.loadState()\r\n    const newState: UserState = {\r\n      ...currentState,\r\n      diagnostics: {\r\n        ...currentState.diagnostics,\r\n        last_import_result: result\r\n      }\r\n    }\r\n    return StateManager.saveState(newState)\r\n  }\r\n\r\n  /**\r\n   * Migrate state from older schema versions\r\n   */\r\n  private static migrateState(state: any): UserState {\r\n    // Handle missing schema_version (assume v1.0.0)\r\n    if (!state.schema_version) {\r\n      state.schema_version = '1.0.0'\r\n    }\r\n\r\n    // Future migrations would go here\r\n    // Example:\r\n    // if (state.schema_version === '1.0.0') {\r\n    //   // Migrate to 1.1.0\r\n    //   state = migrateFrom1_0_0To1_1_0(state)\r\n    // }\r\n\r\n    // Ensure all required fields exist with defaults\r\n    const migrated: UserState = {\r\n      schema_version: StateManager.CURRENT_SCHEMA_VERSION,\r\n      watchlist: state.watchlist || [],\r\n      holdings: state.holdings || {},\r\n      settings: {\r\n        scraping_enabled: state.settings?.scraping_enabled ?? false,\r\n        degradation_enabled: state.settings?.degradation_enabled ?? true,\r\n        ga_enabled: state.settings?.ga_enabled ?? false,\r\n        clarity_enabled: state.settings?.clarity_enabled ?? false\r\n      },\r\n      cache: state.cache || {},\r\n      diagnostics: state.diagnostics || {}\r\n    }\r\n\r\n    return migrated\r\n  }\r\n\r\n  /**\r\n   * Get current schema version\r\n   */\r\n  static getCurrentSchemaVersion(): string {\r\n    return StateManager.CURRENT_SCHEMA_VERSION\r\n  }\r\n\r\n  /**\r\n   * Check if localStorage is available\r\n   */\r\n  static isStorageAvailable(): boolean {\r\n    try {\r\n      const test = '__storage_test__'\r\n      localStorage.setItem(test, test)\r\n      localStorage.removeItem(test)\r\n      return true\r\n    } catch {\r\n      return false\r\n    }\r\n  }\r\n}","/**\r\n * Data Fetcher - å¯¦ç¾ PRD è¦æ±‚çš„ status-first + fallback ç­–ç•¥\r\n * \r\n * Fetch é †åº:\r\n * 1. /data/status.json (æª¢æŸ¥æ™‚é–“æˆ³)\r\n * 2. ç¶²è·¯å¿«ç…§ (latest)\r\n * 3. localStorage å¿«ç…§ (last-known-good)\r\n * 4. é¡¯ç¤º N/A + stale indicator\r\n */\r\n\r\nimport type { \r\n  SystemStatus, \r\n  QuotesSnapshot, \r\n  DailySnapshot, \r\n  MetadataSnapshot\r\n} from '@/types'\r\nimport { \r\n  validateSystemStatus,\r\n  validateQuotesSnapshot, \r\n  validateDailySnapshot,\r\n  validateMetadataSnapshot\r\n} from '@/utils/validation'\r\nimport { StateManager } from '@/utils/state-manager'\r\n\r\nexport interface FetchResult<T> {\r\n  data: T | null\r\n  source: 'network' | 'cache' | 'fallback'\r\n  stale_level: 'fresh' | 'stale' | 'very_stale'\r\n  error?: string\r\n  as_of?: string\r\n}\r\n\r\nexport class DataFetcher {\r\n  private baseUrl: string\r\n  private cacheBustingEnabled: boolean\r\n\r\n  constructor(baseUrl: string = '', cacheBustingEnabled: boolean = true) {\r\n    this.baseUrl = baseUrl\r\n    this.cacheBustingEnabled = cacheBustingEnabled\r\n  }\r\n\r\n  /**\r\n   * ç²å–ç³»çµ±ç‹€æ…‹ - æ‰€æœ‰å…¶ä»–è«‹æ±‚çš„åŸºç¤\r\n   */\r\n  async fetchSystemStatus(): Promise<FetchResult<SystemStatus>> {\r\n    try {\r\n      const response = await fetch(`${this.baseUrl}/data/status.json`)\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const validation = validateSystemStatus(data)\r\n      \r\n      if (!validation.success) {\r\n        throw new Error(`Invalid status.json: ${validation.error?.message}`)\r\n      }\r\n\r\n      return {\r\n        data: validation.data!,\r\n        source: 'network',\r\n        stale_level: 'fresh',\r\n        as_of: validation.data!.last_updated\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to fetch system status:', error)\r\n      \r\n      // Fallback to cached status if available\r\n      const state = StateManager.loadState()\r\n      if (state.cache.last_daily_snapshot) {\r\n        return {\r\n          data: null, // We don't cache status.json separately\r\n          source: 'fallback',\r\n          stale_level: 'very_stale',\r\n          error: String(error)\r\n        }\r\n      }\r\n\r\n      return {\r\n        data: null,\r\n        source: 'fallback', \r\n        stale_level: 'very_stale',\r\n        error: String(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç²å–è‚¡åƒ¹å¿«ç…§ - å¯¦ç¾ last-known-good ç­–ç•¥\r\n   */\r\n  async fetchQuotesSnapshot(): Promise<FetchResult<QuotesSnapshot>> {\r\n    try {\r\n      // 1. å…ˆæª¢æŸ¥ status.json ç²å–æ™‚é–“æˆ³\r\n      const statusResult = await this.fetchSystemStatus()\r\n      let cacheBuster = ''\r\n      \r\n      if (this.cacheBustingEnabled && statusResult.data?.last_updated) {\r\n        const timestamp = new Date(statusResult.data.last_updated).getTime()\r\n        cacheBuster = `?t=${timestamp}`\r\n      }\r\n\r\n      // 2. å˜—è©¦ç²å–æœ€æ–°å¿«ç…§\r\n      const response = await fetch(`${this.baseUrl}/data/quotes/latest.json${cacheBuster}`)\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const validation = validateQuotesSnapshot(data)\r\n      \r\n      if (!validation.success) {\r\n        throw new Error(`Invalid quotes snapshot: ${validation.error?.message}`)\r\n      }\r\n\r\n      // 3. æˆåŠŸæ™‚æ›´æ–° localStorage cache\r\n      const userState = StateManager.loadState()\r\n      StateManager.updateCache({\r\n        last_quotes_snapshot: validation.data!\r\n      })\r\n\r\n      return {\r\n        data: validation.data!,\r\n        source: 'network',\r\n        stale_level: this.calculateStaleness(validation.data!.as_of),\r\n        as_of: validation.data!.as_of\r\n      }\r\n\r\n    } catch (error) {\r\n      console.warn('Failed to fetch quotes snapshot:', error)\r\n      \r\n      // 4. Fallback to localStorage cache\r\n      const userState = StateManager.loadState()\r\n      if (userState.cache.last_quotes_snapshot) {\r\n        return {\r\n          data: userState.cache.last_quotes_snapshot,\r\n          source: 'cache',\r\n          stale_level: this.calculateStaleness(userState.cache.last_quotes_snapshot.as_of),\r\n          as_of: userState.cache.last_quotes_snapshot.as_of,\r\n          error: String(error)\r\n        }\r\n      }\r\n\r\n      // 5. æœ€çµ‚ fallback\r\n      return {\r\n        data: null,\r\n        source: 'fallback',\r\n        stale_level: 'very_stale',\r\n        error: String(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç²å–æ¯æ—¥å¿«ç…§\r\n   */\r\n  async fetchDailySnapshot(date?: string): Promise<FetchResult<DailySnapshot>> {\r\n    try {\r\n      // ä½¿ç”¨ä»Šå¤©çš„æ—¥æœŸ (Taipei timezone) å¦‚æœæ²’æœ‰æŒ‡å®š\r\n      const targetDate = date || this.getTaipeiDateString()\r\n      \r\n      const statusResult = await this.fetchSystemStatus()\r\n      let cacheBuster = ''\r\n      \r\n      if (this.cacheBustingEnabled && statusResult.data?.last_updated) {\r\n        const timestamp = new Date(statusResult.data.last_updated).getTime()\r\n        cacheBuster = `?t=${timestamp}`\r\n      }\r\n\r\n      const response = await fetch(`${this.baseUrl}/data/daily/${targetDate}.json${cacheBuster}`)\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const validation = validateDailySnapshot(data)\r\n      \r\n      if (!validation.success) {\r\n        throw new Error(`Invalid daily snapshot: ${validation.error?.message}`)\r\n      }\r\n\r\n      // æ›´æ–° cache\r\n      StateManager.updateCache({\r\n        last_daily_snapshot: validation.data!\r\n      })\r\n\r\n      return {\r\n        data: validation.data!,\r\n        source: 'network',\r\n        stale_level: this.calculateStaleness(validation.data!.generated_at_utc),\r\n        as_of: validation.data!.generated_at_utc\r\n      }\r\n\r\n    } catch (error) {\r\n      console.warn('Failed to fetch daily snapshot:', error)\r\n      \r\n      // Fallback to cache\r\n      const userState = StateManager.loadState()\r\n      if (userState.cache.last_daily_snapshot) {\r\n        return {\r\n          data: userState.cache.last_daily_snapshot,\r\n          source: 'cache',\r\n          stale_level: this.calculateStaleness(userState.cache.last_daily_snapshot.generated_at_utc),\r\n          as_of: userState.cache.last_daily_snapshot.generated_at_utc,\r\n          error: String(error)\r\n        }\r\n      }\r\n\r\n      return {\r\n        data: null,\r\n        source: 'fallback',\r\n        stale_level: 'very_stale',\r\n        error: String(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç²å–å…ƒæ•¸æ“šå¿«ç…§\r\n   */\r\n  async fetchMetadataSnapshot(): Promise<FetchResult<MetadataSnapshot>> {\r\n    try {\r\n      const statusResult = await this.fetchSystemStatus()\r\n      let cacheBuster = ''\r\n      \r\n      if (this.cacheBustingEnabled && statusResult.data?.last_updated) {\r\n        const timestamp = new Date(statusResult.data.last_updated).getTime()\r\n        cacheBuster = `?t=${timestamp}`\r\n      }\r\n\r\n      const response = await fetch(`${this.baseUrl}/data/symbols_metadata.json${cacheBuster}`)\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const validation = validateMetadataSnapshot(data)\r\n      \r\n      if (!validation.success) {\r\n        throw new Error(`Invalid metadata snapshot: ${validation.error?.message}`)\r\n      }\r\n\r\n      // æ›´æ–° cache\r\n      StateManager.updateCache({\r\n        last_metadata: validation.data!\r\n      })\r\n\r\n      return {\r\n        data: validation.data!,\r\n        source: 'network',\r\n        stale_level: this.calculateStaleness(validation.data!.as_of),\r\n        as_of: validation.data!.as_of\r\n      }\r\n\r\n    } catch (error) {\r\n      console.warn('Failed to fetch metadata snapshot:', error)\r\n      \r\n      // Fallback to cache\r\n      const userState = StateManager.loadState()\r\n      if (userState.cache.last_metadata) {\r\n        return {\r\n          data: userState.cache.last_metadata,\r\n          source: 'cache',\r\n          stale_level: this.calculateStaleness(userState.cache.last_metadata.as_of),\r\n          as_of: userState.cache.last_metadata.as_of,\r\n          error: String(error)\r\n        }\r\n      }\r\n\r\n      return {\r\n        data: null,\r\n        source: 'fallback',\r\n        stale_level: 'very_stale',\r\n        error: String(error)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è¨ˆç®—æ•¸æ“šæ–°é®®åº¦\r\n   */\r\n  private calculateStaleness(asOfString: string): 'fresh' | 'stale' | 'very_stale' {\r\n    try {\r\n      const asOf = new Date(asOfString)\r\n      const now = new Date()\r\n      const ageMinutes = (now.getTime() - asOf.getTime()) / (1000 * 60)\r\n\r\n      if (ageMinutes <= 60) return 'fresh'        // 1 å°æ™‚å…§\r\n      if (ageMinutes <= 24 * 60) return 'stale'  // 24 å°æ™‚å…§\r\n      return 'very_stale'                         // è¶…é 24 å°æ™‚\r\n    } catch {\r\n      return 'very_stale'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç²å– Taipei æ™‚å€çš„æ—¥æœŸå­—ä¸² (YYYY-MM-DD)\r\n   */\r\n  private getTaipeiDateString(): string {\r\n    const now = new Date()\r\n    // è½‰æ›ç‚º Taipei æ™‚å€ (UTC+8)\r\n    const taipeiTime = new Date(now.getTime() + (8 * 60 * 60 * 1000))\r\n    return taipeiTime.toISOString().split('T')[0]\r\n  }\r\n}\r\n\r\n// å°å‡ºå–®ä¾‹å¯¦ä¾‹ - æ ¹æ“šç’°å¢ƒè¨­ç½®æ­£ç¢ºçš„åŸºç¤è·¯å¾‘\r\nconst getBaseUrl = () => {\r\n  if (typeof window !== 'undefined') {\r\n    // åœ¨ç€è¦½å™¨ç’°å¢ƒä¸­ï¼Œæª¢æŸ¥æ˜¯å¦åœ¨ GitHub Pages\r\n    const hostname = window.location.hostname\r\n    const pathname = window.location.pathname\r\n    \r\n    if (hostname === 'romarin-hsieh.github.io' && pathname.startsWith('/investment-dashboard')) {\r\n      return '/investment-dashboard'\r\n    }\r\n  }\r\n  \r\n  // é–‹ç™¼ç’°å¢ƒæˆ–å…¶ä»–ç’°å¢ƒä½¿ç”¨ç›¸å°è·¯å¾‘\r\n  return ''\r\n}\r\n\r\nexport const dataFetcher = new DataFetcher(getBaseUrl())","/**\r\n * Symbols Configuration Manager\r\n * æ··åˆå¼æ¶æ§‹ï¼šç’°å¢ƒè®Šæ•¸ + éœæ…‹ fallback + å¯é¸çš„å‹•æ…‹æ›´æ–°\r\n */\r\n\r\nexport class SymbolsConfigManager {\r\n  constructor() {\r\n    this.cache = new Map()\r\n    this.lastUpdate = null\r\n    // å¾ç’°å¢ƒè®Šæ•¸è®€å–å¿«å–æ™‚é–“ï¼Œé è¨­ 10 åˆ†é˜\r\n    const cacheMinutes = import.meta.env.VITE_CACHE_SYMBOLS_MINUTES || 10\r\n    this.updateInterval = cacheMinutes * 60 * 1000 // è½‰æ›ç‚ºæ¯«ç§’\r\n    \r\n    console.log(`Symbols cache interval set to ${cacheMinutes} minutes`)\r\n  }\r\n\r\n  /**\r\n   * ç²å– symbols åˆ—è¡¨ - å¤šå±¤ fallback ç­–ç•¥\r\n   */\r\n  async getSymbolsList() {\r\n    try {\r\n      // 1. å„ªå…ˆä½¿ç”¨ç’°å¢ƒè®Šæ•¸ (æœ€é«˜å„ªå…ˆç´š)\r\n      const envSymbols = this.getEnvironmentSymbols()\r\n      if (envSymbols.length > 0) {\r\n        console.log('Using symbols from environment variables')\r\n        return envSymbols\r\n      }\r\n\r\n      // 2. å˜—è©¦å¾å¿«å–ç²å– (å¦‚æœåœ¨æ›´æ–°é–“éš”å…§)\r\n      if (this.isCacheValid()) {\r\n        console.log('Using cached symbols list')\r\n        return this.cache.get('symbols') || []\r\n      }\r\n\r\n      // 3. å˜—è©¦å¾ universe.json ç²å– (æ–°å¢)\r\n      const universeSymbols = await this.fetchFromUniverse()\r\n      if (universeSymbols.length > 0) {\r\n        this.updateCache('symbols', universeSymbols)\r\n        console.log('Using symbols from universe.json')\r\n        return universeSymbols\r\n      }\r\n\r\n      // 4. å˜—è©¦å¾ Google Sheets ç²å– (å¯é¸ï¼Œéé˜»å¡)\r\n      const sheetsSymbols = await this.fetchFromGoogleSheets()\r\n      if (sheetsSymbols.length > 0) {\r\n        this.updateCache('symbols', sheetsSymbols)\r\n        console.log('Using symbols from Google Sheets')\r\n        return sheetsSymbols\r\n      }\r\n\r\n      // 5. æœ€çµ‚ fallback åˆ°éœæ…‹é…ç½®\r\n      const staticSymbols = this.getStaticSymbols()\r\n      console.log('Using static fallback symbols')\r\n      return staticSymbols\r\n\r\n    } catch (error) {\r\n      console.warn('Error fetching symbols config:', error)\r\n      return this.getStaticSymbols()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¾ universe.json ç²å– symbols\r\n   */\r\n  async fetchFromUniverse() {\r\n    try {\r\n      console.log('Fetching symbols from universe.json...')\r\n      const response = await fetch('/config/universe.json')\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`)\r\n      }\r\n      \r\n      const data = await response.json()\r\n      \r\n      if (data.symbols && Array.isArray(data.symbols)) {\r\n        const symbols = data.symbols\r\n          .filter(symbol => symbol && typeof symbol === 'string')\r\n          .map(symbol => symbol.trim().toUpperCase())\r\n        \r\n        console.log(`âœ… Loaded ${symbols.length} symbols from universe.json:`, symbols)\r\n        return symbols\r\n      }\r\n      \r\n      throw new Error('Invalid universe.json format')\r\n      \r\n    } catch (error) {\r\n      console.warn('Failed to fetch from universe.json:', error)\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¾ç’°å¢ƒè®Šæ•¸ç²å– symbols\r\n   */\r\n  getEnvironmentSymbols() {\r\n    const envSymbols = import.meta.env.VITE_STOCK_SYMBOLS\r\n    if (!envSymbols) return []\r\n\r\n    try {\r\n      // æ”¯æ´å¤šç¨®æ ¼å¼ï¼š\r\n      // VITE_STOCK_SYMBOLS=\"AAPL,MSFT,GOOGL\"\r\n      // VITE_STOCK_SYMBOLS='[\"AAPL\",\"MSFT\",\"GOOGL\"]'\r\n      if (envSymbols.startsWith('[')) {\r\n        return JSON.parse(envSymbols)\r\n      } else {\r\n        return envSymbols.split(',').map(s => s.trim()).filter(Boolean)\r\n      }\r\n    } catch (error) {\r\n      console.warn('Invalid VITE_STOCK_SYMBOLS format:', error)\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å¾ Google Sheets ç²å– (éé˜»å¡ï¼Œæœ‰è¶…æ™‚)\r\n   */\r\n  async fetchFromGoogleSheets() {\r\n    const sheetsUrl = import.meta.env.VITE_GOOGLE_SHEETS_URL\r\n    if (!sheetsUrl) return []\r\n\r\n    try {\r\n      // å¾ç’°å¢ƒè®Šæ•¸è®€å–è¶…æ™‚æ™‚é–“ï¼Œé è¨­ 3 ç§’\r\n      const timeoutMs = import.meta.env.VITE_SHEETS_TIMEOUT_MS || 3000\r\n      const controller = new AbortController()\r\n      const timeoutId = setTimeout(() => controller.abort(), timeoutMs)\r\n\r\n      const response = await fetch(sheetsUrl, {\r\n        signal: controller.signal,\r\n        headers: {\r\n          'Accept': 'application/json'\r\n        }\r\n      })\r\n\r\n      clearTimeout(timeoutId)\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      return this.parseGoogleSheetsData(data)\r\n\r\n    } catch (error) {\r\n      if (error.name === 'AbortError') {\r\n        console.warn('Google Sheets request timed out')\r\n      } else {\r\n        console.warn('Failed to fetch from Google Sheets:', error)\r\n      }\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è§£æ Google Sheets æ•¸æ“š\r\n   */\r\n  parseGoogleSheetsData(data) {\r\n    try {\r\n      // æ”¯æ´å¤šç¨® Google Sheets è¿”å›æ ¼å¼ï¼š\r\n      // æ ¼å¼1: { values: [[\"Symbol\"], [\"ASTS\"], [\"RIVN\"], ...] }\r\n      // æ ¼å¼2: { values: [[\"ASTS\"], [\"RIVN\"], [\"PL\"], ...] } (ç„¡æ¨™é¡Œè¡Œ)\r\n      // æ ¼å¼3: [{\"Symbol\": \"ASTS\"}, {\"Symbol\": \"RIVN\"}, ...] (JSON æ ¼å¼)\r\n      // æ ¼å¼4: [\"ASTS\", \"RIVN\", \"PL\", ...] (ç°¡å–®é™£åˆ—)\r\n      \r\n      // æ ¼å¼4: ç°¡å–®é™£åˆ—\r\n      if (Array.isArray(data) && data.length > 0 && typeof data[0] === 'string') {\r\n        return data\r\n          .filter(symbol => symbol && typeof symbol === 'string')\r\n          .map(symbol => symbol.trim().toUpperCase())\r\n      }\r\n      \r\n      // æ ¼å¼3: JSON ç‰©ä»¶é™£åˆ—\r\n      if (Array.isArray(data) && data.length > 0 && typeof data[0] === 'object') {\r\n        return data\r\n          .map(item => item.Symbol || item.symbol || item.SYMBOL)\r\n          .filter(symbol => symbol && typeof symbol === 'string')\r\n          .map(symbol => symbol.trim().toUpperCase())\r\n      }\r\n      \r\n      // æ ¼å¼1 & æ ¼å¼2: Google Sheets API æ¨™æº–æ ¼å¼\r\n      if (data.values && Array.isArray(data.values)) {\r\n        const values = data.values\r\n        \r\n        // æª¢æŸ¥ç¬¬ä¸€è¡Œæ˜¯å¦ç‚ºæ¨™é¡Œè¡Œ\r\n        const firstRow = values[0]\r\n        const isHeaderRow = firstRow && firstRow[0] && \r\n          (firstRow[0].toLowerCase().includes('symbol') || \r\n           firstRow[0].toLowerCase().includes('stock') ||\r\n           firstRow[0].toLowerCase().includes('ticker'))\r\n        \r\n        // æ±ºå®šå¾å“ªä¸€è¡Œé–‹å§‹è™•ç†\r\n        const startIndex = isHeaderRow ? 1 : 0\r\n        \r\n        return values\r\n          .slice(startIndex) // è·³éæ¨™é¡Œè¡Œï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰\r\n          .map(row => row[0]) // å–ç¬¬ä¸€åˆ—\r\n          .filter(symbol => symbol && typeof symbol === 'string')\r\n          .map(symbol => symbol.trim().toUpperCase())\r\n      }\r\n      \r\n      console.warn('Unrecognized Google Sheets data format:', data)\r\n      return []\r\n    } catch (error) {\r\n      console.warn('Failed to parse Google Sheets data:', error)\r\n      return []\r\n    }\r\n  }\r\n\r\n  /**\r\n   * éœæ…‹ fallback symbols - 24 stocks from updated list\r\n   */\r\n  getStaticSymbols() {\r\n    return [\r\n      'ASTS', 'RIVN', 'PL', 'ONDS', 'RDW', \r\n      'AVAV', 'MDB', 'ORCL', 'TSM', 'RKLB',\r\n      'CRM', 'NVDA', 'AVGO', 'AMZN', 'GOOG',\r\n      'META', 'NFLX', 'LEU', 'SMR', 'CRWV',\r\n      'IONQ', 'PLTR', 'HIMS', 'TSLA'\r\n    ]\r\n  }\r\n\r\n  /**\r\n   * å¿«å–ç®¡ç†\r\n   */\r\n  updateCache(key, value) {\r\n    this.cache.set(key, value)\r\n    this.lastUpdate = Date.now()\r\n  }\r\n\r\n  isCacheValid() {\r\n    if (!this.lastUpdate) return false\r\n    return (Date.now() - this.lastUpdate) < this.updateInterval\r\n  }\r\n\r\n  /**\r\n   * æ‰‹å‹•åˆ·æ–°é…ç½®\r\n   */\r\n  async refresh() {\r\n    this.cache.clear()\r\n    this.lastUpdate = null\r\n    return await this.getSymbolsList()\r\n  }\r\n\r\n  /**\r\n   * ç²å–é…ç½®ä¾†æºä¿¡æ¯\r\n   */\r\n  getConfigSource() {\r\n    const envSymbols = this.getEnvironmentSymbols()\r\n    if (envSymbols.length > 0) return 'environment'\r\n    \r\n    if (this.isCacheValid()) return 'cache'\r\n    \r\n    const sheetsUrl = import.meta.env.VITE_GOOGLE_SHEETS_URL\r\n    if (sheetsUrl) return 'google_sheets'\r\n    \r\n    return 'static'\r\n  }\r\n\r\n  /**\r\n   * ç²å–å¿«å–é…ç½®ä¿¡æ¯\r\n   */\r\n  getCacheInfo() {\r\n    const cacheMinutes = import.meta.env.VITE_CACHE_SYMBOLS_MINUTES || 10\r\n    const timeoutMs = import.meta.env.VITE_SHEETS_TIMEOUT_MS || 3000\r\n    \r\n    return {\r\n      cacheIntervalMinutes: cacheMinutes,\r\n      sheetsTimeoutMs: timeoutMs,\r\n      lastUpdate: this.lastUpdate,\r\n      cacheValid: this.isCacheValid(),\r\n      nextUpdateIn: this.lastUpdate ? \r\n        Math.max(0, this.updateInterval - (Date.now() - this.lastUpdate)) : 0\r\n    }\r\n  }\r\n}\r\n\r\n// å°å‡ºå–®ä¾‹\r\nexport const symbolsConfig = new SymbolsConfigManager()","/**\r\n * TradingView Widget å¿«å–ç®¡ç†\r\n * é¿å…é‡è¤‡è¼‰å…¥ç›¸åŒçš„ widgets\r\n */\r\n\r\nclass WidgetCache {\r\n  constructor() {\r\n    this.cache = new Map()\r\n    this.loadingPromises = new Map()\r\n    this.maxCacheSize = 50 // æœ€å¤šå¿«å– 50 å€‹ widgets\r\n    this.cacheTimeout = 5 * 60 * 1000 // 5 åˆ†é˜éæœŸ\r\n  }\r\n\r\n  /**\r\n   * ç”Ÿæˆå¿«å–éµå€¼\r\n   */\r\n  generateKey(widgetType, symbol, exchange) {\r\n    return `${widgetType}-${symbol}-${exchange}`\r\n  }\r\n\r\n  /**\r\n   * æª¢æŸ¥æ˜¯å¦å·²å¿«å–\r\n   */\r\n  has(widgetType, symbol, exchange) {\r\n    const key = this.generateKey(widgetType, symbol, exchange)\r\n    const cached = this.cache.get(key)\r\n    \r\n    if (!cached) return false\r\n    \r\n    // æª¢æŸ¥æ˜¯å¦éæœŸ\r\n    if (Date.now() - cached.timestamp > this.cacheTimeout) {\r\n      this.cache.delete(key)\r\n      return false\r\n    }\r\n    \r\n    return true\r\n  }\r\n\r\n  /**\r\n   * ç²å–å¿«å–çš„ widget\r\n   */\r\n  get(widgetType, symbol, exchange) {\r\n    const key = this.generateKey(widgetType, symbol, exchange)\r\n    const cached = this.cache.get(key)\r\n    \r\n    if (cached && Date.now() - cached.timestamp <= this.cacheTimeout) {\r\n      return cached.data\r\n    }\r\n    \r\n    return null\r\n  }\r\n\r\n  /**\r\n   * è¨­å®šå¿«å–\r\n   */\r\n  set(widgetType, symbol, exchange, data) {\r\n    const key = this.generateKey(widgetType, symbol, exchange)\r\n    \r\n    // å¦‚æœå¿«å–å·²æ»¿ï¼Œåˆªé™¤æœ€èˆŠçš„é …ç›®\r\n    if (this.cache.size >= this.maxCacheSize) {\r\n      const firstKey = this.cache.keys().next().value\r\n      this.cache.delete(firstKey)\r\n    }\r\n    \r\n    this.cache.set(key, {\r\n      data,\r\n      timestamp: Date.now()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * æª¢æŸ¥æ˜¯å¦æ­£åœ¨è¼‰å…¥\r\n   */\r\n  isLoading(widgetType, symbol, exchange) {\r\n    const key = this.generateKey(widgetType, symbol, exchange)\r\n    return this.loadingPromises.has(key)\r\n  }\r\n\r\n  /**\r\n   * è¨­å®šè¼‰å…¥ç‹€æ…‹\r\n   */\r\n  setLoading(widgetType, symbol, exchange, promise) {\r\n    const key = this.generateKey(widgetType, symbol, exchange)\r\n    this.loadingPromises.set(key, promise)\r\n    \r\n    // è¼‰å…¥å®Œæˆå¾Œæ¸…é™¤\r\n    promise.finally(() => {\r\n      this.loadingPromises.delete(key)\r\n    })\r\n    \r\n    return promise\r\n  }\r\n\r\n  /**\r\n   * ç²å–è¼‰å…¥ä¸­çš„ Promise\r\n   */\r\n  getLoadingPromise(widgetType, symbol, exchange) {\r\n    const key = this.generateKey(widgetType, symbol, exchange)\r\n    return this.loadingPromises.get(key)\r\n  }\r\n\r\n  /**\r\n   * æ¸…é™¤å¿«å–\r\n   */\r\n  clear() {\r\n    this.cache.clear()\r\n    this.loadingPromises.clear()\r\n  }\r\n\r\n  /**\r\n   * æ¸…é™¤éæœŸå¿«å–\r\n   */\r\n  clearExpired() {\r\n    const now = Date.now()\r\n    for (const [key, cached] of this.cache.entries()) {\r\n      if (now - cached.timestamp > this.cacheTimeout) {\r\n        this.cache.delete(key)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * ç²å–å¿«å–çµ±è¨ˆ\r\n   */\r\n  getStats() {\r\n    return {\r\n      cacheSize: this.cache.size,\r\n      loadingCount: this.loadingPromises.size,\r\n      maxCacheSize: this.maxCacheSize\r\n    }\r\n  }\r\n}\r\n\r\n// å–®ä¾‹æ¨¡å¼\r\nexport const widgetCache = new WidgetCache()\r\n\r\n// å®šæœŸæ¸…ç†éæœŸå¿«å–\r\nsetInterval(() => {\r\n  widgetCache.clearExpired()\r\n}, 60000) // æ¯åˆ†é˜æ¸…ç†ä¸€æ¬¡\r\n\r\nexport default widgetCache","/**\r\n * TradingView Widget è¼‰å…¥ç¯€æµç®¡ç†\r\n * é™åˆ¶åŒæ™‚è¼‰å…¥çš„ widget æ•¸é‡ï¼Œé¿å…ç€è¦½å™¨éè¼‰\r\n */\r\n\r\nclass WidgetThrottle {\r\n  constructor() {\r\n    this.maxConcurrent = 6 // å¢åŠ åˆ° 6 å€‹åŒæ™‚è¼‰å…¥\r\n    this.currentLoading = 0\r\n    this.queue = []\r\n    this.loadDelay = 100 // æ¸›å°‘åˆ° 100ms é–“éš”\r\n  }\r\n\r\n  /**\r\n   * æ·»åŠ  widget è¼‰å…¥ä»»å‹™åˆ°ä½‡åˆ—\r\n   */\r\n  async addToQueue(loadFunction) {\r\n    return new Promise((resolve, reject) => {\r\n      this.queue.push({\r\n        loadFunction,\r\n        resolve,\r\n        reject,\r\n        timestamp: Date.now()\r\n      })\r\n      \r\n      this.processQueue()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * è™•ç†è¼‰å…¥ä½‡åˆ—\r\n   */\r\n  async processQueue() {\r\n    if (this.currentLoading >= this.maxConcurrent || this.queue.length === 0) {\r\n      return\r\n    }\r\n\r\n    const task = this.queue.shift()\r\n    this.currentLoading++\r\n\r\n    try {\r\n      // æ·»åŠ è¼‰å…¥å»¶é²ï¼Œé¿å…åŒæ™‚ç™¼é€å¤ªå¤šè«‹æ±‚\r\n      if (this.currentLoading > 1) {\r\n        await this.delay(this.loadDelay)\r\n      }\r\n\r\n      const result = await task.loadFunction()\r\n      task.resolve(result)\r\n    } catch (error) {\r\n      task.reject(error)\r\n    } finally {\r\n      this.currentLoading--\r\n      \r\n      // ç¹¼çºŒè™•ç†ä½‡åˆ—ä¸­çš„ä¸‹ä¸€å€‹ä»»å‹™\r\n      setTimeout(() => {\r\n        this.processQueue()\r\n      }, 25) // æ¸›å°‘åˆ° 25ms\r\n    }\r\n  }\r\n\r\n  /**\r\n   * å»¶é²å‡½æ•¸\r\n   */\r\n  delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n  }\r\n\r\n  /**\r\n   * ç²å–ä½‡åˆ—ç‹€æ…‹\r\n   */\r\n  getStatus() {\r\n    return {\r\n      currentLoading: this.currentLoading,\r\n      queueLength: this.queue.length,\r\n      maxConcurrent: this.maxConcurrent\r\n    }\r\n  }\r\n\r\n  /**\r\n   * æ¸…ç©ºä½‡åˆ—\r\n   */\r\n  clearQueue() {\r\n    this.queue.forEach(task => {\r\n      task.reject(new Error('Queue cleared'))\r\n    })\r\n    this.queue = []\r\n  }\r\n\r\n  /**\r\n   * èª¿æ•´ä¸¦ç™¼æ•¸é‡\r\n   */\r\n  setMaxConcurrent(max) {\r\n    this.maxConcurrent = Math.max(1, Math.min(10, max))\r\n  }\r\n}\r\n\r\n// å–®ä¾‹æ¨¡å¼\r\nexport const widgetThrottle = new WidgetThrottle()\r\n\r\nexport default widgetThrottle","<template>\r\n  <div class=\"fast-widget\" :id=\"containerId\" ref=\"container\">\r\n    <div v-if=\"!loaded && !error\" class=\"fast-loading\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <span>Loading {{ widgetType }}...</span>\r\n    </div>\r\n    \r\n    <div v-if=\"error\" class=\"fast-error\">\r\n      <span>âš ï¸ Failed to load</span>\r\n      <button @click=\"retry\" class=\"retry-btn\">Retry</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { widgetCache } from '@/utils/widgetCache'\r\nimport { widgetThrottle } from '@/utils/widgetThrottle'\r\nimport { widgetPreloader } from '@/utils/widgetPreloader'\r\n\r\nexport default {\r\n  name: 'FastTradingViewWidget',\r\n  props: {\r\n    widgetType: {\r\n      type: String,\r\n      required: true,\r\n      validator: (value) => ['overview', 'technical'].includes(value)\r\n    },\r\n    symbol: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    exchange: {\r\n      type: String,\r\n      default: 'NASDAQ'\r\n    },\r\n    priority: {\r\n      type: Number,\r\n      default: 1 // 1=é«˜å„ªå…ˆç´š, 2=ä¸­å„ªå…ˆç´š, 3=ä½å„ªå…ˆç´š\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n      error: false,\r\n      loadStartTime: 0,\r\n      isVisible: false,\r\n      observer: null\r\n    }\r\n  },\r\n  computed: {\r\n    containerId() {\r\n      return `fast-widget-${this.widgetType}-${this.symbol}-${Date.now()}`\r\n    },\r\n    \r\n    cacheKey() {\r\n      return `${this.widgetType}-${this.symbol}-${this.exchange}`\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.setupIntersectionObserver()\r\n  },\r\n  beforeUnmount() {\r\n    if (this.observer) {\r\n      this.observer.disconnect()\r\n    }\r\n  },\r\n  methods: {\r\n    setupIntersectionObserver() {\r\n      // æ ¹æ“šå„ªå…ˆç´šè¨­ç½®ä¸åŒçš„ rootMargin\r\n      const rootMargins = {\r\n        1: '300px', // é«˜å„ªå…ˆç´šï¼šæå‰ 300px è¼‰å…¥\r\n        2: '150px', // ä¸­å„ªå…ˆç´šï¼šæå‰ 150px è¼‰å…¥\r\n        3: '50px'   // ä½å„ªå…ˆç´šï¼šæå‰ 50px è¼‰å…¥\r\n      }\r\n\r\n      this.observer = new IntersectionObserver(\r\n        (entries) => {\r\n          entries.forEach((entry) => {\r\n            if (entry.isIntersecting && !this.loaded && !this.error) {\r\n              this.isVisible = true\r\n              this.loadWidget()\r\n              this.observer.disconnect() // è¼‰å…¥å¾Œåœæ­¢è§€å¯Ÿ\r\n            }\r\n          })\r\n        },\r\n        {\r\n          rootMargin: rootMargins[this.priority] || '150px',\r\n          threshold: 0.1\r\n        }\r\n      )\r\n\r\n      this.observer.observe(this.$refs.container)\r\n    },\r\n\r\n    async loadWidget() {\r\n      this.loadStartTime = performance.now()\r\n      this.loaded = false\r\n      this.error = false\r\n\r\n      try {\r\n        // æ ¹æ“šå„ªå…ˆç´šæ·»åŠ å»¶é²\r\n        const delays = {\r\n          1: 0,     // é«˜å„ªå…ˆç´šï¼šç«‹å³è¼‰å…¥\r\n          2: 300,   // ä¸­å„ªå…ˆç´šï¼šå»¶é² 300ms\r\n          3: 600    // ä½å„ªå…ˆç´šï¼šå»¶é² 600ms\r\n        }\r\n\r\n        const delay = delays[this.priority] || 0\r\n        if (delay > 0) {\r\n          await new Promise(resolve => setTimeout(resolve, delay))\r\n        }\r\n\r\n        // æª¢æŸ¥å¿«å–\r\n        if (widgetCache.has(this.widgetType, this.symbol, this.exchange)) {\r\n          const cached = widgetCache.get(this.widgetType, this.symbol, this.exchange)\r\n          if (cached) {\r\n            this.renderCachedWidget(cached)\r\n            return\r\n          }\r\n        }\r\n\r\n        // æª¢æŸ¥æ˜¯å¦æ­£åœ¨è¼‰å…¥ç›¸åŒçš„ widget\r\n        if (widgetCache.isLoading(this.widgetType, this.symbol, this.exchange)) {\r\n          const loadingPromise = widgetCache.getLoadingPromise(this.widgetType, this.symbol, this.exchange)\r\n          await loadingPromise\r\n          return\r\n        }\r\n\r\n        // æ·»åŠ åˆ°è¼‰å…¥ä½‡åˆ—\r\n        const loadPromise = widgetThrottle.addToQueue(() => this.createWidget())\r\n        widgetCache.setLoading(this.widgetType, this.symbol, this.exchange, loadPromise)\r\n        \r\n        await loadPromise\r\n\r\n      } catch (err) {\r\n        console.error('Failed to load widget:', err)\r\n        this.error = true\r\n      }\r\n    },\r\n\r\n    async createWidget() {\r\n      return new Promise((resolve, reject) => {\r\n        this.$nextTick(async () => {\r\n          const container = this.$refs.container\r\n          if (!container) {\r\n            reject(new Error('Container not found'))\r\n            return\r\n          }\r\n\r\n          const config = this.getWidgetConfig()\r\n          const scriptUrl = this.getScriptUrl()\r\n          \r\n          // æª¢æŸ¥æ˜¯å¦å·²é è¼‰å…¥è…³æœ¬\r\n          if (!widgetPreloader.isPreloaded(scriptUrl)) {\r\n            try {\r\n              await widgetPreloader.preloadScript(scriptUrl)\r\n            } catch (error) {\r\n              console.warn('Script preload failed, continuing with normal load:', error)\r\n            }\r\n          }\r\n\r\n          const script = document.createElement('script')\r\n          \r\n          script.type = 'text/javascript'\r\n          script.src = scriptUrl\r\n          script.async = true\r\n          script.innerHTML = JSON.stringify(config)\r\n          \r\n          // è¨­å®šè¶…æ™‚ - æ ¹æ“šå„ªå…ˆç´šèª¿æ•´\r\n          const timeouts = {\r\n            1: 3000,  // é«˜å„ªå…ˆç´šï¼š3ç§’è¶…æ™‚\r\n            2: 5000,  // ä¸­å„ªå…ˆç´šï¼š5ç§’è¶…æ™‚\r\n            3: 8000   // ä½å„ªå…ˆç´šï¼š8ç§’è¶…æ™‚\r\n          }\r\n          \r\n          const timeout = setTimeout(() => {\r\n            this.error = true\r\n            reject(new Error('Widget load timeout'))\r\n          }, timeouts[this.priority] || 5000)\r\n          \r\n          script.onload = () => {\r\n            clearTimeout(timeout)\r\n            this.loaded = true\r\n            \r\n            const loadTime = performance.now() - this.loadStartTime\r\n            console.log(`Widget ${this.cacheKey} loaded in ${loadTime.toFixed(2)}ms (Priority: ${this.priority})`)\r\n            \r\n            // å¿«å– widget é…ç½®\r\n            widgetCache.set(this.widgetType, this.symbol, this.exchange, {\r\n              config,\r\n              scriptUrl\r\n            })\r\n            \r\n            resolve()\r\n          }\r\n          \r\n          script.onerror = () => {\r\n            clearTimeout(timeout)\r\n            this.error = true\r\n            reject(new Error('Script load failed'))\r\n          }\r\n          \r\n          container.appendChild(script)\r\n        })\r\n      })\r\n    },\r\n\r\n    getWidgetConfig() {\r\n      if (this.widgetType === 'overview') {\r\n        return {\r\n          \"lineWidth\": 2,\r\n          \"lineType\": 0,\r\n          \"chartType\": \"candlesticks\",\r\n          \"showVolume\": true,\r\n          \"fontColor\": \"rgb(106, 109, 120)\",\r\n          \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n          \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n          \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n          \"backgroundColor\": \"#ffffff\",\r\n          \"widgetFontColor\": \"#0F0F0F\",\r\n          \"upColor\": \"#22ab94\",\r\n          \"downColor\": \"#f7525f\",\r\n          \"borderUpColor\": \"#22ab94\",\r\n          \"borderDownColor\": \"#f7525f\",\r\n          \"wickUpColor\": \"#22ab94\",\r\n          \"wickDownColor\": \"#f7525f\",\r\n          \"colorTheme\": \"light\",\r\n          \"isTransparent\": true,\r\n          \"locale\": \"en\",\r\n          \"chartOnly\": false,\r\n          \"scalePosition\": \"right\",\r\n          \"scaleMode\": \"Normal\",\r\n          \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n          \"valuesTracking\": \"1\",\r\n          \"changeMode\": \"price-and-percent\",\r\n          \"symbols\": [[this.symbol, `${this.exchange}:${this.symbol}|1D`]],\r\n          \"dateRanges\": [\"1d|1\", \"1m|30\", \"3m|60\", \"12m|1D\", \"60m|1W\", \"all|1M\"],\r\n          \"fontSize\": \"10\",\r\n          \"headerFontSize\": \"medium\",\r\n          \"autosize\": true,\r\n          \"width\": \"100%\",\r\n          \"height\": \"100%\",\r\n          \"noTimeScale\": false,\r\n          \"hideDateRanges\": false,\r\n          \"showMA\": true,\r\n          \"maLength\": 9,\r\n          \"maLineColor\": \"#2962FF\",\r\n          \"maLineWidth\": 1,\r\n          \"hideMarketStatus\": false,\r\n          \"hideSymbolLogo\": false\r\n        }\r\n      } else if (this.widgetType === 'technical') {\r\n        return {\r\n          \"interval\": \"1D\",\r\n          \"width\": \"100%\",\r\n          \"height\": \"100%\",\r\n          \"isTransparent\": false,\r\n          \"symbol\": `${this.exchange}:${this.symbol}`,\r\n          \"showIntervalTabs\": true,\r\n          \"locale\": \"en\",\r\n          \"colorTheme\": \"light\"\r\n        }\r\n      }\r\n    },\r\n\r\n    getScriptUrl() {\r\n      if (this.widgetType === 'overview') {\r\n        return 'https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js'\r\n      } else if (this.widgetType === 'technical') {\r\n        return 'https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js'\r\n      }\r\n    },\r\n\r\n    renderCachedWidget(cached) {\r\n      this.$nextTick(() => {\r\n        const container = this.$refs.container\r\n        if (!container) return\r\n\r\n        const script = document.createElement('script')\r\n        script.type = 'text/javascript'\r\n        script.src = cached.scriptUrl\r\n        script.async = true\r\n        script.innerHTML = JSON.stringify(cached.config)\r\n        \r\n        script.onload = () => {\r\n          this.loaded = true\r\n          const loadTime = performance.now() - this.loadStartTime\r\n          console.log(`Cached widget ${this.cacheKey} loaded in ${loadTime.toFixed(2)}ms`)\r\n        }\r\n        \r\n        container.appendChild(script)\r\n      })\r\n    },\r\n\r\n    async retry() {\r\n      this.setupIntersectionObserver()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fast-widget {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 500px; /* å¢åŠ åˆ° 500px ç¢ºä¿ X-axis é¡¯ç¤º */\r\n  position: relative;\r\n}\r\n\r\n.fast-loading {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  min-height: 500px; /* å¢åŠ åˆ° 500px */\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  color: #6c757d;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: 3px solid #e9ecef;\r\n  border-top: 3px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.fast-loading span {\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.fast-error {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  min-height: 500px; /* å¢åŠ åˆ° 500px */\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  color: #721c24;\r\n}\r\n\r\n.retry-btn {\r\n  margin-top: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #c82333;\r\n}\r\n</style>","<template>\r\n  <div class=\"technical-indicators\">\r\n    <div class=\"indicators-header\">\r\n      <h4>Technical Indicators</h4>\r\n      <div v-if=\"cacheInfo\" class=\"cache-info\">\r\n        <small>{{ cacheInfo }}</small>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-if=\"loading\" class=\"loading-state\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <span>Loading technical data...</span>\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error-state\">\r\n      <span class=\"error-icon\">âš ï¸</span>\r\n      <span>{{ error }}</span>\r\n    </div>\r\n    \r\n    <div v-else class=\"indicators-grid\">\r\n      <!-- Row 1: MA5, MA10, MA30 -->\r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">MA5</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.ma5?.signal)\">\r\n            {{ formatValue(technicalData?.ma5?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.ma5?.value)\">\r\n            {{ formatPriceDiff(technicalData?.ma5?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">MA10</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.ma10?.signal)\">\r\n            {{ formatValue(technicalData?.ma10?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.ma10?.value)\">\r\n            {{ formatPriceDiff(technicalData?.ma10?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">MA30</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.ma30?.signal)\">\r\n            {{ formatValue(technicalData?.ma30?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.ma30?.value)\">\r\n            {{ formatPriceDiff(technicalData?.ma30?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Row 2: SMA5, SMA10, SMA30 -->\r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">SMA5</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.sma5?.signal)\">\r\n            {{ formatValue(technicalData?.sma5?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.sma5?.value)\">\r\n            {{ formatPriceDiff(technicalData?.sma5?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">SMA10</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.sma10?.signal)\">\r\n            {{ formatValue(technicalData?.sma10?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.sma10?.value)\">\r\n            {{ formatPriceDiff(technicalData?.sma10?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">SMA30</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.sma30?.signal)\">\r\n            {{ formatValue(technicalData?.sma30?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.sma30?.value)\">\r\n            {{ formatPriceDiff(technicalData?.sma30?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Row 3: Ichimoku Components -->\r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">Ichimoku Conversion (9)</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.ichimokuConversionLine?.signal)\">\r\n            {{ formatValue(technicalData?.ichimokuConversionLine?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.ichimokuConversionLine?.value)\">\r\n            {{ formatPriceDiff(technicalData?.ichimokuConversionLine?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">Ichimoku Base (26)</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.ichimokuBaseLine?.signal)\">\r\n            {{ formatValue(technicalData?.ichimokuBaseLine?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.ichimokuBaseLine?.value)\">\r\n            {{ formatPriceDiff(technicalData?.ichimokuBaseLine?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">Ichimoku Lagging (26)</span>\r\n        <div class=\"indicator-value-row\">\r\n          <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.ichimokuLaggingSpan?.signal)\">\r\n            {{ formatValue(technicalData?.ichimokuLaggingSpan?.value) }}\r\n          </span>\r\n          <span class=\"price-diff\" :class=\"getPriceDiffClass(technicalData?.ichimokuLaggingSpan?.value)\">\r\n            {{ formatPriceDiff(technicalData?.ichimokuLaggingSpan?.value) }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Row 4: Technical Indicators -->\r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">ADX (14)</span>\r\n        <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.adx14?.signal)\">\r\n          {{ formatValue(technicalData?.adx14?.value) }}\r\n        </span>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">MACD (12,26)</span>\r\n        <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.macd?.signal)\">\r\n          {{ formatValue(technicalData?.macd?.value) }}\r\n        </span>\r\n      </div>\r\n      \r\n      <div class=\"indicator-item\">\r\n        <span class=\"indicator-label\">VWMA (20)</span>\r\n        <span class=\"indicator-value\" :class=\"getSignalClass(technicalData?.vwma20?.signal)\">\r\n          {{ formatValue(technicalData?.vwma20?.value) }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport hybridTechnicalIndicatorsAPI from '../utils/hybridTechnicalIndicatorsApi.js'\r\n\r\nexport default {\r\n  name: 'TechnicalIndicators',\r\n  props: {\r\n    symbol: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    exchange: {\r\n      type: String,\r\n      default: 'NASDAQ'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null,\r\n      technicalData: null,\r\n      cacheInfo: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadTechnicalData()\r\n  },\r\n  watch: {\r\n    symbol() {\r\n      this.loadTechnicalData()\r\n    }\r\n  },\r\n  methods: {\r\n    async loadTechnicalData() {\r\n      this.loading = true;\r\n      this.error = null;\r\n      this.cacheInfo = null;\r\n      \r\n      try {\r\n        console.log(`Loading technical data for ${this.symbol}...`);\r\n        \r\n        const startTime = Date.now();\r\n        \r\n        // ä½¿ç”¨æ··åˆ API ç²å–æ•¸æ“š (é è¨ˆç®— + ç·©å­˜ + å¯¦æ™‚)\r\n        this.technicalData = await hybridTechnicalIndicatorsAPI.getTechnicalIndicators(this.symbol);\r\n        \r\n        const loadTime = Date.now() - startTime;\r\n        \r\n        if (this.technicalData.error) {\r\n          throw new Error(this.technicalData.error);\r\n        }\r\n        \r\n        // è¨­ç½®ç·©å­˜ä¿¡æ¯\r\n        if (this.technicalData.source === 'Daily Cache') {\r\n          this.cacheInfo = `Cached data (${loadTime}ms)`;\r\n        } else {\r\n          this.cacheInfo = `Fresh data (${loadTime}ms)`;\r\n        }\r\n        \r\n        console.log(`Technical data loaded for ${this.symbol}:`, this.technicalData);\r\n        \r\n      } catch (error) {\r\n        console.error(`Failed to load technical data for ${this.symbol}:`, error);\r\n        this.error = error.message;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    getSignalClass(signal) {\r\n      if (!signal) return 'neutral';\r\n      \r\n      const bullishSignals = ['BUY', 'OVERSOLD', 'STRONG_TREND'];\r\n      const bearishSignals = ['SELL', 'OVERBOUGHT'];\r\n      \r\n      if (bullishSignals.includes(signal)) return 'bullish';\r\n      if (bearishSignals.includes(signal)) return 'bearish';\r\n      return 'neutral';\r\n    },\r\n    \r\n    formatValue(value) {\r\n      if (value === null || value === undefined) return 'N/A';\r\n      if (typeof value === 'string') return value;\r\n      if (typeof value === 'number') return value.toFixed(2);\r\n      return 'N/A';\r\n    },\r\n    \r\n    // è¨ˆç®—èˆ‡æœ€å¾Œæ”¶ç›¤åƒ¹çš„å·®ç•° (åå‘è¨ˆç®—ï¼šä»¥æ”¶ç›¤åƒ¹ç‚ºåŸºæº–)\r\n    formatPriceDiff(indicatorValue) {\r\n      if (!indicatorValue || !this.technicalData) return '';\r\n      \r\n      // å¾æŠ€è¡“æ•¸æ“šä¸­ç²å–ç•¶å‰åƒ¹æ ¼\r\n      const currentPrice = this.getCurrentPrice();\r\n      if (!currentPrice) return '';\r\n      \r\n      const diff = currentPrice - parseFloat(indicatorValue);\r\n      const diffPercent = (diff / parseFloat(indicatorValue)) * 100;\r\n      \r\n      if (Math.abs(diff) < 0.01) return 'Â±0.00';\r\n      \r\n      const sign = diff > 0 ? '+' : '';\r\n      return `${sign}${diff.toFixed(2)} (${sign}${diffPercent.toFixed(1)}%)`;\r\n    },\r\n    \r\n    // ç²å–ç•¶å‰è‚¡åƒ¹\r\n    getCurrentPrice() {\r\n      if (!this.technicalData) return null;\r\n      \r\n      // å˜—è©¦å¾ä¸åŒçš„æŒ‡æ¨™ä¸­ç²å–ç•¶å‰åƒ¹æ ¼\r\n      if (this.technicalData.sma5?.currentPrice) {\r\n        return parseFloat(this.technicalData.sma5.currentPrice);\r\n      }\r\n      if (this.technicalData.ma5?.currentPrice) {\r\n        return parseFloat(this.technicalData.ma5.currentPrice);\r\n      }\r\n      if (this.technicalData.sma50?.currentPrice) {\r\n        return parseFloat(this.technicalData.sma50.currentPrice);\r\n      }\r\n      \r\n      return null;\r\n    },\r\n    \r\n    // åƒ¹æ ¼å·®ç•°çš„é¡è‰²é¡åˆ¥ (åå‘é‚è¼¯)\r\n    getPriceDiffClass(indicatorValue) {\r\n      if (!indicatorValue) return 'neutral';\r\n      \r\n      const currentPrice = this.getCurrentPrice();\r\n      if (!currentPrice) return 'neutral';\r\n      \r\n      const diff = currentPrice - parseFloat(indicatorValue);\r\n      \r\n      if (Math.abs(diff) < 0.01) return 'neutral';\r\n      return diff > 0 ? 'positive' : 'negative';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.technical-indicators {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.indicators-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.indicators-header h4 {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0;\r\n}\r\n\r\n.cache-info {\r\n  color: #6c757d;\r\n  font-size: 0.7rem;\r\n}\r\n\r\n.loading-state {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.75rem;\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n  padding: 2rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e9ecef;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error-state {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  color: #dc3545;\r\n  font-size: 0.9rem;\r\n  text-align: center;\r\n  padding: 2rem;\r\n}\r\n\r\n.error-icon {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.indicators-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 0.75rem;\r\n}\r\n\r\n.indicator-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n  padding: 0.75rem;\r\n  background: white;\r\n  border-radius: 6px;\r\n  border: 1px solid #e9ecef;\r\n  min-height: 60px;\r\n  justify-content: center;\r\n}\r\n\r\n.indicator-label {\r\n  font-size: 0.75rem;\r\n  color: #6c757d;\r\n  margin-bottom: 0.25rem;\r\n  font-weight: 500;\r\n  line-height: 1.2;\r\n}\r\n\r\n.indicator-value-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n}\r\n\r\n.indicator-value {\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n  line-height: 1.2;\r\n}\r\n\r\n.indicator-value.bullish {\r\n  color: #28a745;\r\n}\r\n\r\n.indicator-value.bearish {\r\n  color: #dc3545;\r\n}\r\n\r\n.indicator-value.neutral {\r\n  color: #6c757d;\r\n}\r\n\r\n.price-diff {\r\n  font-size: 0.65rem;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n}\r\n\r\n.price-diff.positive {\r\n  color: #28a745;\r\n}\r\n\r\n.price-diff.negative {\r\n  color: #dc3545;\r\n}\r\n\r\n.price-diff.neutral {\r\n  color: #6c757d;\r\n}\r\n\r\n.cache-info {\r\n  margin-top: 0.5rem;\r\n  text-align: center;\r\n  color: #6c757d;\r\n  font-size: 0.7rem;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .indicators-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .indicator-item {\r\n    padding: 0.5rem;\r\n    min-height: 50px;\r\n  }\r\n  \r\n  .indicator-label {\r\n    font-size: 0.7rem;\r\n  }\r\n  \r\n  .indicator-value {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .indicators-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-card-pair\">\r\n    <!-- Stock Info Header -->\r\n    <div class=\"stock-info-header\">\r\n      <div class=\"symbol-info\">\r\n        <h3 class=\"symbol\">{{ quote.symbol }}</h3>\r\n        <div class=\"symbol-tags\">\r\n          <span class=\"exchange-tag\">{{ getExchange() }}</span>\r\n          <span class=\"industry-tag\" :class=\"`industry-${getIndustryCategory()}`\">{{ getIndustry() }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"header-actions\">\r\n        <button \r\n          @click=\"goToDetail\" \r\n          class=\"detail-btn\"\r\n          :title=\"`View detailed analysis for ${quote.symbol}`\"\r\n        >\r\n          Detail\r\n          <span class=\"btn-icon\">â†’</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- TradingView Widgets Container -->\r\n    <div class=\"widgets-container\">\r\n      <!-- Symbol Overview (2/3 width) -->\r\n      <div class=\"widget-overview\">\r\n        <div class=\"widget-header\">\r\n          <h4>Symbol Overview</h4>\r\n        </div>\r\n        <FastTradingViewWidget \r\n          widget-type=\"overview\"\r\n          :symbol=\"quote.symbol\" \r\n          :exchange=\"getExchange()\"\r\n          :priority=\"1\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Technical Analysis (1/3 width) -->\r\n      <div class=\"widget-technical\">\r\n        <div class=\"widget-header\">\r\n          <h4>Technical Analysis</h4>\r\n        </div>\r\n        <FastTradingViewWidget \r\n          widget-type=\"technical\"\r\n          :symbol=\"quote.symbol\" \r\n          :exchange=\"getExchange()\"\r\n          :priority=\"2\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Additional Info (Optional) -->\r\n    <div v-if=\"dailyData\" class=\"additional-info\">\r\n      <div class=\"brief-section\">\r\n        <h5>Daily Brief</h5>\r\n        <p class=\"brief-text\">{{ dailyData.short_brief_zh }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Technical Indicators -->\r\n    <TechnicalIndicators \r\n      :symbol=\"quote.symbol\" \r\n      :exchange=\"getExchange()\"\r\n    />\r\n\r\n\r\n\r\n    <!-- Stale Indicator -->\r\n    <div v-if=\"isStale\" class=\"stale-indicator\">\r\n      <span class=\"stale-badge\" :class=\"`stale-${quote.stale_level}`\">\r\n        {{ getStaleText() }}\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FastTradingViewWidget from './FastTradingViewWidget.vue'\r\nimport TechnicalIndicators from './TechnicalIndicators.vue'\r\n\r\nexport default {\r\n  name: 'StockCard',\r\n  components: {\r\n    FastTradingViewWidget,\r\n    TechnicalIndicators\r\n  },\r\n  props: {\r\n    quote: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    dailyData: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    metadata: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  computed: {\r\n    isStale() {\r\n      return this.quote.stale_level !== 'fresh'\r\n    }\r\n  },\r\n  methods: {\r\n    getSector() {\r\n      if (!this.metadata) return 'Unknown'\r\n      \r\n      // æ ¹æ“š PRD è¦æ±‚ï¼Œconfidence < 0.7 æ­¸é¡ç‚º Unknown\r\n      if (this.metadata.confidence < 0.7) {\r\n        return 'Unknown'\r\n      }\r\n      \r\n      return this.metadata.sector || 'Unknown'\r\n    },\r\n\r\n    getIndustry() {\r\n      if (!this.metadata) return 'Unknown Industry'\r\n      \r\n      // æ ¹æ“š PRD è¦æ±‚ï¼Œconfidence < 0.7 æ­¸é¡ç‚º Unknown\r\n      if (this.metadata.confidence < 0.7) {\r\n        return 'Unknown Industry'\r\n      }\r\n      \r\n      // è¿”å›å®Œæ•´çš„ industry ä¿¡æ¯ï¼Œå¦‚æœæ²’æœ‰å‰‡é¡¯ç¤º sector\r\n      return this.metadata.industry || this.metadata.sector || 'Unknown Industry'\r\n    },\r\n\r\n    getIndustryCategory() {\r\n      const industry = this.getIndustry()\r\n      \r\n      // æ ¹æ“š industry è¿”å›ä¸»è¦åˆ†é¡ï¼Œç”¨æ–¼æ¨£å¼\r\n      const industryCategories = {\r\n        'Industrial IoT Solutions': 'tech-iot',\r\n        'Satellite Imaging & Analytics': 'tech-satellite',\r\n        'Database Software': 'tech-software',\r\n        'Enterprise Software': 'tech-software',\r\n        'Semiconductors': 'tech-hardware',\r\n        'Aerospace & Defense': 'industrial-aerospace',\r\n        'Space Infrastructure': 'industrial-space',\r\n        'Satellite Communications': 'communications',\r\n        'Electric Vehicles': 'automotive',\r\n        'Unknown Industry': 'unknown'\r\n      }\r\n      \r\n      return industryCategories[industry] || 'other'\r\n    },\r\n\r\n    getExchange() {\r\n      if (this.metadata && this.metadata.exchange) {\r\n        return this.metadata.exchange\r\n      }\r\n      \r\n      // æ ¹æ“š symbol æ¨æ¸¬äº¤æ˜“æ‰€\r\n      const symbol = this.quote.symbol\r\n      \r\n      // NYSE è‚¡ç¥¨\r\n      if (['ORCL', 'TSM', 'RDW'].includes(symbol)) {\r\n        return 'NYSE'\r\n      }\r\n      // NASDAQ è‚¡ç¥¨\r\n      else if (['ASTS', 'RIVN', 'PL', 'ONDS', 'AVAV', 'MDB', 'RKLB', 'CRM', 'NVDA', 'AVGO', 'AMZN', 'GOOG', 'META', 'NFLX', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS', 'TSLA'].includes(symbol)) {\r\n        return 'NASDAQ'\r\n      }\r\n      \r\n      return 'NASDAQ' // é è¨­å€¼\r\n    },\r\n\r\n    getStaleText() {\r\n      switch (this.quote.stale_level) {\r\n        case 'stale': return 'ğŸŸ¡ Stale Data'\r\n        case 'very_stale': return 'ğŸ”´ Very Stale'\r\n        default: return ''\r\n      }\r\n    },\r\n\r\n    goToDetail() {\r\n      // å°èˆªåˆ°è‚¡ç¥¨è©³ç´°é é¢ (æ–°è·¯ç”±çµæ§‹)\r\n      console.log('Navigating to stock detail for:', this.quote.symbol)\r\n      this.$router.push({\r\n        name: 'stock-detail',\r\n        params: { symbol: this.quote.symbol }\r\n      }).catch(err => {\r\n        console.error('Navigation error:', err)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Stock Card Pair Container */\r\n.stock-card-pair {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  transition: all 0.2s;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n/* Stock Info Header */\r\n.stock-info-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1.5rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.symbol-info .symbol {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin: 0 0 0.5rem 0;\r\n}\r\n\r\n.symbol-tags {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.exchange-tag {\r\n  font-size: 0.75rem;\r\n  color: #007bff;\r\n  background-color: #e7f3ff;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: 500;\r\n  border: 1px solid #90caf9;\r\n  display: inline-block;\r\n}\r\n\r\n.industry-tag {\r\n  font-size: 0.75rem;\r\n  color: #666;\r\n  background-color: #e8f4fd;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: 500;\r\n  border: 1px solid #b3d9ff;\r\n  display: inline-block;\r\n}\r\n\r\n/* Industry Category Specific Styles */\r\n.industry-tech-iot {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  border-color: #90caf9;\r\n}\r\n\r\n.industry-tech-satellite {\r\n  background-color: #f3e5f5;\r\n  color: #7b1fa2;\r\n  border-color: #ce93d8;\r\n}\r\n\r\n.industry-tech-software {\r\n  background-color: #e8f5e8;\r\n  color: #2e7d32;\r\n  border-color: #a5d6a7;\r\n}\r\n\r\n.industry-tech-hardware {\r\n  background-color: #fff3e0;\r\n  color: #ef6c00;\r\n  border-color: #ffcc80;\r\n}\r\n\r\n.industry-industrial-aerospace {\r\n  background-color: #fce4ec;\r\n  color: #c2185b;\r\n  border-color: #f8bbd9;\r\n}\r\n\r\n.industry-industrial-space {\r\n  background-color: #f1f8e9;\r\n  color: #558b2f;\r\n  border-color: #c5e1a5;\r\n}\r\n\r\n.industry-communications {\r\n  background-color: #e0f2f1;\r\n  color: #00695c;\r\n  border-color: #80cbc4;\r\n}\r\n\r\n.industry-automotive {\r\n  background-color: #fff8e1;\r\n  color: #ff8f00;\r\n  border-color: #ffcc02;\r\n}\r\n\r\n.industry-unknown {\r\n  background-color: #f5f5f5;\r\n  color: #757575;\r\n  border-color: #e0e0e0;\r\n}\r\n\r\n.industry-other {\r\n  background-color: #fafafa;\r\n  color: #616161;\r\n  border-color: #bdbdbd;\r\n}\r\n\r\n.exchange-info .exchange {\r\n  font-size: 0.9rem;\r\n  color: #007bff;\r\n  background-color: #e7f3ff;\r\n  padding: 0.3rem 0.6rem;\r\n  border-radius: 6px;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Header Actions */\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.detail-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  background: linear-gradient(135deg, #007bff, #0056b3);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);\r\n  line-height: 1;\r\n  min-height: 36px;\r\n}\r\n\r\n.detail-btn:hover {\r\n  background: linear-gradient(135deg, #0056b3, #004085);\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);\r\n}\r\n\r\n.detail-btn:active {\r\n  transform: translateY(0);\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 1rem;\r\n  line-height: 1;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n/* Widgets Container */\r\n.widgets-container {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr; /* 2/3 å’Œ 1/3 çš„æ¯”ä¾‹ */\r\n  gap: 1.5rem;\r\n  margin-bottom: 0px; /* ç§»é™¤ä¸‹æ–¹ padding */\r\n  min-height: 450px; /* æ¸›å°‘é«˜åº¦å¾ 600px åˆ° 450px */\r\n  will-change: transform; /* å„ªåŒ–å‹•ç•«æ€§èƒ½ */\r\n}\r\n\r\n.widget-overview,\r\n.widget-technical {\r\n  background: #fafafa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  contain: layout style paint; /* CSS containment å„ªåŒ– */\r\n}\r\n\r\n.widget-overview {\r\n  min-height: 440px; /* Symbol Overview å°é½Š Technical Analysis é«˜åº¦ */\r\n  height: 440px;\r\n}\r\n\r\n.widget-technical {\r\n  min-height: 440px; /* Technical Analysis é©åº¦å¢åŠ åˆ° 440px é¿å… scroll bar */\r\n  height: 440px;\r\n}\r\n\r\n.widget-header {\r\n  background: #f8f9fa;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n  flex-shrink: 0; /* é˜²æ­¢ header è¢«å£“ç¸® */\r\n}\r\n\r\n.widget-header h4 {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0;\r\n}\r\n\r\n/* ç¢ºä¿ widget å…§å®¹å€åŸŸæœ‰è¶³å¤ é«˜åº¦ */\r\n.widget-overview > :not(.widget-header) {\r\n  flex: 1;\r\n  min-height: 390px; /* Symbol Overview å…§å®¹å€åŸŸå°é½Š */\r\n}\r\n\r\n.widget-technical > :not(.widget-header) {\r\n  flex: 1;\r\n  min-height: 390px; /* Technical Analysis å…§å®¹å€åŸŸé©åº¦å¢åŠ åˆ° 390px */\r\n}\r\n\r\n/* Additional Info */\r\n.additional-info {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.brief-section {\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  border-radius: 6px;\r\n  border-left: 4px solid #007bff;\r\n}\r\n\r\n.brief-section h5 {\r\n  font-size: 0.9rem;\r\n  color: #495057;\r\n  margin: 0 0 0.5rem 0;\r\n  font-weight: 600;\r\n}\r\n\r\n.brief-text {\r\n  font-size: 0.85rem;\r\n  line-height: 1.5;\r\n  color: #6c757d;\r\n  margin: 0;\r\n}\r\n\r\n\r\n\r\n/* Stale Indicator */\r\n.stale-indicator {\r\n  position: absolute;\r\n  top: 1rem;\r\n  right: 1rem;\r\n}\r\n\r\n.stale-badge {\r\n  font-size: 0.7rem;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: 500;\r\n}\r\n\r\n.stale-badge.stale-very_stale {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n\r\n/* å¤§è¢å¹• (æ¡Œæ©Ÿ) - 1200px ä»¥ä¸Š */\r\n@media (min-width: 1200px) {\r\n  .stock-card-pair {\r\n    padding: 2rem;\r\n  }\r\n  \r\n  .symbol-info .symbol {\r\n    font-size: 1.6rem;\r\n  }\r\n  \r\n  .widgets-container {\r\n    gap: 2rem;\r\n  }\r\n}\r\n\r\n/* ä¸­ç­‰è¢å¹• (å¹³æ¿æ©«å‘) - 768px åˆ° 1199px */\r\n@media (min-width: 768px) and (max-width: 1199px) {\r\n  .stock-card-pair {\r\n    padding: 1.5rem;\r\n  }\r\n  \r\n  .symbol-info .symbol {\r\n    font-size: 1.4rem;\r\n  }\r\n  \r\n  .widgets-container {\r\n    gap: 1.25rem;\r\n  }\r\n}\r\n\r\n/* å°è¢å¹• (å¹³æ¿ç›´å‘å’Œæ‰‹æ©Ÿ) - 768px ä»¥ä¸‹ */\r\n@media (max-width: 767px) {\r\n  .stock-card-pair {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .stock-info-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .header-actions {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .detail-btn {\r\n    padding: 0.4rem 0.8rem;\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .symbol-info .symbol {\r\n    font-size: 1.3rem;\r\n  }\r\n  \r\n  /* æ‰‹æ©Ÿç‰ˆï¼šwidgets å‚ç›´æ’åˆ— */\r\n  .widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .widget-overview {\r\n    height: 380px; /* æ‰‹æ©Ÿç‰ˆå°é½Šé«˜åº¦ */\r\n    min-height: 380px;\r\n  }\r\n  \r\n  .widget-technical {\r\n    height: 380px; /* æ‰‹æ©Ÿç‰ˆ Technical Analysis é©åº¦èª¿æ•´ */\r\n    min-height: 380px;\r\n  }\r\n  \r\n  .widget-header h4 {\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  .brief-section {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .brief-text {\r\n    font-size: 0.8rem;\r\n  }\r\n}\r\n\r\n/* æ¥µå°è¢å¹• (å°æ‰‹æ©Ÿ) - 480px ä»¥ä¸‹ */\r\n@media (max-width: 480px) {\r\n  .stock-card-pair {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .symbol-info .symbol {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  .exchange-tag,\r\n  .industry-tag {\r\n    font-size: 0.7rem;\r\n    padding: 0.2rem 0.4rem;\r\n  }\r\n  \r\n  .widgets-container {\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .widget-overview {\r\n    height: 330px; /* å°è¢å¹•å°é½Šé«˜åº¦ */\r\n    min-height: 330px;\r\n  }\r\n  \r\n  .widget-technical {\r\n    height: 330px; /* å°è¢å¹• Technical Analysis é©åº¦èª¿æ•´ */\r\n    min-height: 330px;\r\n  }\r\n  \r\n  .widget-header {\r\n    padding: 0.5rem 0.75rem;\r\n  }\r\n  \r\n  .brief-section {\r\n    padding: 0.5rem;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"skeleton-loader\">\r\n    <!-- Market Index Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n        <div class=\"skeleton-subtitle\"></div>\r\n      </div>\r\n      <div class=\"skeleton-ticker-area\">\r\n        <div class=\"skeleton-ticker-item\" v-for=\"i in 6\" :key=\"i\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Sector Groups Skeleton -->\r\n    <div class=\"skeleton-sector-groups\">\r\n      <div \r\n        v-for=\"sector in skeletonSectors\" \r\n        :key=\"sector.name\"\r\n        class=\"skeleton-sector-group\"\r\n      >\r\n        <div class=\"skeleton-sector-header\">\r\n          <div class=\"skeleton-sector-title\"></div>\r\n          <div class=\"skeleton-stock-count\"></div>\r\n        </div>\r\n        \r\n        <div class=\"skeleton-stocks-grid\">\r\n          <div \r\n            v-for=\"i in sector.stockCount\" \r\n            :key=\"i\"\r\n            class=\"skeleton-stock-card\"\r\n          >\r\n            <!-- Stock Card Header -->\r\n            <div class=\"skeleton-stock-header\">\r\n              <div class=\"skeleton-stock-symbol\"></div>\r\n              <div class=\"skeleton-stock-price\"></div>\r\n            </div>\r\n            \r\n            <!-- Stock Card Content -->\r\n            <div class=\"skeleton-stock-content\">\r\n              <div class=\"skeleton-stock-info\">\r\n                <div class=\"skeleton-info-line\"></div>\r\n                <div class=\"skeleton-info-line short\"></div>\r\n              </div>\r\n              <div class=\"skeleton-stock-chart\"></div>\r\n            </div>\r\n            \r\n            <!-- Stock Card Footer -->\r\n            <div class=\"skeleton-stock-footer\">\r\n              <div class=\"skeleton-tag\"></div>\r\n              <div class=\"skeleton-tag\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SkeletonLoader',\r\n  data() {\r\n    return {\r\n      // æ¨¡æ“¬ä¸åŒ sector çš„éª¨æ¶çµæ§‹\r\n      skeletonSectors: [\r\n        { name: 'Technology', stockCount: 8 },\r\n        { name: 'Communication Services', stockCount: 4 },\r\n        { name: 'Consumer Cyclical', stockCount: 3 },\r\n        { name: 'Industrials', stockCount: 4 },\r\n        { name: 'Healthcare', stockCount: 2 },\r\n        { name: 'Energy', stockCount: 3 }\r\n      ]\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* åŸºç¤éª¨æ¶å‹•ç•« */\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n}\r\n\r\n.skeleton-loader {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n/* é€šç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-base {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Market Index Widget éª¨æ¶ */\r\n.skeleton-widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.skeleton-widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.skeleton-title {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 20px;\r\n}\r\n\r\n.skeleton-subtitle {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 14px;\r\n}\r\n\r\n.skeleton-ticker-area {\r\n  display: flex;\r\n  gap: 1rem;\r\n  overflow: hidden;\r\n  min-height: 100px;  /* æ”¹ç‚ºèˆ‡ LazyTradingViewWidget ç›¸åŒçš„é«˜åº¦ */\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.skeleton-ticker-item {\r\n  @extend .skeleton-base;\r\n  flex: 1;\r\n  min-width: 120px;  /* èª¿æ•´æœ€å°å¯¬åº¦ */\r\n  height: 60px;      /* èª¿æ•´é«˜åº¦æ›´æ¥è¿‘çœŸå¯¦ ticker */\r\n  border-radius: 8px;\r\n}\r\n\r\n/* Sector Groups éª¨æ¶ */\r\n.skeleton-sector-groups {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.skeleton-sector-group {\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.skeleton-sector-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-sector-title {\r\n  @extend .skeleton-base;\r\n  width: 140px;\r\n  height: 22px;\r\n}\r\n\r\n.skeleton-stock-count {\r\n  @extend .skeleton-base;\r\n  width: 30px;\r\n  height: 16px;\r\n}\r\n\r\n/* Stock Cards éª¨æ¶ */\r\n.skeleton-stocks-grid {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.skeleton-stock-card {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n  width: 100%;\r\n}\r\n\r\n.skeleton-stock-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-stock-symbol {\r\n  @extend .skeleton-base;\r\n  width: 60px;\r\n  height: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.skeleton-stock-price {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 20px;\r\n}\r\n\r\n.skeleton-stock-content {\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-stock-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-info-line {\r\n  @extend .skeleton-base;\r\n  height: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.skeleton-info-line.short {\r\n  width: 70%;\r\n}\r\n\r\n.skeleton-stock-chart {\r\n  @extend .skeleton-base;\r\n  width: 200px;\r\n  height: 100px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.skeleton-stock-footer {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-tag {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 24px;\r\n  border-radius: 12px;\r\n}\r\n\r\n/* å¯¦éš›æ‡‰ç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-title,\r\n.skeleton-subtitle,\r\n.skeleton-ticker-item,\r\n.skeleton-sector-title,\r\n.skeleton-stock-count,\r\n.skeleton-stock-symbol,\r\n.skeleton-stock-price,\r\n.skeleton-info-line,\r\n.skeleton-stock-chart,\r\n.skeleton-tag {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.75rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .skeleton-ticker-area {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .skeleton-ticker-item {\r\n    min-width: 100%;\r\n    height: 60px;\r\n  }\r\n  \r\n  .skeleton-sector-group {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .skeleton-stock-content {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .skeleton-stock-chart {\r\n    width: 100%;\r\n    height: 80px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 1rem -0.25rem;\r\n  }\r\n  \r\n  .skeleton-sector-group {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem;\r\n  }\r\n  \r\n  .skeleton-stock-card {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .skeleton-stock-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n\r\n/* ç‰¹æ®Šå‹•ç•«æ•ˆæœ */\r\n.skeleton-ticker-item {\r\n  animation-delay: 0.1s;\r\n}\r\n\r\n.skeleton-ticker-item:nth-child(2) {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.skeleton-ticker-item:nth-child(3) {\r\n  animation-delay: 0.3s;\r\n}\r\n\r\n.skeleton-ticker-item:nth-child(4) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n.skeleton-ticker-item:nth-child(5) {\r\n  animation-delay: 0.5s;\r\n}\r\n\r\n.skeleton-ticker-item:nth-child(6) {\r\n  animation-delay: 0.6s;\r\n}\r\n\r\n/* æ·¡å…¥æ•ˆæœ */\r\n.skeleton-loader {\r\n  animation: fadeIn 0.3s ease-in;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","// å‹•æ…‹å…ƒæ•¸æ“šæœå‹™ - ä½¿ç”¨ Yahoo Finance API ç²å–å³æ™‚çš„ sector å’Œ industry ä¿¡æ¯\r\nimport { yahooFinanceAPI } from './yahooFinanceApi.js'\r\n\r\nclass DynamicMetadataService {\r\n  constructor() {\r\n    this.cache = new Map()\r\n    this.cacheExpiry = 24 * 60 * 60 * 1000 // 24 hours - sector/industry ä¿¡æ¯è®ŠåŒ–ä¸é »ç¹\r\n    this.batchSize = 5 // æ‰¹é‡è™•ç†å¤§å°\r\n    this.requestDelay = 1000 // è«‹æ±‚é–“éš” (æ¯«ç§’)\r\n  }\r\n\r\n  // ç²å–å–®å€‹è‚¡ç¥¨çš„å…ƒæ•¸æ“š\r\n  async getSymbolMetadata(symbol) {\r\n    try {\r\n      // æª¢æŸ¥ç·©å­˜\r\n      if (this.cache.has(symbol)) {\r\n        const cached = this.cache.get(symbol)\r\n        if (Date.now() - cached.timestamp < this.cacheExpiry) {\r\n          console.log(`Using cached metadata for ${symbol}`)\r\n          return cached.data\r\n        }\r\n      }\r\n\r\n      console.log(`Fetching fresh metadata for ${symbol} from Yahoo Finance API...`)\r\n      \r\n      // å¾ Yahoo Finance API ç²å–è‚¡ç¥¨ä¿¡æ¯\r\n      const stockInfo = await yahooFinanceAPI.getStockInfo(symbol)\r\n      \r\n      if (stockInfo && !stockInfo.error && stockInfo.sector !== 'Unknown') {\r\n        // è½‰æ›ç‚ºæ¨™æº–å…ƒæ•¸æ“šæ ¼å¼\r\n        const metadata = {\r\n          symbol: symbol,\r\n          sector: stockInfo.sector || 'Unknown',\r\n          industry: stockInfo.industry || 'Unknown Industry',\r\n          exchange: stockInfo.exchange || this.getDefaultExchange(symbol),\r\n          marketCap: stockInfo.marketCap,\r\n          marketCapFormatted: stockInfo.marketCapFormatted,\r\n          marketCapCategory: stockInfo.marketCapCategory || 'unknown',\r\n          currency: stockInfo.currency || 'USD',\r\n          country: stockInfo.country || 'Unknown',\r\n          website: stockInfo.website,\r\n          employees: stockInfo.employees,\r\n          businessSummary: stockInfo.businessSummary,\r\n          confidence: stockInfo.confidence || 0.95, // Yahoo Finance API ä¿¡å¿ƒåº¦å¾ˆé«˜\r\n          source: 'Yahoo Finance API (Live)',\r\n          lastUpdated: stockInfo.lastUpdated || new Date().toISOString(),\r\n          isLive: true // æ¨™è¨˜ç‚ºå³æ™‚æ•¸æ“š\r\n        }\r\n\r\n        // ç·©å­˜çµæœ\r\n        this.cache.set(symbol, {\r\n          data: metadata,\r\n          timestamp: Date.now()\r\n        })\r\n\r\n        console.log(`Successfully fetched metadata for ${symbol}:`, {\r\n          sector: metadata.sector,\r\n          industry: metadata.industry,\r\n          confidence: metadata.confidence\r\n        })\r\n\r\n        return metadata\r\n      } else {\r\n        // API å¤±æ•—æˆ–è¿”å›ç„¡æ•ˆæ•¸æ“šï¼Œä½¿ç”¨éœæ…‹æ•¸æ“šä½œç‚ºå›é€€\r\n        console.warn(`Yahoo Finance API failed for ${symbol}, using static fallback data`)\r\n        return this.getStaticFallbackMetadata(symbol)\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error fetching metadata for ${symbol}:`, error)\r\n      return this.getStaticFallbackMetadata(symbol)\r\n    }\r\n  }\r\n\r\n  // éœæ…‹å›é€€æ•¸æ“š (åŸºæ–¼åŸæœ‰çš„ symbols_metadata.json)\r\n  getStaticFallbackMetadata(symbol) {\r\n    const staticData = {\r\n      'ASTS': { sector: 'Communication Services', industry: 'Satellite Communications', confidence: 0.75 },\r\n      'RIVN': { sector: 'Consumer Cyclical', industry: 'Electric Vehicles', confidence: 0.90 },\r\n      'PL': { sector: 'Technology', industry: 'Satellite Imaging & Analytics', confidence: 0.90 },\r\n      'ONDS': { sector: 'Technology', industry: 'Industrial IoT Solutions', confidence: 0.75 },\r\n      'RDW': { sector: 'Industrials', industry: 'Space Infrastructure', confidence: 0.75 },\r\n      'AVAV': { sector: 'Industrials', industry: 'Aerospace & Defense', confidence: 0.75 },\r\n      'MDB': { sector: 'Technology', industry: 'Database Software', confidence: 0.90 },\r\n      'ORCL': { sector: 'Technology', industry: 'Enterprise Software', confidence: 0.90 },\r\n      'TSM': { sector: 'Technology', industry: 'Semiconductors', confidence: 0.90 },\r\n      'RKLB': { sector: 'Industrials', industry: 'Aerospace & Defense', confidence: 0.90 },\r\n      'CRM': { sector: 'Technology', industry: 'Enterprise Software', confidence: 0.90 },\r\n      'NVDA': { sector: 'Technology', industry: 'Semiconductors', confidence: 0.90 },\r\n      'AVGO': { sector: 'Technology', industry: 'Semiconductors', confidence: 0.90 },\r\n      'AMZN': { sector: 'Consumer Cyclical', industry: 'Internet Retail', confidence: 0.90 },\r\n      'GOOG': { sector: 'Communication Services', industry: 'Internet Content & Information', confidence: 0.90 },\r\n      'META': { sector: 'Communication Services', industry: 'Internet Content & Information', confidence: 0.90 },\r\n      'NFLX': { sector: 'Communication Services', industry: 'Entertainment', confidence: 0.90 },\r\n      'LEU': { sector: 'Energy', industry: 'Uranium', confidence: 0.75 },\r\n      'SMR': { sector: 'Energy', industry: 'Nuclear Energy', confidence: 0.75 },\r\n      'CRWV': { sector: 'Technology', industry: 'Software - Application', confidence: 0.75 },\r\n      'IONQ': { sector: 'Technology', industry: 'Quantum Computing', confidence: 0.75 },\r\n      'PLTR': { sector: 'Technology', industry: 'Software - Infrastructure', confidence: 0.90 },\r\n      'HIMS': { sector: 'Healthcare', industry: 'Health Information Services', confidence: 0.75 },\r\n      'TSLA': { sector: 'Consumer Cyclical', industry: 'Auto Manufacturers', confidence: 0.90 }\r\n    }\r\n\r\n    const fallbackData = staticData[symbol] || { \r\n      sector: 'Unknown', \r\n      industry: 'Unknown Industry', \r\n      confidence: 0.0 \r\n    }\r\n\r\n    const metadata = {\r\n      symbol: symbol,\r\n      sector: fallbackData.sector,\r\n      industry: fallbackData.industry,\r\n      exchange: this.getDefaultExchange(symbol),\r\n      marketCap: null,\r\n      marketCapFormatted: 'N/A',\r\n      marketCapCategory: 'unknown',\r\n      currency: 'USD',\r\n      country: 'Unknown',\r\n      website: null,\r\n      employees: null,\r\n      businessSummary: null,\r\n      confidence: fallbackData.confidence,\r\n      source: 'Static Fallback Data',\r\n      lastUpdated: new Date().toISOString(),\r\n      isLive: false\r\n    }\r\n\r\n    // ç·©å­˜å›é€€æ•¸æ“š (è¼ƒçŸ­çš„ç·©å­˜æ™‚é–“)\r\n    this.cache.set(symbol, {\r\n      data: metadata,\r\n      timestamp: Date.now()\r\n    })\r\n\r\n    console.log(`Using static fallback for ${symbol}:`, {\r\n      sector: metadata.sector,\r\n      industry: metadata.industry,\r\n      confidence: metadata.confidence\r\n    })\r\n\r\n    return metadata\r\n  }\r\n\r\n  // æ‰¹é‡ç²å–å¤šå€‹è‚¡ç¥¨çš„å…ƒæ•¸æ“š\r\n  async getBatchMetadata(symbols) {\r\n    const results = new Map()\r\n    const batches = this.createBatches(symbols, this.batchSize)\r\n    \r\n    console.log(`Fetching metadata for ${symbols.length} symbols in ${batches.length} batches...`)\r\n\r\n    for (let i = 0; i < batches.length; i++) {\r\n      const batch = batches[i]\r\n      console.log(`Processing batch ${i + 1}/${batches.length} (${batch.length} symbols)`)\r\n\r\n      // ä¸¦è¡Œè™•ç†æ‰¹æ¬¡å…§çš„è«‹æ±‚\r\n      const batchPromises = batch.map(symbol => \r\n        this.getSymbolMetadata(symbol).catch(error => {\r\n          console.error(`Failed to fetch metadata for ${symbol}:`, error)\r\n          return this.getDefaultMetadata(symbol)\r\n        })\r\n      )\r\n\r\n      const batchResults = await Promise.all(batchPromises)\r\n      \r\n      // å­˜å„²çµæœ\r\n      batch.forEach((symbol, index) => {\r\n        results.set(symbol, batchResults[index])\r\n      })\r\n\r\n      // åœ¨æ‰¹æ¬¡ä¹‹é–“æ·»åŠ å»¶é²ï¼Œé¿å… API é™åˆ¶\r\n      if (i < batches.length - 1) {\r\n        console.log(`Waiting ${this.requestDelay}ms before next batch...`)\r\n        await this.delay(this.requestDelay)\r\n      }\r\n    }\r\n\r\n    console.log(`Completed fetching metadata for ${results.size} symbols`)\r\n    return results\r\n  }\r\n\r\n  // ç²å–é»˜èªå…ƒæ•¸æ“š\r\n  getDefaultMetadata(symbol) {\r\n    return {\r\n      symbol: symbol,\r\n      sector: 'Unknown',\r\n      industry: 'Unknown Industry',\r\n      exchange: this.getDefaultExchange(symbol),\r\n      marketCap: null,\r\n      marketCapFormatted: 'N/A',\r\n      marketCapCategory: 'unknown',\r\n      currency: 'USD',\r\n      country: 'Unknown',\r\n      website: null,\r\n      employees: null,\r\n      businessSummary: null,\r\n      confidence: 0.0,\r\n      source: 'Default (API Failed)',\r\n      lastUpdated: new Date().toISOString(),\r\n      isLive: false\r\n    }\r\n  }\r\n\r\n  // ç²å–é»˜èªäº¤æ˜“æ‰€\r\n  getDefaultExchange(symbol) {\r\n    const nasdaqSymbols = ['AAPL', 'MSFT', 'GOOGL', 'GOOG', 'AMZN', 'TSLA', 'NVDA', 'META', 'NFLX', 'RKLB', 'ASTS', 'RIVN', 'MDB', 'ONDS', 'PL', 'AVAV', 'CRM', 'AVGO', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS']\r\n    const nyseSymbols = ['TSM', 'ORCL', 'RDW']\r\n    \r\n    if (nasdaqSymbols.includes(symbol)) {\r\n      return 'NASDAQ'\r\n    } else if (nyseSymbols.includes(symbol)) {\r\n      return 'NYSE'\r\n    }\r\n    \r\n    return 'NASDAQ' // Default\r\n  }\r\n\r\n  // ç²å–è¡Œæ¥­é¡¯ç¤ºåç¨± (å…¼å®¹èˆŠç‰ˆ API)\r\n  getIndustryDisplay(metadata) {\r\n    if (!metadata || metadata.confidence < 0.7) {\r\n      return 'Unknown Industry'\r\n    }\r\n    \r\n    return metadata.industry || metadata.sector || 'Unknown Industry'\r\n  }\r\n\r\n  // ç²å–è¡Œæ¥­åˆ†é¡ (ç”¨æ–¼ CSS æ¨£å¼)\r\n  getIndustryCategory(metadata) {\r\n    const industry = this.getIndustryDisplay(metadata)\r\n    \r\n    const industryCategories = {\r\n      // ç§‘æŠ€é¡\r\n      'Software - Application': 'tech-software',\r\n      'Software - Infrastructure': 'tech-software',\r\n      'Database Software': 'tech-software',\r\n      'Enterprise Software': 'tech-software',\r\n      'Internet Content & Information': 'tech-internet',\r\n      'Semiconductors': 'tech-hardware',\r\n      'Quantum Computing': 'tech-quantum',\r\n      \r\n      // å·¥æ¥­é¡\r\n      'Aerospace & Defense': 'industrial-aerospace',\r\n      'Space Infrastructure': 'industrial-space',\r\n      'Industrial IoT Solutions': 'tech-iot',\r\n      \r\n      // é€šè¨Šé¡\r\n      'Satellite Communications': 'communications',\r\n      'Satellite Imaging & Analytics': 'tech-satellite',\r\n      \r\n      // æ±½è»Šé¡\r\n      'Auto Manufacturers': 'automotive',\r\n      'Electric Vehicles': 'automotive',\r\n      \r\n      // é›¶å”®é¡\r\n      'Internet Retail': 'retail',\r\n      \r\n      // å¨›æ¨‚é¡\r\n      'Entertainment': 'entertainment',\r\n      \r\n      // èƒ½æºé¡\r\n      'Uranium': 'energy-nuclear',\r\n      'Nuclear Energy': 'energy-nuclear',\r\n      \r\n      // é†«ç™‚é¡\r\n      'Health Information Services': 'healthcare',\r\n      \r\n      // æœªçŸ¥\r\n      'Unknown Industry': 'unknown'\r\n    }\r\n    \r\n    return industryCategories[industry] || 'other'\r\n  }\r\n\r\n  // ç”Ÿæˆè¡Œæ¥­çµ±è¨ˆ\r\n  generateSectorGrouping(metadataMap) {\r\n    const sectorGrouping = {}\r\n    \r\n    for (const [symbol, metadata] of metadataMap) {\r\n      const sector = metadata.sector || 'Unknown'\r\n      \r\n      if (!sectorGrouping[sector]) {\r\n        sectorGrouping[sector] = []\r\n      }\r\n      \r\n      sectorGrouping[sector].push(symbol)\r\n    }\r\n    \r\n    return sectorGrouping\r\n  }\r\n\r\n  // ç”Ÿæˆä¿¡å¿ƒåº¦åˆ†ä½ˆçµ±è¨ˆ\r\n  generateConfidenceDistribution(metadataMap) {\r\n    const distribution = {\r\n      high_confidence_0_90: 0,\r\n      medium_confidence_0_75: 0,\r\n      low_confidence_0_50: 0,\r\n      unknown_confidence: 0\r\n    }\r\n    \r\n    for (const [symbol, metadata] of metadataMap) {\r\n      const confidence = metadata.confidence || 0\r\n      \r\n      if (confidence >= 0.90) {\r\n        distribution.high_confidence_0_90++\r\n      } else if (confidence >= 0.75) {\r\n        distribution.medium_confidence_0_75++\r\n      } else if (confidence >= 0.50) {\r\n        distribution.low_confidence_0_50++\r\n      } else {\r\n        distribution.unknown_confidence++\r\n      }\r\n    }\r\n    \r\n    return distribution\r\n  }\r\n\r\n  // å‰µå»ºæ‰¹æ¬¡\r\n  createBatches(array, batchSize) {\r\n    const batches = []\r\n    for (let i = 0; i < array.length; i += batchSize) {\r\n      batches.push(array.slice(i, i + batchSize))\r\n    }\r\n    return batches\r\n  }\r\n\r\n  // å»¶é²å‡½æ•¸\r\n  delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n  }\r\n\r\n  // æ¸…é™¤ç·©å­˜\r\n  clearCache() {\r\n    this.cache.clear()\r\n    console.log('Dynamic metadata cache cleared')\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆ\r\n  getCacheStats() {\r\n    const stats = {\r\n      totalCached: this.cache.size,\r\n      cacheEntries: {}\r\n    }\r\n    \r\n    for (const [symbol, cached] of this.cache.entries()) {\r\n      stats.cacheEntries[symbol] = {\r\n        age: Date.now() - cached.timestamp,\r\n        expired: Date.now() - cached.timestamp > this.cacheExpiry,\r\n        sector: cached.data.sector,\r\n        industry: cached.data.industry,\r\n        confidence: cached.data.confidence\r\n      }\r\n    }\r\n    \r\n    return stats\r\n  }\r\n\r\n  // é ç†±ç·©å­˜ - ç‚ºå¸¸ç”¨è‚¡ç¥¨é å…ˆç²å–å…ƒæ•¸æ“š\r\n  async warmupCache(symbols) {\r\n    console.log(`Warming up metadata cache for ${symbols.length} symbols...`)\r\n    \r\n    const startTime = Date.now()\r\n    const results = await this.getBatchMetadata(symbols)\r\n    const duration = Date.now() - startTime\r\n    \r\n    console.log(`Cache warmup completed in ${duration}ms for ${results.size} symbols`)\r\n    \r\n    return {\r\n      duration,\r\n      symbolsProcessed: results.size,\r\n      successRate: (results.size / symbols.length * 100).toFixed(1) + '%'\r\n    }\r\n  }\r\n}\r\n\r\n// å°å‡ºå–®ä¾‹å¯¦ä¾‹\r\nexport const dynamicMetadataService = new DynamicMetadataService()\r\nexport default dynamicMetadataService","// Shared metadata service for stock industry information\r\n// æ”¯æ´å‹•æ…‹ API (Yahoo Finance) å’Œéœæ…‹æ–‡ä»¶å…©ç¨®æ¨¡å¼\r\nimport { dataFetcher } from '@/lib/fetcher'\r\nimport { dynamicMetadataService } from './dynamicMetadataService.js'\r\n\r\nclass MetadataService {\r\n  constructor() {\r\n    this.cache = new Map()\r\n    this.cacheExpiry = 24 * 60 * 60 * 1000 // 24 hours\r\n    this.lastFetch = null\r\n    this.metadata = null\r\n    this.useDynamicAPI = true // é è¨­ä½¿ç”¨å‹•æ…‹ API\r\n  }\r\n\r\n  // è¨­å®šæ˜¯å¦ä½¿ç”¨å‹•æ…‹ API\r\n  setUseDynamicAPI(useDynamic) {\r\n    this.useDynamicAPI = useDynamic\r\n    console.log(`Metadata service mode: ${useDynamic ? 'Dynamic API' : 'Static File'}`)\r\n  }\r\n\r\n  // Get metadata for a specific symbol\r\n  async getSymbolMetadata(symbol) {\r\n    if (this.useDynamicAPI) {\r\n      // ä½¿ç”¨å‹•æ…‹ Yahoo Finance API\r\n      return await dynamicMetadataService.getSymbolMetadata(symbol)\r\n    } else {\r\n      // ä½¿ç”¨åŸæœ‰çš„éœæ…‹æ–‡ä»¶æ–¹å¼\r\n      return await this.getStaticSymbolMetadata(symbol)\r\n    }\r\n  }\r\n\r\n  // åŸæœ‰çš„éœæ…‹æ–‡ä»¶æ–¹å¼ (ä¿ç•™ä½œç‚ºå‚™ç”¨)\r\n  async getStaticSymbolMetadata(symbol) {\r\n    // Check if we have cached metadata\r\n    if (this.cache.has(symbol)) {\r\n      const cached = this.cache.get(symbol)\r\n      if (Date.now() - cached.timestamp < this.cacheExpiry) {\r\n        return cached.data\r\n      }\r\n    }\r\n\r\n    // If no cached data or expired, fetch fresh metadata\r\n    await this.refreshMetadata()\r\n    \r\n    // Find the symbol in the metadata\r\n    if (this.metadata && this.metadata.items) {\r\n      const symbolMetadata = this.metadata.items.find(m => m.symbol === symbol)\r\n      if (symbolMetadata) {\r\n        // Cache the result\r\n        this.cache.set(symbol, {\r\n          data: symbolMetadata,\r\n          timestamp: Date.now()\r\n        })\r\n        return symbolMetadata\r\n      }\r\n    }\r\n\r\n    // Return default metadata if not found\r\n    const defaultMetadata = {\r\n      symbol,\r\n      sector: 'Unknown',\r\n      industry: 'Unknown Industry',\r\n      exchange: this.getDefaultExchange(symbol),\r\n      confidence: 0.0,\r\n      source: 'Static File (Default)',\r\n      isLive: false\r\n    }\r\n\r\n    this.cache.set(symbol, {\r\n      data: defaultMetadata,\r\n      timestamp: Date.now()\r\n    })\r\n\r\n    return defaultMetadata\r\n  }\r\n\r\n  // æ‰¹é‡ç²å–å…ƒæ•¸æ“š\r\n  async getBatchMetadata(symbols) {\r\n    if (this.useDynamicAPI) {\r\n      return await dynamicMetadataService.getBatchMetadata(symbols)\r\n    } else {\r\n      // éœæ…‹æ–‡ä»¶æ¨¡å¼çš„æ‰¹é‡è™•ç†\r\n      const results = new Map()\r\n      for (const symbol of symbols) {\r\n        const metadata = await this.getStaticSymbolMetadata(symbol)\r\n        results.set(symbol, metadata)\r\n      }\r\n      return results\r\n    }\r\n  }\r\n\r\n  // Refresh metadata from API\r\n  async refreshMetadata() {\r\n    try {\r\n      const result = await dataFetcher.fetchMetadataSnapshot()\r\n      if (result.data) {\r\n        this.metadata = result.data\r\n        this.lastFetch = Date.now()\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to refresh metadata:', error)\r\n    }\r\n  }\r\n\r\n  // Get default exchange for a symbol\r\n  getDefaultExchange(symbol) {\r\n    const nasdaqSymbols = ['AAPL', 'MSFT', 'GOOGL', 'GOOG', 'AMZN', 'TSLA', 'NVDA', 'META', 'NFLX', 'RKLB', 'ASTS', 'RIVN', 'MDB', 'ONDS', 'PL', 'AVAV', 'CRM', 'AVGO', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS']\r\n    const nyseSymbols = ['TSM', 'ORCL', 'RDW']\r\n    \r\n    if (nasdaqSymbols.includes(symbol)) {\r\n      return 'NASDAQ'\r\n    } else if (nyseSymbols.includes(symbol)) {\r\n      return 'NYSE'\r\n    }\r\n    \r\n    return 'NASDAQ' // Default\r\n  }\r\n\r\n  // Get industry display name (å…¼å®¹å…©ç¨®æ¨¡å¼)\r\n  getIndustryDisplay(metadata) {\r\n    if (this.useDynamicAPI) {\r\n      return dynamicMetadataService.getIndustryDisplay(metadata)\r\n    }\r\n    \r\n    // åŸæœ‰é‚è¼¯\r\n    if (!metadata || metadata.confidence < 0.7) {\r\n      return 'Unknown Industry'\r\n    }\r\n    \r\n    return metadata.industry || metadata.sector || 'Unknown Industry'\r\n  }\r\n\r\n  // Get industry category for styling (å…¼å®¹å…©ç¨®æ¨¡å¼)\r\n  getIndustryCategory(metadata) {\r\n    if (this.useDynamicAPI) {\r\n      return dynamicMetadataService.getIndustryCategory(metadata)\r\n    }\r\n    \r\n    // åŸæœ‰é‚è¼¯\r\n    const industry = this.getIndustryDisplay(metadata)\r\n    \r\n    const industryCategories = {\r\n      'Industrial IoT Solutions': 'tech-iot',\r\n      'Satellite Imaging & Analytics': 'tech-satellite',\r\n      'Database Software': 'tech-software',\r\n      'Enterprise Software': 'tech-software',\r\n      'Semiconductors': 'tech-hardware',\r\n      'Aerospace & Defense': 'industrial-aerospace',\r\n      'Space Infrastructure': 'industrial-space',\r\n      'Satellite Communications': 'communications',\r\n      'Electric Vehicles': 'automotive',\r\n      'Unknown Industry': 'unknown'\r\n    }\r\n    \r\n    return industryCategories[industry] || 'other'\r\n  }\r\n\r\n  // é ç†±ç·©å­˜\r\n  async warmupCache(symbols) {\r\n    if (this.useDynamicAPI) {\r\n      return await dynamicMetadataService.warmupCache(symbols)\r\n    } else {\r\n      // éœæ…‹æ–‡ä»¶æ¨¡å¼çš„é ç†±\r\n      console.log(`Warming up static metadata cache for ${symbols.length} symbols...`)\r\n      const startTime = Date.now()\r\n      \r\n      await this.refreshMetadata()\r\n      \r\n      for (const symbol of symbols) {\r\n        await this.getStaticSymbolMetadata(symbol)\r\n      }\r\n      \r\n      const duration = Date.now() - startTime\r\n      console.log(`Static cache warmup completed in ${duration}ms`)\r\n      \r\n      return {\r\n        duration,\r\n        symbolsProcessed: symbols.length,\r\n        mode: 'static'\r\n      }\r\n    }\r\n  }\r\n\r\n  // Clear cache\r\n  clearCache() {\r\n    this.cache.clear()\r\n    this.metadata = null\r\n    this.lastFetch = null\r\n    \r\n    if (this.useDynamicAPI) {\r\n      dynamicMetadataService.clearCache()\r\n    }\r\n  }\r\n\r\n  // ç²å–ç·©å­˜çµ±è¨ˆ\r\n  getCacheStats() {\r\n    if (this.useDynamicAPI) {\r\n      return {\r\n        mode: 'dynamic',\r\n        ...dynamicMetadataService.getCacheStats()\r\n      }\r\n    } else {\r\n      return {\r\n        mode: 'static',\r\n        totalCached: this.cache.size,\r\n        lastFetch: this.lastFetch,\r\n        metadataLoaded: !!this.metadata\r\n      }\r\n    }\r\n  }\r\n\r\n  // ç²å–ç•¶å‰æ¨¡å¼\r\n  getCurrentMode() {\r\n    return this.useDynamicAPI ? 'dynamic' : 'static'\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const metadataService = new MetadataService()","<template>\r\n  <div class=\"stock-overview\">\r\n    <div class=\"stock-header\">\r\n      <h2>Stock Overview</h2>\r\n      <div class=\"header-right\">\r\n        <div class=\"update-info\" v-if=\"lastUpdate\">\r\n          <span class=\"text-muted\">Last updated: {{ formatTime(lastUpdate) }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <p class=\"text-muted mb-3\">Stock universe overview and analysis</p>\r\n\r\n\r\n\r\n    <div v-if=\"loading\" class=\"loading-with-skeleton\">\r\n      <SkeletonLoader />\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p class=\"text-danger\">{{ error }}</p>\r\n      <button @click=\"refresh\" class=\"btn btn-secondary\">Retry</button>\r\n    </div>\r\n\r\n    <div v-else>\r\n      <!-- Market Index Section - è¤‡è£½è‡ª Market Overview -->\r\n      <div class=\"widget-container-ticker\">\r\n        <div class=\"widget-header\">\r\n          <h3>Market Index</h3>\r\n        </div>\r\n        <LazyTradingViewWidget\r\n          widget-type=\"Market Index\"\r\n          :config=\"tickersConfig\"\r\n          script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-tickers.js\"\r\n          height=\"100px\"\r\n          :priority=\"1\"\r\n        />\r\n      </div>\r\n      \r\n      <!-- Sector Groups -->\r\n      <div class=\"sector-groups\">\r\n        <div \r\n          v-for=\"(group, sector) in groupedStocks\" \r\n          :key=\"sector\"\r\n          class=\"sector-group\"\r\n        >\r\n          <h4 class=\"sector-title\">\r\n            {{ sector }}\r\n            <span class=\"stock-count\">({{ group.length }})</span>\r\n          </h4>\r\n          \r\n          <div class=\"stocks-in-group\">\r\n            <StockCard\r\n              v-for=\"stock in group\"\r\n              :key=\"stock.quote.symbol\"\r\n              :quote=\"stock.quote\"\r\n              :daily-data=\"stock.dailyData\"\r\n              :metadata=\"stock.metadata\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"!loading && Object.keys(groupedStocks).length === 0\" class=\"no-data\">\r\n      <p>No stock data available</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { dataFetcher } from '@/lib/fetcher'\r\nimport { symbolsConfig } from '@/utils/symbolsConfig'\r\nimport StockCard from './StockCard.vue'\r\nimport LazyTradingViewWidget from './LazyTradingViewWidget.vue'\r\nimport SkeletonLoader from './SkeletonLoader.vue'\r\nimport { metadataService } from '@/utils/metadataService.js'\r\nimport { performanceCache, CACHE_KEYS, CACHE_TTL } from '@/utils/performanceCache.js'\r\nimport { performanceMonitor, PERFORMANCE_LABELS } from '@/utils/performanceMonitor.js'\r\n\r\nexport default {\r\n  name: 'StockOverview',\r\n  components: {\r\n    StockCard,\r\n    LazyTradingViewWidget,\r\n    SkeletonLoader\r\n  },\r\n  data() {\r\n    return {\r\n      quotes: [],\r\n      dailyData: null,\r\n      metadata: null,\r\n      loading: false,\r\n      error: null,\r\n      lastUpdate: null,\r\n      staleLevel: 'fresh',\r\n      configuredSymbols: [],\r\n      configSource: 'static',\r\n      cacheInfo: {},\r\n      // åˆ†éšæ®µè¼‰å…¥ç‹€æ…‹\r\n      loadingStages: {\r\n        config: false,\r\n        quotes: false,\r\n        dailyData: false,\r\n        metadata: false\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    tickersConfig() {\r\n      return {\r\n        \"symbols\": [\r\n          {\"proName\": \"FOREXCOM:SPXUSD\",\"title\": \"S&P 500 Index\"},\r\n          {\"proName\": \"NASDAQ:NDX\",\"title\": \"NASDAQ 100 Index\"},\r\n          {\"proName\": \"OPOFINANCE:DJIUSD\",\"title\": \"Dow Jone Index\"},\r\n          {\"proName\": \"CAPITALCOM:RTY\",\"title\": \"US Russel 2000\"},\r\n          {\"proName\": \"INDEX:BTCUSD\",\"title\": \"BTC\"},\r\n          {\"proName\": \"TVC:GOLD\",\"title\": \"GOLD\"}\r\n        ],\r\n        \"colorTheme\": \"light\",\r\n        \"locale\": \"en\",\r\n        \"largeChartUrl\": \"\",\r\n        \"isTransparent\": true,\r\n        \"showSymbolLogo\": true\r\n      }\r\n    },\r\n\r\n    groupedStocks() {\r\n      if (!this.quotes.length || !this.metadata) return {}\r\n      \r\n      const groups = {}\r\n      \r\n      this.quotes.forEach(quote => {\r\n        const symbolMetadata = this.metadata.items.find(m => m.symbol === quote.symbol)\r\n        const symbolDailyData = this.dailyData?.per_symbol.find(d => d.symbol === quote.symbol)\r\n        \r\n        // æ ¹æ“š PRD è¦æ±‚ï¼šconfidence >= 0.7 æ­¸é¡ç‚ºå°æ‡‰ sector\r\n        let sector = 'Unknown'\r\n        if (symbolMetadata && symbolMetadata.confidence >= 0.7) {\r\n          sector = symbolMetadata.sector || 'Unknown'\r\n        }\r\n        \r\n        if (!groups[sector]) {\r\n          groups[sector] = []\r\n        }\r\n        \r\n        groups[sector].push({\r\n          quote,\r\n          dailyData: symbolDailyData,\r\n          metadata: symbolMetadata\r\n        })\r\n      })\r\n      \r\n      // æ’åºï¼šå…ˆæŒ‰ sector åç¨±ï¼Œç„¶å¾Œåœ¨æ¯å€‹ sector å…§éƒ¨æŒ‰ç…§æ–°çš„æ’åºé‚è¼¯\r\n      const sortedGroups = {}\r\n      Object.keys(groups)\r\n        .sort() // æŒ‰ sector åç¨±æ’åº\r\n        .forEach(sector => {\r\n          // åœ¨æ¯å€‹ sector å…§éƒ¨é€²è¡Œä¸‰å±¤æ’åºï¼š\r\n          // 1. å…ˆæŒ‰ exchange (äº¤æ˜“æ‰€)\r\n          // 2. å†æŒ‰ industry (ç”¢æ¥­)\r\n          // 3. æœ€å¾ŒæŒ‰ symbol A-Z\r\n          sortedGroups[sector] = groups[sector].sort((a, b) => {\r\n            // ç²å– exchange ä¿¡æ¯\r\n            const exchangeA = this.getStockExchange(a.quote.symbol, a.metadata)\r\n            const exchangeB = this.getStockExchange(b.quote.symbol, b.metadata)\r\n            \r\n            // ç¬¬ä¸€å±¤æ’åºï¼šæŒ‰ exchange\r\n            if (exchangeA !== exchangeB) {\r\n              return exchangeA.localeCompare(exchangeB)\r\n            }\r\n            \r\n            // ç²å– industry ä¿¡æ¯\r\n            const industryA = this.getStockIndustry(a.metadata)\r\n            const industryB = this.getStockIndustry(b.metadata)\r\n            \r\n            // ç¬¬äºŒå±¤æ’åºï¼šæŒ‰ industry\r\n            if (industryA !== industryB) {\r\n              return industryA.localeCompare(industryB)\r\n            }\r\n            \r\n            // ç¬¬ä¸‰å±¤æ’åºï¼šæŒ‰ symbol A-Zï¼ˆä¸å€åˆ†å¤§å°å¯«ï¼‰\r\n            return a.quote.symbol.toUpperCase().localeCompare(b.quote.symbol.toUpperCase())\r\n          })\r\n        })\r\n      \r\n      return sortedGroups\r\n    }\r\n  },\r\n  async mounted() {\r\n    performanceMonitor.start(PERFORMANCE_LABELS.STOCK_OVERVIEW_LOAD)\r\n    \r\n    await this.loadSymbolsConfig()\r\n    await this.loadStockData()\r\n    \r\n    performanceMonitor.end(PERFORMANCE_LABELS.STOCK_OVERVIEW_LOAD)\r\n    \r\n    // ç”Ÿæˆæ€§èƒ½å ±å‘Š\r\n    const report = performanceMonitor.generateReport()\r\n    performanceMonitor.checkPerformanceWarnings()\r\n  },\r\n  methods: {\r\n    async loadSymbolsConfig() {\r\n      this.loadingStages.config = true\r\n      try {\r\n        await performanceMonitor.measureAsync(PERFORMANCE_LABELS.SYMBOLS_CONFIG_LOAD, async () => {\r\n          this.configuredSymbols = await symbolsConfig.getSymbolsList()\r\n          this.configSource = symbolsConfig.getConfigSource()\r\n          this.cacheInfo = symbolsConfig.getCacheInfo()\r\n        })\r\n        \r\n        console.log(`âœ… Loaded ${this.configuredSymbols.length} symbols from ${this.configSource}:`, this.configuredSymbols)\r\n        console.log('ğŸ“Š Cache info:', this.cacheInfo)\r\n        \r\n        // æª¢æŸ¥æ˜¯å¦æœ‰éºæ¼çš„è‚¡ç¥¨ - ä½¿ç”¨å®Œæ•´çš„ 24 æ”¯è‚¡ç¥¨åˆ—è¡¨\r\n        const expectedSymbols = ['ASTS', 'RIVN', 'PL', 'ONDS', 'RDW', 'AVAV', 'MDB', 'ORCL', 'TSM', 'RKLB', 'CRM', 'NVDA', 'AVGO', 'AMZN', 'GOOG', 'META', 'NFLX', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS', 'TSLA']\r\n        const missingSymbols = expectedSymbols.filter(symbol => !this.configuredSymbols.includes(symbol))\r\n        if (missingSymbols.length > 0) {\r\n          console.warn('âš ï¸ Missing symbols:', missingSymbols)\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.warn('âŒ Failed to load symbols config:', error)\r\n        this.configuredSymbols = symbolsConfig.getStaticSymbols()\r\n        this.configSource = 'static'\r\n        this.cacheInfo = symbolsConfig.getCacheInfo()\r\n        console.log(`ğŸ”„ Fallback to static symbols (${this.configuredSymbols.length}):`, this.configuredSymbols)\r\n      } finally {\r\n        this.loadingStages.config = false\r\n      }\r\n    },\r\n\r\n    getStockExchange(symbol, metadata) {\r\n      if (metadata && metadata.exchange) {\r\n        return metadata.exchange\r\n      }\r\n      \r\n      // æ ¹æ“š symbol æ¨æ¸¬äº¤æ˜“æ‰€\r\n      // NYSE è‚¡ç¥¨\r\n      if (['ORCL', 'TSM', 'RDW'].includes(symbol)) {\r\n        return 'NYSE'\r\n      }\r\n      // NASDAQ è‚¡ç¥¨\r\n      else if (['ASTS', 'RIVN', 'PL', 'ONDS', 'AVAV', 'MDB', 'RKLB', 'CRM', 'NVDA', 'AVGO', 'AMZN', 'GOOG', 'META', 'NFLX', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS', 'TSLA'].includes(symbol)) {\r\n        return 'NASDAQ'\r\n      }\r\n      \r\n      return 'NASDAQ' // é è¨­å€¼\r\n    },\r\n\r\n    getStockIndustry(metadata) {\r\n      if (!metadata) return 'Unknown Industry'\r\n      \r\n      // æ ¹æ“š PRD è¦æ±‚ï¼Œconfidence < 0.7 æ­¸é¡ç‚º Unknown\r\n      if (metadata.confidence < 0.7) {\r\n        return 'Unknown Industry'\r\n      }\r\n      \r\n      // è¿”å›å®Œæ•´çš„ industry ä¿¡æ¯ï¼Œå¦‚æœæ²’æœ‰å‰‡é¡¯ç¤º sector\r\n      return metadata.industry || metadata.sector || 'Unknown Industry'\r\n    },\r\n\r\n    async loadStockData() {\r\n      this.loading = true\r\n      this.error = null\r\n      \r\n      try {\r\n        // ğŸš€ æ€§èƒ½å„ªåŒ–ï¼šæª¢æŸ¥ç·©å­˜ä¸­æ˜¯å¦æœ‰å®Œæ•´çš„è‚¡ç¥¨æ¦‚è¦½æ•¸æ“š\r\n        const cachedData = performanceCache.get(CACHE_KEYS.STOCK_OVERVIEW_DATA)\r\n        if (cachedData) {\r\n          console.log('ğŸ“¦ Using cached stock overview data')\r\n          this.quotes = cachedData.quotes\r\n          this.dailyData = cachedData.dailyData\r\n          this.metadata = cachedData.metadata\r\n          this.lastUpdate = cachedData.lastUpdate\r\n          this.staleLevel = cachedData.staleLevel\r\n          this.loading = false\r\n          return\r\n        }\r\n\r\n        // ğŸš€ æ€§èƒ½å„ªåŒ–ï¼šæš«æ™‚ç¦ç”¨å‹•æ…‹ APIï¼Œä½¿ç”¨éœæ…‹æ•¸æ“š\r\n        // é¿å…å¤§é‡ Yahoo Finance API è«‹æ±‚å°è‡´è¼‰å…¥ç·©æ…¢\r\n        metadataService.setUseDynamicAPI(false)\r\n        \r\n        // åˆ†éšæ®µä¸¦è¡Œè¼‰å…¥æ•¸æ“š\r\n        this.loadingStages.quotes = true\r\n        this.loadingStages.dailyData = true\r\n        \r\n        const [quotesResult, dailyResult] = await Promise.all([\r\n          dataFetcher.fetchQuotesSnapshot(),\r\n          dataFetcher.fetchDailySnapshot()\r\n        ])\r\n        \r\n        // è™•ç† quotes - åªé¡¯ç¤ºé…ç½®ä¸­çš„ symbols\r\n        if (quotesResult.data && quotesResult.data.items) {\r\n          // éæ¿¾åªé¡¯ç¤ºé…ç½®çš„ symbols\r\n          const allQuotes = quotesResult.data.items\r\n          this.quotes = allQuotes.filter(quote => \r\n            this.configuredSymbols.includes(quote.symbol)\r\n          )\r\n          \r\n          console.log(`ğŸ“ˆ Total quotes available: ${allQuotes.length}`)\r\n          console.log(`ğŸ¯ Filtered quotes for configured symbols: ${this.quotes.length}`)\r\n          console.log(`ğŸ“‹ Quote symbols:`, this.quotes.map(q => q.symbol).sort())\r\n          \r\n          this.lastUpdate = quotesResult.as_of\r\n          this.staleLevel = quotesResult.stale_level\r\n        }\r\n        this.loadingStages.quotes = false\r\n        \r\n        // è™•ç† daily data\r\n        if (dailyResult.data) {\r\n          this.dailyData = dailyResult.data\r\n        }\r\n        this.loadingStages.dailyData = false\r\n        \r\n        // ç²å–æ‰€æœ‰è‚¡ç¥¨çš„ metadata (ä½¿ç”¨éœæ…‹æ•¸æ“š)\r\n        if (this.quotes.length > 0) {\r\n          this.loadingStages.metadata = true\r\n          const symbols = this.quotes.map(quote => quote.symbol)\r\n          console.log(`ğŸ”„ Loading metadata for ${symbols.length} symbols using static data...`)\r\n          \r\n          const metadataMap = await metadataService.getBatchMetadata(symbols)\r\n          \r\n          // è½‰æ›ç‚ºåŸæœ‰æ ¼å¼ä»¥ä¿æŒå…¼å®¹æ€§\r\n          this.metadata = {\r\n            items: Array.from(metadataMap.values()),\r\n            as_of: new Date().toISOString(),\r\n            source: 'Static Data (Performance Optimized)'\r\n          }\r\n          \r\n          console.log(`âœ… Successfully loaded metadata for ${this.metadata.items.length} symbols`)\r\n          this.loadingStages.metadata = false\r\n        }\r\n        \r\n        // ğŸš€ ç·©å­˜å®Œæ•´çš„è‚¡ç¥¨æ¦‚è¦½æ•¸æ“š\r\n        const dataToCache = {\r\n          quotes: this.quotes,\r\n          dailyData: this.dailyData,\r\n          metadata: this.metadata,\r\n          lastUpdate: this.lastUpdate,\r\n          staleLevel: this.staleLevel\r\n        }\r\n        performanceCache.set(CACHE_KEYS.STOCK_OVERVIEW_DATA, dataToCache, CACHE_TTL.QUOTES)\r\n        console.log('ğŸ’¾ Cached stock overview data for future use')\r\n        \r\n        // å¦‚æœæ²’æœ‰ä»»ä½•æ•¸æ“šï¼Œé¡¯ç¤ºéŒ¯èª¤\r\n        if (!this.quotes.length && !this.dailyData && !this.metadata) {\r\n          throw new Error('No stock data available')\r\n        }\r\n        \r\n      } catch (err) {\r\n        this.error = String(err)\r\n        console.error('Failed to load stock data:', err)\r\n        // é‡ç½®æ‰€æœ‰è¼‰å…¥ç‹€æ…‹\r\n        Object.keys(this.loadingStages).forEach(key => {\r\n          this.loadingStages[key] = false\r\n        })\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async refresh() {\r\n      // æ¸…é™¤ç·©å­˜ä»¥å¼·åˆ¶é‡æ–°è¼‰å…¥\r\n      performanceCache.delete(CACHE_KEYS.STOCK_OVERVIEW_DATA)\r\n      console.log('ğŸ—‘ï¸ Cleared stock overview cache')\r\n      \r\n      // æ‰‹å‹•åˆ·æ–° symbols é…ç½®å¿«å–\r\n      await symbolsConfig.refresh()\r\n      await this.loadSymbolsConfig()\r\n      await this.loadStockData()\r\n    },\r\n\r\n    formatTime(timeString) {\r\n      if (!timeString) return ''\r\n      \r\n      try {\r\n        const date = new Date(timeString)\r\n        return date.toLocaleString('en-US', {\r\n          month: 'short',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })\r\n      } catch {\r\n        return timeString\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stock-overview {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.stock-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 0.75rem;\r\n  gap: 1rem;\r\n}\r\n\r\n.stock-header h2 {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin: 0;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.header-right .text-muted {\r\n  margin: 0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.header-right .mb-3 {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.config-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.config-source {\r\n  color: #007bff;\r\n  font-weight: 500;\r\n}\r\n\r\n.symbols-count {\r\n  color: #6c757d;\r\n  font-style: italic;\r\n}\r\n\r\n.cache-info {\r\n  color: #28a745;\r\n  font-weight: 500;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.update-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* çµ±ä¸€çš„ Widget å®¹å™¨æ¨£å¼ */\r\n.widget-container-ticker {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.widget-header h3 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.sector-groups {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.sector-group {\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.sector-title {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.stock-count {\r\n  font-size: 0.8rem;\r\n  color: #666;\r\n  font-weight: 400;\r\n}\r\n\r\n/* Stock Cards Grid Layout */\r\n.stocks-in-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n/* æ¯å€‹ StockCard ç¾åœ¨æ˜¯ä¸€å€‹å®Œæ•´çš„è¡Œï¼ŒåŒ…å«å…©å€‹ widgets */\r\n.stocks-in-group > * {\r\n  width: 100%;\r\n}\r\n\r\n/* ç¦ç”¨ stocks-in-group çš„ hover æ•ˆæœ */\r\n.stocks-in-group:hover {\r\n  /* ç§»é™¤ä»»ä½• hover æ•ˆæœ */\r\n}\r\n\r\n.loading-with-skeleton {\r\n  /* éª¨æ¶å±è¼‰å…¥å®¹å™¨ */\r\n}\r\n\r\n.error {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.no-data {\r\n  text-align: center;\r\n  padding: 3rem;\r\n  color: #666;\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n\r\n/* å¤§è¢å¹• (æ¡Œæ©Ÿ) - 1200px ä»¥ä¸Š */\r\n@media (min-width: 1200px) {\r\n  .stocks-in-group {\r\n    gap: 2.5rem;\r\n  }\r\n  \r\n  .sector-group {\r\n    padding: 2rem;\r\n  }\r\n}\r\n\r\n/* ä¸­ç­‰è¢å¹• (å¹³æ¿æ©«å‘) - 768px åˆ° 1199px */\r\n@media (min-width: 768px) and (max-width: 1199px) {\r\n  .stocks-in-group {\r\n    gap: 2rem;\r\n  }\r\n  \r\n  .sector-group {\r\n    padding: 1.5rem;\r\n  }\r\n}\r\n\r\n/* å°è¢å¹• (å¹³æ¿ç›´å‘å’Œæ‰‹æ©Ÿ) - 768px ä»¥ä¸‹ */\r\n@media (max-width: 767px) {\r\n  .stock-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .update-info {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.25rem;\r\n  }\r\n  \r\n  .stocks-in-group {\r\n    gap: 1.5rem;\r\n  }\r\n  \r\n  .sector-group {\r\n    padding: 1rem;\r\n    margin: 0 -0.5rem; /* è®“ sector group ç¨å¾®å»¶ä¼¸åˆ°é‚Šç·£ */\r\n  }\r\n  \r\n  .sector-title {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n/* æ¥µå°è¢å¹• (å°æ‰‹æ©Ÿ) - 480px ä»¥ä¸‹ */\r\n@media (max-width: 480px) {\r\n  .stock-overview {\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .sector-groups {\r\n    gap: 1.5rem;\r\n  }\r\n  \r\n  .sector-group {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem;\r\n  }\r\n  \r\n  .stocks-in-group {\r\n    gap: 1rem;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-dashboard\">\r\n    <!-- Performance Monitor -->\r\n    <PerformanceMonitor />\r\n\r\n    <!-- Stock Overview (åŸ Stock Grid) -->\r\n    <StockOverview />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StockOverview from '@/components/StockOverview.vue'\r\nimport PerformanceMonitor from '@/components/PerformanceMonitor.vue'\r\n\r\nexport default {\r\n  name: 'StockDashboard',\r\n  components: {\r\n    StockOverview,\r\n    PerformanceMonitor\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stock-dashboard {\r\n  padding: 0;\r\n}\r\n\r\n.mb-3 {\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n</style>","<template>\n  <div class=\"settings\">\n    <h2>Settings</h2>\n    <p class=\"text-muted mb-3\">Configure system preferences and view diagnostics</p>\n\n    <div class=\"card\">\n      <h3>Privacy & Analytics</h3>\n      <p class=\"text-muted\">Toggle tracking and scraping preferences</p>\n      <!-- Settings toggles will be implemented in task 7.1 -->\n    </div>\n\n    <div class=\"card\">\n      <h3>System Diagnostics</h3>\n      <p class=\"text-muted\">View system status and data freshness</p>\n      <!-- Diagnostics panel will be implemented in task 7.2 -->\n    </div>\n\n    <div class=\"card\">\n      <h3>Import/Export</h3>\n      <p class=\"text-muted\">Backup and restore your configuration</p>\n      <!-- Import/export functionality will be implemented in task 7.3 -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Settings'\n}\n</script>\n","<template>\r\n  <div class=\"company-profile-container\">\r\n    <div class=\"company-profile-widget\" :id=\"widgetId\" ref=\"container\">\r\n      <div v-if=\"!loaded && !error\" class=\"profile-loading\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <span>Loading company profile...</span>\r\n      </div>\r\n      \r\n      <div v-if=\"error\" class=\"profile-error\">\r\n        <span>âš ï¸ Failed to load company profile</span>\r\n        <button @click=\"retry\" class=\"retry-btn\">Retry</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TradingViewCompanyProfile',\r\n  props: {\r\n    symbol: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    exchange: {\r\n      type: String,\r\n      default: 'NASDAQ'\r\n    },\r\n    colorTheme: {\r\n      type: String,\r\n      default: 'dark'\r\n    },\r\n    isTransparent: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    locale: {\r\n      type: String,\r\n      default: 'en'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n      error: false,\r\n      widgetId: `company-profile-${Date.now()}`\r\n    }\r\n  },\r\n  computed: {\r\n    fullSymbol() {\r\n      return `${this.exchange}:${this.symbol}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadCompanyProfile()\r\n  },\r\n  watch: {\r\n    symbol() {\r\n      this.loadCompanyProfile()\r\n    },\r\n    exchange() {\r\n      this.loadCompanyProfile()\r\n    }\r\n  },\r\n  methods: {\r\n    async loadCompanyProfile() {\r\n      this.loaded = false\r\n      this.error = false\r\n\r\n      try {\r\n        await this.$nextTick()\r\n        this.createCompanyProfile()\r\n      } catch (err) {\r\n        console.error('Failed to load company profile:', err)\r\n        this.error = true\r\n      }\r\n    },\r\n\r\n    createCompanyProfile() {\r\n      const container = this.$refs.container\r\n      if (!container) return\r\n\r\n      // æ¸…é™¤ç¾æœ‰çš„ widget\r\n      container.innerHTML = ''\r\n\r\n      // å‰µå»º widget å®¹å™¨çµæ§‹\r\n      const widgetContainer = document.createElement('div')\r\n      widgetContainer.className = 'tradingview-widget-container'\r\n      widgetContainer.style.height = '100%'\r\n      widgetContainer.style.width = '100%'\r\n\r\n      const widgetContent = document.createElement('div')\r\n      widgetContent.className = 'tradingview-widget-container__widget'\r\n\r\n      widgetContainer.appendChild(widgetContent)\r\n      container.appendChild(widgetContainer)\r\n\r\n      // å‰µå»ºé…ç½®\r\n      const config = {\r\n        \"symbol\": \"NYSE:RDW\",\r\n        \"colorTheme\": \"light\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"en\",\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\"\r\n      }\r\n\r\n      // å‰µå»ºè…³æœ¬\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-symbol-profile.js'\r\n      script.async = true\r\n      script.innerHTML = JSON.stringify(config)\r\n\r\n      // è¨­å®šè¼‰å…¥äº‹ä»¶\r\n      script.onload = () => {\r\n        this.loaded = true\r\n        console.log('TradingView Company Profile loaded successfully')\r\n      }\r\n\r\n      script.onerror = () => {\r\n        this.error = true\r\n        console.error('TradingView Company Profile failed to load')\r\n      }\r\n\r\n      // æ·»åŠ è…³æœ¬åˆ° widget å®¹å™¨\r\n      widgetContent.appendChild(script)\r\n\r\n      // è¨­å®šè¶…æ™‚ä¿è­·\r\n      setTimeout(() => {\r\n        if (!this.loaded && !this.error) {\r\n          this.loaded = true\r\n        }\r\n      }, 8000)\r\n    },\r\n\r\n    async retry() {\r\n      await this.loadCompanyProfile()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.company-profile-container {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.company-profile-widget {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n/* Loading ç‹€æ…‹ */\r\n.profile-loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  height: 100%;\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e9ecef;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* Error ç‹€æ…‹ */\r\n.profile-error {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  height: 100%;\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 4px;\r\n  color: #721c24;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 0.25rem 0.75rem;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #c82333;\r\n}\r\n\r\n/* TradingView Widget æ¨£å¼è¦†è“‹ */\r\n:global(.tv-embed-widget-wrapper) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  min-height: 400px !important;\r\n  overflow: visible !important;\r\n}\r\n\r\n:global(.tradingview-widget-container) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n}\r\n\r\n:global(.tradingview-widget-container__widget) {\r\n  width: 100% !important;\r\n  height: calc(100% - 32px) !important;\r\n}\r\n</style>","<template>\r\n  <div class=\"fundamental-data-container\">\r\n    <div class=\"fundamental-data-widget\" :id=\"widgetId\" ref=\"container\">\r\n      <div v-if=\"!loaded && !error\" class=\"fundamental-loading\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <span>Loading fundamental data...</span>\r\n      </div>\r\n      \r\n      <div v-if=\"error\" class=\"fundamental-error\">\r\n        <span>âš ï¸ Failed to load fundamental data</span>\r\n        <button @click=\"retry\" class=\"retry-btn\">Retry</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TradingViewFundamentalData',\r\n  props: {\r\n    symbol: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    exchange: {\r\n      type: String,\r\n      default: 'NASDAQ'\r\n    },\r\n    colorTheme: {\r\n      type: String,\r\n      default: 'dark'\r\n    },\r\n    displayMode: {\r\n      type: String,\r\n      default: 'regular'\r\n    },\r\n    isTransparent: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    locale: {\r\n      type: String,\r\n      default: 'zh_TW'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n      error: false,\r\n      widgetId: `fundamental-data-${Date.now()}`\r\n    }\r\n  },\r\n  computed: {\r\n    fullSymbol() {\r\n      return `${this.exchange}:${this.symbol}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadFundamentalData()\r\n  },\r\n  watch: {\r\n    symbol() {\r\n      this.loadFundamentalData()\r\n    },\r\n    exchange() {\r\n      this.loadFundamentalData()\r\n    }\r\n  },\r\n  methods: {\r\n    async loadFundamentalData() {\r\n      this.loaded = false\r\n      this.error = false\r\n\r\n      try {\r\n        await this.$nextTick()\r\n        this.createFundamentalData()\r\n      } catch (err) {\r\n        console.error('Failed to load fundamental data:', err)\r\n        this.error = true\r\n      }\r\n    },\r\n\r\n    createFundamentalData() {\r\n      const container = this.$refs.container\r\n      if (!container) return\r\n\r\n      // æ¸…é™¤ç¾æœ‰çš„ widget\r\n      container.innerHTML = ''\r\n\r\n      // å‰µå»º widget å®¹å™¨çµæ§‹\r\n      const widgetContainer = document.createElement('div')\r\n      widgetContainer.className = 'tradingview-widget-container'\r\n      widgetContainer.style.height = '100%'\r\n      widgetContainer.style.width = '100%'\r\n\r\n      const widgetContent = document.createElement('div')\r\n      widgetContent.className = 'tradingview-widget-container__widget'\r\n\r\n      widgetContainer.appendChild(widgetContent)\r\n      container.appendChild(widgetContainer)\r\n\r\n      // å‰µå»ºé…ç½®\r\n      const config = {\r\n        \"symbol\": this.fullSymbol,\r\n        \"colorTheme\": \"light\",\r\n        \"displayMode\": \"regular\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"zh_TW\",\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\"\r\n      }\r\n\r\n      // å‰µå»ºè…³æœ¬\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-financials.js'\r\n      script.async = true\r\n      script.innerHTML = JSON.stringify(config)\r\n\r\n      // è¨­å®šè¼‰å…¥äº‹ä»¶\r\n      script.onload = () => {\r\n        this.loaded = true\r\n        console.log('TradingView Fundamental Data loaded successfully')\r\n      }\r\n\r\n      script.onerror = () => {\r\n        this.error = true\r\n        console.error('TradingView Fundamental Data failed to load')\r\n      }\r\n\r\n      // æ·»åŠ è…³æœ¬åˆ° widget å®¹å™¨\r\n      widgetContent.appendChild(script)\r\n\r\n      // è¨­å®šè¶…æ™‚ä¿è­·\r\n      setTimeout(() => {\r\n        if (!this.loaded && !this.error) {\r\n          this.loaded = true\r\n        }\r\n      }, 8000)\r\n    },\r\n\r\n    async retry() {\r\n      await this.loadFundamentalData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.fundamental-data-container {\r\n  height: 100%;\r\n  width: 100%;\r\n  min-height: 600px;\r\n  overflow: hidden;\r\n}\r\n\r\n.fundamental-data-widget {\r\n  height: 100%;\r\n  width: 100%;\r\n  position: relative;\r\n  min-height: 600px;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Loading ç‹€æ…‹ */\r\n.fundamental-loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  height: 100%;\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e9ecef;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* Error ç‹€æ…‹ */\r\n.fundamental-error {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  height: 100%;\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 4px;\r\n  color: #721c24;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 0.25rem 0.75rem;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #c82333;\r\n}\r\n\r\n/* TradingView Widget æ¨£å¼è¦†è“‹ */\r\n:global(.tradingview-widget-container) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  min-height: 600px !important;\r\n  max-height: none !important;\r\n}\r\n\r\n:global(.tradingview-widget-container__widget) {\r\n  width: 100% !important;\r\n  height: calc(100% - 32px) !important;\r\n  min-height: 560px !important;\r\n  max-height: none !important;\r\n}\r\n\r\n:global(.tradingview-widget-container iframe) {\r\n  width: 100% !important;\r\n  height: 600px !important;\r\n  min-height: 600px !important;\r\n  max-height: none !important;\r\n}\r\n\r\n/* Simplified TradingView overrides - focus on essential elements */\r\n:global(.tv-embed-widget-wrapper) {\r\n  height: 600px !important;\r\n  min-height: 600px !important;\r\n  overflow: auto !important;\r\n}\r\n\r\n:global(.tv-feed-widget) {\r\n  height: 560px !important;\r\n  min-height: 560px !important;\r\n  overflow: auto !important;\r\n}\r\n\r\n:global(.tv-feed-widget__body) {\r\n  height: auto !important;\r\n  min-height: 500px !important;\r\n  overflow: auto !important;\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-news\">\r\n    <div v-if=\"loading\" class=\"loading-state\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <span>Loading latest news for {{ symbol }}...</span>\r\n    </div>\r\n    \r\n    <div v-else-if=\"error\" class=\"error-state\">\r\n      <span class=\"error-icon\">âš ï¸</span>\r\n      <span>{{ error }}</span>\r\n    </div>\r\n    \r\n    <div v-else-if=\"news.length === 0\" class=\"no-news-state\">\r\n      <span class=\"info-icon\">â„¹ï¸</span>\r\n      <span>No recent news available for {{ symbol }}</span>\r\n    </div>\r\n    \r\n    <div v-else class=\"news-grid\">\r\n      <article \r\n        v-for=\"(article, index) in news\" \r\n        :key=\"index\"\r\n        class=\"news-item\"\r\n        @click=\"openArticle(article.link)\"\r\n      >\r\n        <div class=\"news-header\">\r\n          <h4 class=\"news-title\">{{ article.title }}</h4>\r\n          <span class=\"news-date\">{{ formatDate(article.providerPublishTime) }}</span>\r\n        </div>\r\n        \r\n        <div class=\"news-content\">\r\n          <div class=\"news-text\">\r\n            <p class=\"news-summary\">{{ truncateText(article.summary, 150) }}</p>\r\n            <div class=\"news-meta\">\r\n              <span class=\"news-publisher\">{{ article.publisher }}</span>\r\n              <span v-if=\"article.type\" class=\"news-type\">{{ article.type }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div v-if=\"article.thumbnail\" class=\"news-thumbnail\">\r\n            <img \r\n              :src=\"article.thumbnail.resolutions[0]?.url\" \r\n              :alt=\"article.title\"\r\n              @error=\"handleImageError\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"news-footer\">\r\n          <span class=\"read-more\">Read more â†’</span>\r\n        </div>\r\n      </article>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StockNews',\r\n  props: {\r\n    symbol: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    newsCount: {\r\n      type: Number,\r\n      default: 9\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null,\r\n      news: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadNews()\r\n  },\r\n  watch: {\r\n    symbol() {\r\n      this.loadNews()\r\n    }\r\n  },\r\n  methods: {\r\n    async loadNews() {\r\n      this.loading = true;\r\n      this.error = null;\r\n      this.news = [];\r\n      \r\n      try {\r\n        console.log(`Loading news for ${this.symbol}...`);\r\n        \r\n        // ä½¿ç”¨ Yahoo Finance API ç²å–æ–°è\r\n        const response = await this.fetchYahooNews(this.symbol);\r\n        \r\n        if (response && response.length > 0) {\r\n          this.news = response.slice(0, this.newsCount);\r\n          console.log(`Loaded ${this.news.length} news articles for ${this.symbol}`);\r\n        } else {\r\n          this.news = [];\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error(`Failed to load news for ${this.symbol}:`, error);\r\n        this.error = error.message;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    async fetchYahooNews(symbol) {\r\n      // ä½¿ç”¨ CORS ä»£ç†æœå‹™\r\n      const corsProxies = [\r\n        'https://api.allorigins.win/raw?url=',\r\n        'https://corsproxy.io/?'\r\n      ];\r\n      \r\n      for (const proxy of corsProxies) {\r\n        try {\r\n          const targetUrl = `https://query1.finance.yahoo.com/v1/finance/search?q=${symbol}&lang=en-US&region=US&quotesCount=1&newsCount=${this.newsCount}&enableFuzzyQuery=false&quotesQueryId=tss_match_phrase_query&multiQuoteQueryId=multi_quote_single_token_query&newsQueryId=news_cie_vespa&enableCb=true&enableNavLinks=true&enableEnhancedTrivialQuery=true`;\r\n          const url = `${proxy}${encodeURIComponent(targetUrl)}`;\r\n          \r\n          console.log(`Fetching news from: ${url}`);\r\n          \r\n          const response = await fetch(url);\r\n          \r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n          \r\n          const data = await response.json();\r\n          \r\n          if (data && data.news && data.news.length > 0) {\r\n            return data.news;\r\n          }\r\n          \r\n        } catch (error) {\r\n          console.warn(`Proxy failed for news:`, error.message);\r\n          continue;\r\n        }\r\n      }\r\n      \r\n      throw new Error('All news proxies failed');\r\n    },\r\n    \r\n    formatDate(timestamp) {\r\n      if (!timestamp) return 'Unknown date';\r\n      \r\n      const date = new Date(timestamp * 1000);\r\n      const now = new Date();\r\n      const diffMs = now - date;\r\n      const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n      const diffDays = Math.floor(diffHours / 24);\r\n      \r\n      if (diffHours < 1) {\r\n        const diffMinutes = Math.floor(diffMs / (1000 * 60));\r\n        return `${diffMinutes}m ago`;\r\n      } else if (diffHours < 24) {\r\n        return `${diffHours}h ago`;\r\n      } else if (diffDays < 7) {\r\n        return `${diffDays}d ago`;\r\n      } else {\r\n        return date.toLocaleDateString('en-US', { \r\n          month: 'short', \r\n          day: 'numeric',\r\n          year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\r\n        });\r\n      }\r\n    },\r\n    \r\n    truncateText(text, maxLength) {\r\n      if (!text) return '';\r\n      if (text.length <= maxLength) return text;\r\n      return text.substring(0, maxLength).trim() + '...';\r\n    },\r\n    \r\n    openArticle(link) {\r\n      if (link) {\r\n        window.open(link, '_blank', 'noopener,noreferrer');\r\n      }\r\n    },\r\n    \r\n    handleImageError(event) {\r\n      event.target.style.display = 'none';\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stock-news {\r\n  min-height: 200px;\r\n}\r\n\r\n.loading-state, .error-state, .no-news-state {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.75rem;\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n  padding: 3rem;\r\n  text-align: center;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e9ecef;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error-state {\r\n  color: #dc3545;\r\n}\r\n\r\n.error-icon, .info-icon {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.news-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\r\n  gap: 1rem;\r\n  padding: 0.75rem;\r\n}\r\n\r\n.news-item {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 6px;\r\n  padding: 1rem;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.05);\r\n}\r\n\r\n.news-item:hover {\r\n  border-color: #007bff;\r\n  box-shadow: 0 2px 8px rgba(0,123,255,0.15);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.news-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  gap: 0.75rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.news-title {\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n  margin: 0;\r\n  line-height: 1.3;\r\n  flex: 1;\r\n}\r\n\r\n.news-date {\r\n  font-size: 0.75rem;\r\n  color: #6c757d;\r\n  white-space: nowrap;\r\n  font-weight: 500;\r\n}\r\n\r\n.news-content {\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.news-text {\r\n  flex: 1;\r\n}\r\n\r\n.news-summary {\r\n  font-size: 0.8rem;\r\n  color: #495057;\r\n  line-height: 1.4;\r\n  margin: 0 0 0.5rem 0;\r\n}\r\n\r\n.news-meta {\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  align-items: center;\r\n}\r\n\r\n.news-publisher {\r\n  font-size: 0.75rem;\r\n  color: #007bff;\r\n  font-weight: 600;\r\n}\r\n\r\n.news-type {\r\n  font-size: 0.7rem;\r\n  color: #6c757d;\r\n  background: #f8f9fa;\r\n  padding: 0.2rem 0.4rem;\r\n  border-radius: 3px;\r\n  text-transform: uppercase;\r\n  font-weight: 500;\r\n}\r\n\r\n.news-thumbnail {\r\n  flex-shrink: 0;\r\n  width: 70px;\r\n  height: 50px;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.news-thumbnail img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.news-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding-top: 0.5rem;\r\n  border-top: 1px solid #f0f0f0;\r\n}\r\n\r\n.read-more {\r\n  font-size: 0.8rem;\r\n  color: #007bff;\r\n  font-weight: 600;\r\n  transition: color 0.2s;\r\n}\r\n\r\n.news-item:hover .read-more {\r\n  color: #0056b3;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .news-grid {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .news-item {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .news-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .news-content {\r\n    flex-direction: column;\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .news-thumbnail {\r\n    width: 100%;\r\n    height: 120px;\r\n  }\r\n  \r\n  .news-title {\r\n    font-size: 0.95rem;\r\n  }\r\n  \r\n  .news-summary {\r\n    font-size: 0.85rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .news-grid {\r\n    padding: 0.25rem;\r\n  }\r\n  \r\n  .news-item {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .news-title {\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  .news-summary {\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .news-meta {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-detail-skeleton\">\r\n    <!-- Breadcrumb Skeleton -->\r\n    <div class=\"skeleton-breadcrumb\">\r\n      <div class=\"skeleton-breadcrumb-link\"></div>\r\n      <div class=\"skeleton-breadcrumb-separator\">â€º</div>\r\n      <div class=\"skeleton-breadcrumb-current\"></div>\r\n    </div>\r\n\r\n    <!-- Stock Header Skeleton -->\r\n    <div class=\"skeleton-stock-header\">\r\n      <div class=\"skeleton-header-info\">\r\n        <div class=\"skeleton-symbol-info\">\r\n          <div class=\"skeleton-symbol\"></div>\r\n          <div class=\"skeleton-tags\">\r\n            <div class=\"skeleton-tag\"></div>\r\n            <div class=\"skeleton-tag\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"skeleton-header-actions\">\r\n          <div class=\"skeleton-back-button\"></div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Widgets Container Skeleton -->\r\n      <div class=\"skeleton-widgets-container\">\r\n        <!-- Symbol Overview (2/3 width) -->\r\n        <div class=\"skeleton-widget-overview\">\r\n          <div class=\"skeleton-widget-header\">\r\n            <div class=\"skeleton-title\"></div>\r\n          </div>\r\n          <div class=\"skeleton-overview-content\"></div>\r\n        </div>\r\n\r\n        <!-- Technical Analysis (1/3 width) -->\r\n        <div class=\"skeleton-widget-technical\">\r\n          <div class=\"skeleton-widget-header\">\r\n            <div class=\"skeleton-title\"></div>\r\n          </div>\r\n          <div class=\"skeleton-technical-content\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Insight Widgets Container Skeleton -->\r\n    <div class=\"skeleton-insight-widgets\">\r\n      <!-- Daily Insight -->\r\n      <div class=\"skeleton-insight-widget\">\r\n        <div class=\"skeleton-widget-header\">\r\n          <div class=\"skeleton-title\"></div>\r\n        </div>\r\n        <div class=\"skeleton-insight-content\"></div>\r\n      </div>\r\n\r\n      <!-- Weekly Insight -->\r\n      <div class=\"skeleton-insight-widget\">\r\n        <div class=\"skeleton-widget-header\">\r\n          <div class=\"skeleton-title\"></div>\r\n        </div>\r\n        <div class=\"skeleton-insight-content\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Technical Indicators Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-technical-indicators\">\r\n        <div class=\"skeleton-indicator-item\" v-for=\"i in 6\" :key=\"i\">\r\n          <div class=\"skeleton-indicator-name\"></div>\r\n          <div class=\"skeleton-indicator-value\"></div>\r\n          <div class=\"skeleton-indicator-signal\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Performance Monitor Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-widget-header\">\r\n        <div class=\"skeleton-title\"></div>\r\n      </div>\r\n      <div class=\"skeleton-performance-grid\">\r\n        <div class=\"skeleton-performance-item\" v-for=\"i in 4\" :key=\"i\">\r\n          <div class=\"skeleton-performance-label\"></div>\r\n          <div class=\"skeleton-performance-value\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Content Layout Skeleton -->\r\n    <div class=\"skeleton-content-layout\">\r\n      <!-- Stock News Row -->\r\n      <div class=\"skeleton-news-row\">\r\n        <div class=\"skeleton-widget-header\">\r\n          <div class=\"skeleton-title\"></div>\r\n        </div>\r\n        <div class=\"skeleton-news-content\">\r\n          <div class=\"skeleton-news-item\" v-for=\"i in 5\" :key=\"i\">\r\n            <div class=\"skeleton-news-title\"></div>\r\n            <div class=\"skeleton-news-summary\"></div>\r\n            <div class=\"skeleton-news-time\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Fundamental Data Row -->\r\n      <div class=\"skeleton-fundamental-row\">\r\n        <div class=\"skeleton-widget-header\">\r\n          <div class=\"skeleton-title\"></div>\r\n        </div>\r\n        <div class=\"skeleton-fundamental-content\">\r\n          <div class=\"skeleton-fundamental-grid\">\r\n            <div class=\"skeleton-fundamental-item\" v-for=\"i in 8\" :key=\"i\">\r\n              <div class=\"skeleton-fundamental-label\"></div>\r\n              <div class=\"skeleton-fundamental-value\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Company Profile Row -->\r\n      <div class=\"skeleton-profile-row\">\r\n        <div class=\"skeleton-widget-header\">\r\n          <div class=\"skeleton-title\"></div>\r\n        </div>\r\n        <div class=\"skeleton-profile-content\">\r\n          <div class=\"skeleton-profile-info\">\r\n            <div class=\"skeleton-profile-item\" v-for=\"i in 6\" :key=\"i\">\r\n              <div class=\"skeleton-profile-label\"></div>\r\n              <div class=\"skeleton-profile-value\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StockDetailSkeleton'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n<style scoped>\r\n/* åŸºç¤éª¨æ¶å‹•ç•« */\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n}\r\n\r\n.stock-detail-skeleton {\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  min-height: 100vh;\r\n  overflow-x: hidden;\r\n  max-width: 100%;\r\n}\r\n\r\n/* é€šç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-base {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Breadcrumb éª¨æ¶ */\r\n.skeleton-breadcrumb {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-breadcrumb-link {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-breadcrumb-separator {\r\n  color: #6c757d;\r\n  margin: 0 0.25rem;\r\n}\r\n\r\n.skeleton-breadcrumb-current {\r\n  @extend .skeleton-base;\r\n  width: 150px;\r\n  height: 16px;\r\n}\r\n\r\n/* Stock Header éª¨æ¶ */\r\n.skeleton-stock-header {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.skeleton-header-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.skeleton-symbol-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-symbol {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 24px;\r\n}\r\n\r\n.skeleton-tags {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-tag {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 20px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.skeleton-header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.skeleton-back-button {\r\n  @extend .skeleton-base;\r\n  width: 160px;\r\n  height: 36px;\r\n  border-radius: 6px;\r\n}\r\n\r\n/* Widgets Container éª¨æ¶ */\r\n.skeleton-widgets-container {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n  min-height: 450px;\r\n}\r\n\r\n.skeleton-widget-overview,\r\n.skeleton-widget-technical {\r\n  background: #fafafa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.skeleton-widget-header {\r\n  background: #f8f9fa;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.skeleton-title {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-overview-content,\r\n.skeleton-technical-content {\r\n  @extend .skeleton-base;\r\n  flex: 1;\r\n  margin: 1rem;\r\n  min-height: 380px;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* Insight Widgets éª¨æ¶ */\r\n.skeleton-insight-widgets {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.skeleton-insight-widget {\r\n  background: #fafafa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 600px;\r\n}\r\n\r\n.skeleton-insight-content {\r\n  @extend .skeleton-base;\r\n  flex: 1;\r\n  margin: 1rem;\r\n  min-height: 540px;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* Widget å®¹å™¨éª¨æ¶ */\r\n.skeleton-widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n/* Technical Indicators éª¨æ¶ */\r\n.skeleton-technical-indicators {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 1rem;\r\n  min-height: 300px;\r\n}\r\n\r\n.skeleton-indicator-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.skeleton-indicator-name {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-indicator-value {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 24px;\r\n}\r\n\r\n.skeleton-indicator-signal {\r\n  @extend .skeleton-base;\r\n  width: 60px;\r\n  height: 20px;\r\n  border-radius: 10px;\r\n}\r\n\r\n/* Performance Monitor éª¨æ¶ */\r\n.skeleton-performance-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 1rem;\r\n  min-height: 120px;\r\n}\r\n\r\n.skeleton-performance-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.skeleton-performance-label {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-performance-value {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 24px;\r\n}\r\n\r\n/* Content Layout éª¨æ¶ */\r\n.skeleton-content-layout {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.skeleton-news-row,\r\n.skeleton-fundamental-row,\r\n.skeleton-profile-row {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Stock News éª¨æ¶ */\r\n.skeleton-news-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  min-height: 400px;\r\n}\r\n\r\n.skeleton-news-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.skeleton-news-title {\r\n  @extend .skeleton-base;\r\n  width: 80%;\r\n  height: 18px;\r\n}\r\n\r\n.skeleton-news-summary {\r\n  @extend .skeleton-base;\r\n  width: 60%;\r\n  height: 14px;\r\n}\r\n\r\n.skeleton-news-time {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 12px;\r\n}\r\n\r\n/* Fundamental Data éª¨æ¶ */\r\n.skeleton-fundamental-content {\r\n  min-height: 600px;\r\n}\r\n\r\n.skeleton-fundamental-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.skeleton-fundamental-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.skeleton-fundamental-label {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 14px;\r\n}\r\n\r\n.skeleton-fundamental-value {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 20px;\r\n}\r\n\r\n/* Company Profile éª¨æ¶ */\r\n.skeleton-profile-content {\r\n  min-height: 400px;\r\n}\r\n\r\n.skeleton-profile-info {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.skeleton-profile-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.75rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.skeleton-profile-label {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-profile-value {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 16px;\r\n}\r\n\r\n/* å¯¦éš›æ‡‰ç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-breadcrumb-link,\r\n.skeleton-breadcrumb-current,\r\n.skeleton-symbol,\r\n.skeleton-tag,\r\n.skeleton-back-button,\r\n.skeleton-title,\r\n.skeleton-overview-content,\r\n.skeleton-technical-content,\r\n.skeleton-insight-content,\r\n.skeleton-indicator-name,\r\n.skeleton-indicator-value,\r\n.skeleton-indicator-signal,\r\n.skeleton-performance-label,\r\n.skeleton-performance-value,\r\n.skeleton-news-title,\r\n.skeleton-news-summary,\r\n.skeleton-news-time,\r\n.skeleton-fundamental-label,\r\n.skeleton-fundamental-value,\r\n.skeleton-profile-label,\r\n.skeleton-profile-value {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 1200px) {\r\n  .skeleton-widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .skeleton-insight-widgets {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .stock-detail-skeleton {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .skeleton-stock-header {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .skeleton-header-info {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .skeleton-widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n    min-height: auto;\r\n  }\r\n  \r\n  .skeleton-insight-widgets {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .skeleton-insight-widget {\r\n    height: auto;\r\n    min-height: 500px;\r\n  }\r\n  \r\n  .skeleton-insight-content {\r\n    min-height: 450px;\r\n  }\r\n  \r\n  .skeleton-overview-content,\r\n  .skeleton-technical-content {\r\n    min-height: 330px;\r\n  }\r\n  \r\n  .skeleton-technical-indicators {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .skeleton-performance-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .skeleton-fundamental-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n  \r\n  .skeleton-profile-info {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .skeleton-stock-header {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem 1rem -0.25rem;\r\n  }\r\n  \r\n  .skeleton-widget-container,\r\n  .skeleton-news-row,\r\n  .skeleton-fundamental-row,\r\n  .skeleton-profile-row {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 1rem -0.25rem;\r\n  }\r\n  \r\n  .skeleton-fundamental-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n/* å‹•ç•«å»¶é²æ•ˆæœ */\r\n.skeleton-tag:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-tag:nth-child(2) { animation-delay: 0.2s; }\r\n\r\n.skeleton-indicator-item:nth-child(odd) { animation-delay: 0.1s; }\r\n.skeleton-indicator-item:nth-child(even) { animation-delay: 0.2s; }\r\n\r\n.skeleton-news-item:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-news-item:nth-child(2) { animation-delay: 0.2s; }\r\n.skeleton-news-item:nth-child(3) { animation-delay: 0.3s; }\r\n\r\n.skeleton-fundamental-item:nth-child(odd) { animation-delay: 0.1s; }\r\n.skeleton-fundamental-item:nth-child(even) { animation-delay: 0.2s; }\r\n\r\n.skeleton-profile-item:nth-child(odd) { animation-delay: 0.1s; }\r\n.skeleton-profile-item:nth-child(even) { animation-delay: 0.2s; }\r\n\r\n/* æ·¡å…¥æ•ˆæœ */\r\n.stock-detail-skeleton {\r\n  animation: fadeIn 0.3s ease-in;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-detail\">\r\n    <!-- Breadcrumb -->\r\n    <nav class=\"breadcrumb\">\r\n      <router-link to=\"/stock-overview\" class=\"breadcrumb-link\">Stock Overview</router-link>\r\n      <span class=\"breadcrumb-separator\">â€º</span>\r\n      <span class=\"breadcrumb-current\">{{ symbol }} Analysis</span>\r\n    </nav>\r\n\r\n    <!-- è¼‰å…¥ç‹€æ…‹é¡¯ç¤ºéª¨æ¶å± -->\r\n    <div v-if=\"loading\" class=\"loading-with-skeleton\">\r\n      <StockDetailSkeleton />\r\n    </div>\r\n\r\n    <!-- éŒ¯èª¤ç‹€æ…‹ -->\r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p class=\"text-danger\">{{ error }}</p>\r\n      <button @click=\"refresh\" class=\"btn btn-secondary\">Retry</button>\r\n    </div>\r\n\r\n    <!-- æ­£å¸¸å…§å®¹ -->\r\n    <div v-else>\r\n      <!-- Stock Header -->\r\n      <div class=\"stock-header\">\r\n        <div class=\"stock-info-header\">\r\n          <div class=\"symbol-info\">\r\n            <h3 class=\"symbol\">{{ symbol }}</h3>\r\n            <div class=\"symbol-tags\">\r\n              <span class=\"exchange-tag\">{{ exchange }}</span>\r\n              <span class=\"industry-tag\" :class=\"`industry-${getIndustryCategory()}`\">{{ getIndustry() }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"header-actions\">\r\n            <button @click=\"goBack\" class=\"detail-btn\">\r\n              <span class=\"btn-icon\">â†</span>\r\n              Back to Stock Overview\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- TradingView Widgets Container - Same as StockCard -->\r\n        <div class=\"widgets-container\">\r\n          <!-- Symbol Overview (2/3 width) -->\r\n          <div class=\"widget-overview\">\r\n            <div class=\"widget-header\">\r\n              <h4>Symbol Overview</h4>\r\n            </div>\r\n            <FastTradingViewWidget \r\n              widget-type=\"overview\"\r\n              :symbol=\"symbol\" \r\n              :exchange=\"exchange\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Technical Analysis (1/3 width) -->\r\n          <div class=\"widget-technical\">\r\n            <div class=\"widget-header\">\r\n              <h4>Technical Analysis</h4>\r\n            </div>\r\n            <FastTradingViewWidget \r\n              widget-type=\"technical\"\r\n              :symbol=\"symbol\" \r\n              :exchange=\"exchange\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Daily and Weekly Insight Widgets -->\r\n      <div class=\"insight-widgets-container\">\r\n        <!-- Daily Insight (MA5) - Left -->\r\n        <div class=\"insight-widget daily-insight\">\r\n          <div class=\"widget-header\">\r\n            <h4>Daily Insight (MA5)</h4>\r\n          </div>\r\n          <LazyTradingViewWidget\r\n            widget-type=\"Daily Insight\"\r\n            :config=\"dailyInsightConfig\"\r\n            script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js\"\r\n            height=\"550px\"\r\n            :priority=\"2\"\r\n          />\r\n        </div>\r\n\r\n        <!-- Weekly Insight (MA4) - Right -->\r\n        <div class=\"insight-widget weekly-insight\">\r\n          <div class=\"widget-header\">\r\n            <h4>Weekly Insight (MA4)</h4>\r\n          </div>\r\n          <LazyTradingViewWidget\r\n            widget-type=\"Weekly Insight\"\r\n            :config=\"weeklyInsightConfig\"\r\n            script-url=\"https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js\"\r\n            height=\"550px\"\r\n            :priority=\"3\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Technical Indicators - Same position as StockCard -->\r\n      <TechnicalIndicators :symbol=\"symbol\" :exchange=\"exchange\" />\r\n\r\n      <!-- Performance Monitor -->\r\n      <PerformanceMonitor />\r\n\r\n      <!-- Main Content Layout -->\r\n      <div class=\"content-layout\">\r\n        <!-- Row 1: Stock News (Full Width) -->\r\n        <div class=\"stock-news-row\">\r\n          <div class=\"widget-container\">\r\n            <h3 class=\"widget-title\">Latest News</h3>\r\n            <StockNews :symbol=\"symbol\" />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Row 2: Fundamental Data (Full Width) -->\r\n        <div class=\"fundamental-data-row\">\r\n          <div class=\"widget-container\">\r\n            <h3 class=\"widget-title\">Fundamental Data</h3>\r\n            <TradingViewFundamentalData :symbol=\"symbol\" :exchange=\"exchange\" />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Row 3: Company Profile (Full Width) -->\r\n        <div class=\"company-profile-row\">\r\n          <div class=\"widget-container\">\r\n            <h3 class=\"widget-title\">Company Profile</h3>\r\n            <TradingViewCompanyProfile :symbol=\"symbol\" :exchange=\"exchange\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FastTradingViewWidget from '@/components/FastTradingViewWidget.vue'\r\nimport LazyTradingViewWidget from '@/components/LazyTradingViewWidget.vue'\r\nimport TradingViewCompanyProfile from '@/components/TradingViewCompanyProfile.vue'\r\nimport TradingViewFundamentalData from '@/components/TradingViewFundamentalData.vue'\r\nimport TechnicalIndicators from '@/components/TechnicalIndicators.vue'\r\nimport PerformanceMonitor from '@/components/PerformanceMonitor.vue'\r\nimport StockNews from '@/components/StockNews.vue'\r\nimport StockDetailSkeleton from '@/components/StockDetailSkeleton.vue'\r\nimport { metadataService } from '@/utils/metadataService.js'\r\n\r\nexport default {\r\n  name: 'StockDetail',\r\n  components: {\r\n    FastTradingViewWidget,\r\n    LazyTradingViewWidget,\r\n    TradingViewCompanyProfile,\r\n    TradingViewFundamentalData,\r\n    TechnicalIndicators,\r\n    PerformanceMonitor,\r\n    StockNews,\r\n    StockDetailSkeleton\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null,\r\n      metadata: null\r\n    }\r\n  },\r\n  computed: {\r\n    symbol() {\r\n      return this.$route.params.symbol || 'RKLB'\r\n    },\r\n    exchange() {\r\n      // æ ¹æ“š symbol æ¨æ¸¬äº¤æ˜“æ‰€\r\n      const symbol = this.symbol\r\n      \r\n      // NASDAQ è‚¡ç¥¨\r\n      if (['ASTS', 'RIVN', 'PL', 'ONDS', 'RDW', 'AVAV', 'MDB', 'RKLB', 'CRM', 'NVDA', 'AVGO', 'AMZN', 'GOOG', 'META', 'NFLX', 'LEU', 'SMR', 'CRWV', 'IONQ', 'PLTR', 'HIMS', 'TSLA'].includes(symbol)) {\r\n        return 'NASDAQ'\r\n      } \r\n      // NYSE è‚¡ç¥¨\r\n      else if (['ORCL', 'TSM'].includes(symbol)) {\r\n        return 'NYSE'\r\n      }\r\n      \r\n      return 'NASDAQ'\r\n    },\r\n\r\n    dailyInsightConfig() {\r\n      return {\r\n        \"lineWidth\": 2,\r\n        \"lineType\": 0,\r\n        \"chartType\": \"candlesticks\",\r\n        \"showVolume\": true,\r\n        \"fontColor\": \"rgb(106, 109, 120)\",\r\n        \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n        \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n        \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n        \"backgroundColor\": \"#ffffff\",\r\n        \"widgetFontColor\": \"#0F0F0F\",\r\n        \"upColor\": \"#22ab94\",\r\n        \"downColor\": \"#f7525f\",\r\n        \"borderUpColor\": \"#22ab94\",\r\n        \"borderDownColor\": \"#f7525f\",\r\n        \"wickUpColor\": \"#22ab94\",\r\n        \"wickDownColor\": \"#f7525f\",\r\n        \"colorTheme\": \"light\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"en\",\r\n        \"chartOnly\": false,\r\n        \"scalePosition\": \"right\",\r\n        \"scaleMode\": \"Normal\",\r\n        \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n        \"valuesTracking\": \"1\",\r\n        \"changeMode\": \"price-and-percent\",\r\n        \"symbols\": [[`${this.exchange}:${this.symbol}|6M`]],\r\n        \"dateRanges\": [\"6m|1D\"],\r\n        \"fontSize\": \"10\",\r\n        \"headerFontSize\": \"medium\",\r\n        \"autosize\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\",\r\n        \"noTimeScale\": false,\r\n        \"hideDateRanges\": false,\r\n        \"showMA\": true,\r\n        \"maLength\": \"5\",\r\n        \"maLineColor\": \"#2962FF\",\r\n        \"maLineWidth\": 1,\r\n        \"hideMarketStatus\": false,\r\n        \"hideSymbolLogo\": false\r\n      }\r\n    },\r\n\r\n    weeklyInsightConfig() {\r\n      return {\r\n        \"lineWidth\": 2,\r\n        \"lineType\": 0,\r\n        \"chartType\": \"candlesticks\",\r\n        \"showVolume\": true,\r\n        \"fontColor\": \"rgb(106, 109, 120)\",\r\n        \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n        \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n        \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n        \"backgroundColor\": \"#ffffff\",\r\n        \"widgetFontColor\": \"#0F0F0F\",\r\n        \"upColor\": \"#22ab94\",\r\n        \"downColor\": \"#f7525f\",\r\n        \"borderUpColor\": \"#22ab94\",\r\n        \"borderDownColor\": \"#f7525f\",\r\n        \"wickUpColor\": \"#22ab94\",\r\n        \"wickDownColor\": \"#f7525f\",\r\n        \"colorTheme\": \"light\",\r\n        \"isTransparent\": true,\r\n        \"locale\": \"en\",\r\n        \"chartOnly\": false,\r\n        \"scalePosition\": \"right\",\r\n        \"scaleMode\": \"Normal\",\r\n        \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n        \"valuesTracking\": \"1\",\r\n        \"changeMode\": \"price-and-percent\",\r\n        \"symbols\": [[`${this.exchange}:${this.symbol}|6M`]],\r\n        \"dateRanges\": [\"6m|1W\"],\r\n        \"fontSize\": \"10\",\r\n        \"headerFontSize\": \"medium\",\r\n        \"autosize\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\",\r\n        \"noTimeScale\": false,\r\n        \"hideDateRanges\": false,\r\n        \"showMA\": true,\r\n        \"maLength\": \"4\",\r\n        \"maLineColor\": \"#2962FF\",\r\n        \"maLineWidth\": 1,\r\n        \"hideMarketStatus\": false,\r\n        \"hideSymbolLogo\": false\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    symbol() {\r\n      this.loadMetadata()\r\n    }\r\n  },\r\n    mounted() {\r\n    // å•Ÿç”¨å‹•æ…‹ API æ¨¡å¼ä»¥ç²å–æœ€æ–°çš„ sector/industry ä¿¡æ¯\r\n    metadataService.setUseDynamicAPI(true)\r\n    \r\n    this.loadMetadata()\r\n    this.initializePage()\r\n  },\r\n  methods: {\r\n    async initializePage() {\r\n      try {\r\n        // æ¨¡æ“¬è¼‰å…¥æ™‚é–“\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        this.loading = false\r\n      } catch (err) {\r\n        this.error = String(err)\r\n        this.loading = false\r\n      }\r\n    },\r\n    async refresh() {\r\n      this.loading = true\r\n      this.error = null\r\n      await this.initializePage()\r\n    },\r\n    async loadMetadata() {\r\n      try {\r\n        this.metadata = await metadataService.getSymbolMetadata(this.symbol)\r\n      } catch (error) {\r\n        console.warn(`Failed to load metadata for ${this.symbol}:`, error)\r\n        this.metadata = null\r\n      }\r\n    },\r\n\r\n    getSector() {\r\n      if (!this.metadata || this.metadata.confidence < 0.7) {\r\n        return 'Unknown'\r\n      }\r\n      return this.metadata.sector || 'Unknown'\r\n    },\r\n\r\n    getIndustry() {\r\n      return metadataService.getIndustryDisplay(this.metadata)\r\n    },\r\n\r\n    getIndustryCategory() {\r\n      return metadataService.getIndustryCategory(this.metadata)\r\n    },\r\n\r\n    goBack() {\r\n      console.log('Navigating back to stock overview')\r\n      this.$router.push({ name: 'stock-overview' }).catch(err => {\r\n        console.error('Navigation error:', err)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stock-detail {\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  min-height: 100vh;\r\n}\r\n\r\n/* Breadcrumb */\r\n.breadcrumb {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.breadcrumb-link {\r\n  color: #007bff;\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n}\r\n\r\n.breadcrumb-link:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.breadcrumb-separator {\r\n  margin: 0 0.5rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.breadcrumb-current {\r\n  color: #495057;\r\n  font-weight: 600;\r\n}\r\n\r\n/* Stock Header - Match Stock Overview Style */\r\n.stock-header {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.stock-info-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n/* Widgets Container - Same as StockCard */\r\n.widgets-container {\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr; /* 2/3 å’Œ 1/3 çš„æ¯”ä¾‹ */\r\n  gap: 1.5rem;\r\n  margin-bottom: 0px; /* ç§»é™¤ä¸‹æ–¹ padding */\r\n  min-height: 450px;\r\n  will-change: transform;\r\n}\r\n\r\n.widget-overview,\r\n.widget-technical {\r\n  background: #fafafa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  contain: layout style paint;\r\n}\r\n\r\n.widget-overview {\r\n  min-height: 440px; /* Symbol Overview å°é½Š Technical Analysis é«˜åº¦ */\r\n  height: 440px;\r\n}\r\n\r\n.widget-technical {\r\n  min-height: 440px; /* Technical Analysis é©åº¦å¢åŠ åˆ° 440px é¿å… scroll bar */\r\n  height: 440px;\r\n}\r\n\r\n.widget-header {\r\n  background: #f8f9fa;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.widget-header h4 {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0;\r\n}\r\n\r\n/* ç¢ºä¿ widget å…§å®¹å€åŸŸæœ‰è¶³å¤ é«˜åº¦ */\r\n.widget-overview > :not(.widget-header) {\r\n  flex: 1;\r\n  min-height: 390px; /* Symbol Overview å…§å®¹å€åŸŸå°é½Š */\r\n}\r\n\r\n.widget-technical > :not(.widget-header) {\r\n  flex: 1;\r\n  min-height: 390px; /* Technical Analysis å…§å®¹å€åŸŸé©åº¦å¢åŠ åˆ° 390px */\r\n}\r\n\r\n/* Insight Widgets Container */\r\n.insight-widgets-container {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.insight-widget {\r\n  background: #fafafa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  overflow: visible; /* æ”¹ç‚º visible è®“å…§å®¹å¯ä»¥å®Œæ•´é¡¯ç¤º */\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 600px; /* å¢åŠ æœ€å°é«˜åº¦å¾ 500px åˆ° 600px */\r\n  height: auto; /* æ”¹ç‚º auto è®“å®¹å™¨è‡ªé©æ‡‰å…§å®¹ */\r\n}\r\n\r\n.insight-widget .widget-header {\r\n  background: #f8f9fa;\r\n  padding: 0.75rem 1rem;\r\n  border-bottom: 1px solid #e9ecef;\r\n  flex-shrink: 0;\r\n  height: 45px; /* å›ºå®š header é«˜åº¦ */\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.insight-widget .widget-header h4 {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0;\r\n  line-height: 1.2;\r\n}\r\n\r\n.insight-widget > :not(.widget-header) {\r\n  flex: 1;\r\n  min-height: 550px; /* ç¢ºä¿å…§å®¹å€åŸŸæœ‰è¶³å¤ é«˜åº¦ */\r\n  height: 550px; /* å›ºå®šå…§å®¹å€åŸŸé«˜åº¦ */\r\n  overflow: visible; /* è®“ iframe å¯ä»¥å®Œæ•´é¡¯ç¤º */\r\n}\r\n\r\n.symbol-info .symbol {\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #333;\r\n  margin: 0 0 0.5rem 0;\r\n}\r\n\r\n.symbol-tags {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.exchange-tag {\r\n  font-size: 0.75rem;\r\n  color: #007bff;\r\n  background-color: #e7f3ff;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: 500;\r\n  border: 1px solid #90caf9;\r\n  display: inline-block;\r\n}\r\n\r\n.industry-tag {\r\n  font-size: 0.75rem;\r\n  color: #666;\r\n  background-color: #e8f4fd;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-weight: 500;\r\n  border: 1px solid #b3d9ff;\r\n  display: inline-block;\r\n}\r\n\r\n/* Industry Category Specific Styles */\r\n.industry-tech-iot {\r\n  background-color: #e3f2fd;\r\n  color: #1565c0;\r\n  border-color: #90caf9;\r\n}\r\n\r\n.industry-tech-satellite {\r\n  background-color: #f3e5f5;\r\n  color: #7b1fa2;\r\n  border-color: #ce93d8;\r\n}\r\n\r\n.industry-tech-software {\r\n  background-color: #e8f5e8;\r\n  color: #2e7d32;\r\n  border-color: #a5d6a7;\r\n}\r\n\r\n.industry-tech-hardware {\r\n  background-color: #fff3e0;\r\n  color: #ef6c00;\r\n  border-color: #ffcc80;\r\n}\r\n\r\n.industry-industrial-aerospace {\r\n  background-color: #fce4ec;\r\n  color: #c2185b;\r\n  border-color: #f8bbd9;\r\n}\r\n\r\n.industry-industrial-space {\r\n  background-color: #f1f8e9;\r\n  color: #558b2f;\r\n  border-color: #c5e1a5;\r\n}\r\n\r\n.industry-communications {\r\n  background-color: #e0f2f1;\r\n  color: #00695c;\r\n  border-color: #80cbc4;\r\n}\r\n\r\n.industry-automotive {\r\n  background-color: #fff8e1;\r\n  color: #ff8f00;\r\n  border-color: #ffcc02;\r\n}\r\n\r\n.industry-unknown {\r\n  background-color: #f5f5f5;\r\n  color: #757575;\r\n  border-color: #e0e0e0;\r\n}\r\n\r\n.industry-other {\r\n  background-color: #fafafa;\r\n  color: #616161;\r\n  border-color: #bdbdbd;\r\n}\r\n\r\n/* Header Actions */\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.detail-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  background: linear-gradient(135deg, #6c757d, #5a6268);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  box-shadow: 0 2px 4px rgba(108, 117, 125, 0.2);\r\n  line-height: 1;\r\n  min-height: 36px;\r\n}\r\n\r\n.detail-btn:hover {\r\n  background: linear-gradient(135deg, #5a6268, #495057);\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 1rem;\r\n  line-height: 1;\r\n  display: inline-flex;\r\n  align-items: center;\r\n}\r\n\r\n/* Content Layout - Row-based Structure */\r\n.content-layout {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n/* Row 1: Stock News (Full Width) */\r\n.stock-news-row {\r\n  width: 100%;\r\n}\r\n\r\n.stock-news-row .widget-container {\r\n  min-height: 400px;\r\n  height: auto; /* è®“æ–°èå€å¡Šè‡ªé©æ‡‰é«˜åº¦ */\r\n}\r\n\r\n/* Row 2: Fundamental Data (Full Width) */\r\n.company-profile-row {\r\n  width: 100%;\r\n}\r\n\r\n.company-profile-row .widget-container {\r\n  min-height: 400px;\r\n  height: 400px;\r\n}\r\n\r\n/* Row 2: Fundamental Data (Full Width) */\r\n.fundamental-data-row {\r\n  width: 100%;\r\n}\r\n\r\n.fundamental-data-row .widget-container {\r\n  min-height: 600px;\r\n  height: 600px;\r\n}\r\n\r\n/* Row 3: Company Profile (Full Width) */\r\n.company-profile-row {\r\n  width: 100%;\r\n}\r\n\r\n.company-profile-row .widget-container {\r\n  min-height: 400px;\r\n  height: 400px;\r\n}\r\n\r\n/* Widget Container - Match Stock Dashboard Style */\r\n.widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.widget-title {\r\n  background: #f8f9fa;\r\n  padding: 0.75rem 1rem;\r\n  margin: 0;\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  border-bottom: 1px solid #e9ecef;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Widget Content Area */\r\n.widget-container > :not(.widget-title) {\r\n  flex: 1;\r\n  min-height: 0;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 1200px) {\r\n  .widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .insight-widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .stock-detail {\r\n    padding: 0.5rem;\r\n  }\r\n  \r\n  .stock-header {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .stock-info-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .header-actions {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n    min-height: auto;\r\n  }\r\n  \r\n  .insight-widgets-container {\r\n    grid-template-columns: 1fr;\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .insight-widget {\r\n    height: auto; /* æ‰‹æ©Ÿç‰ˆè‡ªé©æ‡‰é«˜åº¦ */\r\n    min-height: 500px;\r\n  }\r\n  \r\n  .insight-widget > :not(.widget-header) {\r\n    height: 500px;\r\n    min-height: 500px;\r\n  }\r\n  \r\n  .widget-overview {\r\n    height: 380px; /* æ‰‹æ©Ÿç‰ˆå°é½Šé«˜åº¦ */\r\n    min-height: 380px;\r\n  }\r\n  \r\n  .widget-technical {\r\n    height: 380px; /* æ‰‹æ©Ÿç‰ˆ Technical Analysis é©åº¦èª¿æ•´ */\r\n    min-height: 380px;\r\n  }\r\n  \r\n  .content-layout {\r\n    gap: 1rem;\r\n  }\r\n  \r\n  .company-profile-row .widget-container,\r\n  .fundamental-data-row .widget-container {\r\n    height: 350px;\r\n    min-height: 350px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .breadcrumb {\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .stock-header {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .symbol-info .symbol {\r\n    font-size: 1.2rem;\r\n  }\r\n  \r\n  .widget-header {\r\n    padding: 0.5rem 0.75rem;\r\n  }\r\n  \r\n  .widget-header h4 {\r\n    font-size: 0.9rem;\r\n  }\r\n  \r\n  .widget-title {\r\n    font-size: 0.9rem;\r\n    padding: 0.5rem 0.75rem;\r\n  }\r\n  \r\n  .detail-btn {\r\n    padding: 0.4rem 0.8rem;\r\n    font-size: 0.8rem;\r\n  }\r\n  \r\n  .widgets-container {\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .insight-widgets-container {\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .insight-widget {\r\n    height: auto; /* å°è¢å¹•è‡ªé©æ‡‰é«˜åº¦ */\r\n    min-height: 450px;\r\n  }\r\n  \r\n  .insight-widget > :not(.widget-header) {\r\n    height: 450px;\r\n    min-height: 450px;\r\n  }\r\n  \r\n  .widget-overview {\r\n    height: 330px; /* å°è¢å¹•å°é½Šé«˜åº¦ */\r\n    min-height: 330px;\r\n  }\r\n  \r\n  .widget-technical {\r\n    height: 330px; /* å°è¢å¹• Technical Analysis é©åº¦èª¿æ•´ */\r\n    min-height: 330px;\r\n  }\r\n  \r\n  .company-profile-row .widget-container,\r\n  .fundamental-data-row .widget-container {\r\n    height: 300px;\r\n    min-height: 300px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"top-stories-container\">\r\n    <div class=\"widget-header\">\r\n      <h3>Top Stories</h3>\r\n    </div>\r\n    \r\n    <div class=\"top-stories-widget\" :id=\"widgetId\" ref=\"container\">\r\n      <div v-if=\"!loaded && !error\" class=\"stories-loading\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <span>Loading market news...</span>\r\n      </div>\r\n      \r\n      <div v-if=\"error\" class=\"stories-error\">\r\n        <span>âš ï¸ Failed to load market news</span>\r\n        <button @click=\"retry\" class=\"retry-btn\">Retry</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TradingViewTopStories',\r\n  props: {\r\n    displayMode: {\r\n      type: String,\r\n      default: 'regular'\r\n    },\r\n    feedMode: {\r\n      type: String,\r\n      default: 'market'\r\n    },\r\n    colorTheme: {\r\n      type: String,\r\n      default: 'light'\r\n    },\r\n    isTransparent: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    locale: {\r\n      type: String,\r\n      default: 'en'\r\n    },\r\n    market: {\r\n      type: String,\r\n      default: 'stock'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '600px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loaded: false,\r\n      error: false,\r\n      widgetId: `top-stories-${Date.now()}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadTopStories()\r\n  },\r\n  methods: {\r\n    async loadTopStories() {\r\n      this.loaded = false\r\n      this.error = false\r\n\r\n      try {\r\n        await this.$nextTick()\r\n        this.createTopStories()\r\n      } catch (err) {\r\n        console.error('Failed to load top stories:', err)\r\n        this.error = true\r\n      }\r\n    },\r\n\r\n    createTopStories() {\r\n      const container = this.$refs.container\r\n      if (!container) return\r\n\r\n      // æ¸…é™¤ç¾æœ‰çš„ widget\r\n      container.innerHTML = ''\r\n\r\n      // å‰µå»º widget å®¹å™¨çµæ§‹\r\n      const widgetContainer = document.createElement('div')\r\n      widgetContainer.className = 'tradingview-widget-container'\r\n      widgetContainer.style.height = '100%'\r\n      widgetContainer.style.width = '100%'\r\n\r\n      const widgetContent = document.createElement('div')\r\n      widgetContent.className = 'tradingview-widget-container__widget'\r\n\r\n      widgetContainer.appendChild(widgetContent)\r\n      container.appendChild(widgetContainer)\r\n\r\n      // å‰µå»ºé…ç½®\r\n      const config = {\r\n        \"displayMode\": this.displayMode,\r\n        \"feedMode\": this.feedMode,\r\n        \"colorTheme\": this.colorTheme,\r\n        \"isTransparent\": this.isTransparent,\r\n        \"locale\": this.locale,\r\n        \"market\": this.market,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\"\r\n      }\r\n\r\n      // å‰µå»ºè…³æœ¬\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-timeline.js'\r\n      script.async = true\r\n      script.innerHTML = JSON.stringify(config)\r\n\r\n      // è¨­å®šè¼‰å…¥äº‹ä»¶\r\n      script.onload = () => {\r\n        this.loaded = true\r\n        console.log('TradingView Top Stories loaded successfully')\r\n      }\r\n\r\n      script.onerror = () => {\r\n        this.error = true\r\n        console.error('TradingView Top Stories failed to load')\r\n      }\r\n\r\n      // æ·»åŠ è…³æœ¬åˆ° widget å®¹å™¨\r\n      widgetContent.appendChild(script)\r\n\r\n      // è¨­å®šè¶…æ™‚ä¿è­·\r\n      setTimeout(() => {\r\n        if (!this.loaded && !this.error) {\r\n          this.loaded = true\r\n        }\r\n      }, 8000)\r\n    },\r\n\r\n    async retry() {\r\n      await this.loadTopStories()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.top-stories-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.widget-header h3 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.top-stories-widget {\r\n  height: 650px;\r\n  min-height: 650px;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Loading ç‹€æ…‹ */\r\n.stories-loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  height: 100%;\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e9ecef;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* Error ç‹€æ…‹ */\r\n.stories-error {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  height: 100%;\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  color: #721c24;\r\n  border-radius: 4px;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 0.25rem 0.75rem;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #c82333;\r\n}\r\n\r\n/* TradingView Widget æ¨£å¼è¦†è“‹ */\r\n:global(.top-stories-container .tradingview-widget-container) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  overflow: hidden !important;\r\n  position: relative !important;\r\n}\r\n\r\n:global(.top-stories-container .tradingview-widget-container__widget) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .top-stories-widget {\r\n    height: 550px;\r\n    min-height: 550px;\r\n  }\r\n  \r\n  .widget-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .top-stories-container {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem 2rem -0.25rem;\r\n  }\r\n  \r\n  .top-stories-widget {\r\n    height: 500px;\r\n    min-height: 500px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"top-stories-skeleton\">\r\n    <!-- Page Header Skeleton -->\r\n    <div class=\"skeleton-page-header\">\r\n      <div class=\"skeleton-page-title\"></div>\r\n      <div class=\"skeleton-page-description\"></div>\r\n    </div>\r\n\r\n    <!-- Top Stories Widget Skeleton -->\r\n    <div class=\"skeleton-widget-container\">\r\n      <div class=\"skeleton-stories-area\">\r\n        <div class=\"skeleton-story-item\" v-for=\"i in 10\" :key=\"i\">\r\n          <div class=\"skeleton-story-time\"></div>\r\n          <div class=\"skeleton-story-title\"></div>\r\n          <div class=\"skeleton-story-content\"></div>\r\n          <div class=\"skeleton-story-tags\">\r\n            <div class=\"skeleton-story-tag\" v-for=\"j in 3\" :key=\"j\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Configuration Info Skeleton -->\r\n    <div class=\"skeleton-config-info\">\r\n      <div class=\"skeleton-config-title\"></div>\r\n      <div class=\"skeleton-config-list\">\r\n        <div class=\"skeleton-config-item\" v-for=\"i in 5\" :key=\"i\">\r\n          <div class=\"skeleton-config-label\"></div>\r\n          <div class=\"skeleton-config-value\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TopStoriesSkeleton'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* åŸºç¤éª¨æ¶å‹•ç•« */\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n}\r\n\r\n.top-stories-skeleton {\r\n  padding: 0;\r\n  overflow-x: hidden;\r\n  max-width: 100%;\r\n}\r\n\r\n/* é€šç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-base {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Page Header éª¨æ¶ */\r\n.skeleton-page-header {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-page-title {\r\n  @extend .skeleton-base;\r\n  width: 280px;\r\n  height: 32px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-page-description {\r\n  @extend .skeleton-base;\r\n  width: 350px;\r\n  height: 16px;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n/* Widget å®¹å™¨éª¨æ¶ */\r\n.skeleton-widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n  min-height: 650px;\r\n}\r\n\r\n/* Top Stories éª¨æ¶ */\r\n.skeleton-stories-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  min-height: 600px;\r\n}\r\n\r\n.skeleton-story-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n  padding: 1.5rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  background: #fafafa;\r\n  border-radius: 8px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-story-time {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 14px;\r\n}\r\n\r\n.skeleton-story-title {\r\n  @extend .skeleton-base;\r\n  width: 85%;\r\n  height: 20px;\r\n}\r\n\r\n.skeleton-story-content {\r\n  @extend .skeleton-base;\r\n  width: 70%;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-story-tags {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.skeleton-story-tag {\r\n  @extend .skeleton-base;\r\n  width: 60px;\r\n  height: 18px;\r\n  border-radius: 9px;\r\n}\r\n\r\n/* Configuration Info éª¨æ¶ */\r\n.skeleton-config-info {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.skeleton-config-title {\r\n  @extend .skeleton-base;\r\n  width: 180px;\r\n  height: 20px;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-config-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-config-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-config-label {\r\n  @extend .skeleton-base;\r\n  width: 120px;\r\n  height: 16px;\r\n}\r\n\r\n.skeleton-config-value {\r\n  @extend .skeleton-base;\r\n  width: 80px;\r\n  height: 16px;\r\n}\r\n\r\n/* å¯¦éš›æ‡‰ç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-page-title,\r\n.skeleton-page-description,\r\n.skeleton-story-time,\r\n.skeleton-story-title,\r\n.skeleton-story-content,\r\n.skeleton-story-tag,\r\n.skeleton-config-title,\r\n.skeleton-config-label,\r\n.skeleton-config-value {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.75rem;\r\n    margin-bottom: 1rem;\r\n    min-height: 500px;\r\n  }\r\n  \r\n  .skeleton-stories-area {\r\n    min-height: 450px;\r\n  }\r\n  \r\n  .skeleton-story-item {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .skeleton-config-info {\r\n    padding: 0.75rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 1rem -0.25rem;\r\n    min-height: 400px;\r\n  }\r\n  \r\n  .skeleton-stories-area {\r\n    min-height: 350px;\r\n  }\r\n  \r\n  .skeleton-story-item {\r\n    padding: 0.75rem;\r\n  }\r\n  \r\n  .skeleton-config-info {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 2rem -0.25rem;\r\n  }\r\n  \r\n  .skeleton-story-tags {\r\n    flex-wrap: wrap;\r\n  }\r\n}\r\n\r\n/* å‹•ç•«å»¶é²æ•ˆæœ */\r\n.skeleton-story-item:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-story-item:nth-child(2) { animation-delay: 0.2s; }\r\n.skeleton-story-item:nth-child(3) { animation-delay: 0.3s; }\r\n.skeleton-story-item:nth-child(4) { animation-delay: 0.4s; }\r\n.skeleton-story-item:nth-child(5) { animation-delay: 0.5s; }\r\n\r\n.skeleton-story-tag:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-story-tag:nth-child(2) { animation-delay: 0.2s; }\r\n.skeleton-story-tag:nth-child(3) { animation-delay: 0.3s; }\r\n\r\n.skeleton-config-item:nth-child(odd) { animation-delay: 0.1s; }\r\n.skeleton-config-item:nth-child(even) { animation-delay: 0.2s; }\r\n\r\n/* æ·¡å…¥æ•ˆæœ */\r\n.top-stories-skeleton {\r\n  animation: fadeIn 0.3s ease-in;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"top-stories-test\">\r\n    <h2>Top Stories Widget Test</h2>\r\n    <p class=\"text-muted mb-3\">Testing TradingView Top Stories component</p>\r\n\r\n    <!-- è¼‰å…¥ç‹€æ…‹é¡¯ç¤ºéª¨æ¶å± -->\r\n    <div v-if=\"loading\" class=\"loading-with-skeleton\">\r\n      <TopStoriesSkeleton />\r\n    </div>\r\n\r\n    <!-- éŒ¯èª¤ç‹€æ…‹ -->\r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p class=\"text-danger\">{{ error }}</p>\r\n      <button @click=\"refresh\" class=\"btn btn-secondary\">Retry</button>\r\n    </div>\r\n\r\n    <!-- æ­£å¸¸å…§å®¹ -->\r\n    <div v-else>\r\n      <!-- Top Stories Widget -->\r\n      <TradingViewTopStories \r\n        display-mode=\"regular\"\r\n        feed-mode=\"market\"\r\n        color-theme=\"light\"\r\n        :is-transparent=\"true\"\r\n        locale=\"en\"\r\n        market=\"stock\"\r\n        height=\"650px\"\r\n      />\r\n\r\n      <!-- Configuration Info -->\r\n      <div class=\"config-info\">\r\n        <h3>Widget Configuration</h3>\r\n        <ul>\r\n          <li><strong>Display Mode:</strong> regular</li>\r\n          <li><strong>Feed Mode:</strong> market</li>\r\n          <li><strong>Color Theme:</strong> light</li>\r\n          <li><strong>Market:</strong> stock</li>\r\n          <li><strong>Height:</strong> 650px</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TradingViewTopStories from '@/components/TradingViewTopStories.vue'\r\nimport TopStoriesSkeleton from '@/components/TopStoriesSkeleton.vue'\r\n\r\nexport default {\r\n  name: 'TopStoriesTest',\r\n  components: {\r\n    TradingViewTopStories,\r\n    TopStoriesSkeleton\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initializePage()\r\n  },\r\n  methods: {\r\n    async initializePage() {\r\n      try {\r\n        // æ¨¡æ“¬è¼‰å…¥æ™‚é–“\r\n        await new Promise(resolve => setTimeout(resolve, 800))\r\n        this.loading = false\r\n      } catch (err) {\r\n        this.error = String(err)\r\n        this.loading = false\r\n      }\r\n    },\r\n    async refresh() {\r\n      this.loading = true\r\n      this.error = null\r\n      await this.initializePage()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.top-stories-test {\r\n  padding: 0;\r\n}\r\n\r\n.mb-3 {\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n\r\n.loading-with-skeleton {\r\n  /* éª¨æ¶å±è¼‰å…¥å®¹å™¨ */\r\n}\r\n\r\n.error {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.text-danger {\r\n  color: #dc3545;\r\n}\r\n\r\n.btn {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.btn-secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: #545b62;\r\n}\r\n\r\n.config-info {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.config-info h3 {\r\n  margin-bottom: 1rem;\r\n  color: #333;\r\n}\r\n\r\n.config-info ul {\r\n  margin: 0;\r\n  padding-left: 1.5rem;\r\n}\r\n\r\n.config-info li {\r\n  margin-bottom: 0.5rem;\r\n  color: #666;\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-market-insight-container\">\r\n    <div class=\"widget-header\">\r\n      <h3>Stock Market Insight</h3>\r\n    </div>\r\n    \r\n    <div class=\"insight-grid\">\r\n      <!-- Stock Market Daily -->\r\n      <div class=\"insight-section\">\r\n        <div class=\"section-header\">\r\n          <h4>Stock Market Daily</h4>\r\n        </div>\r\n        <div class=\"daily-widget\" :id=\"dailyWidgetId\" ref=\"dailyContainer\">\r\n          <div v-if=\"!dailyLoaded && !dailyError\" class=\"widget-loading\">\r\n            <div class=\"loading-spinner\"></div>\r\n            <span>Loading daily market data...</span>\r\n          </div>\r\n          \r\n          <div v-if=\"dailyError\" class=\"widget-error\">\r\n            <span>âš ï¸ Failed to load daily data</span>\r\n            <button @click=\"retryDaily\" class=\"retry-btn\">Retry</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Stock Market Weekly -->\r\n      <div class=\"insight-section\">\r\n        <div class=\"section-header\">\r\n          <h4>Stock Market Weekly</h4>\r\n        </div>\r\n        <div class=\"weekly-widget\" :id=\"weeklyWidgetId\" ref=\"weeklyContainer\">\r\n          <div v-if=\"!weeklyLoaded && !weeklyError\" class=\"widget-loading\">\r\n            <div class=\"loading-spinner\"></div>\r\n            <span>Loading weekly market data...</span>\r\n          </div>\r\n          \r\n          <div v-if=\"weeklyError\" class=\"widget-error\">\r\n            <span>âš ï¸ Failed to load weekly data</span>\r\n            <button @click=\"retryWeekly\" class=\"retry-btn\">Retry</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StockMarketInsight',\r\n  props: {\r\n    colorTheme: {\r\n      type: String,\r\n      default: 'light'\r\n    },\r\n    isTransparent: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    locale: {\r\n      type: String,\r\n      default: 'en'\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: '1300px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dailyLoaded: false,\r\n      dailyError: false,\r\n      weeklyLoaded: false,\r\n      weeklyError: false,\r\n      dailyWidgetId: `daily-market-${Date.now()}`,\r\n      weeklyWidgetId: `weekly-market-${Date.now()}`\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadWidgets()\r\n  },\r\n  methods: {\r\n    async loadWidgets() {\r\n      await this.$nextTick()\r\n      this.createDailyWidget()\r\n      this.createWeeklyWidget()\r\n    },\r\n\r\n    createDailyWidget() {\r\n      const container = this.$refs.dailyContainer\r\n      if (!container) return\r\n\r\n      // æ¸…é™¤ç¾æœ‰çš„ widget\r\n      container.innerHTML = ''\r\n\r\n      // å‰µå»º widget å®¹å™¨çµæ§‹\r\n      const widgetContainer = document.createElement('div')\r\n      widgetContainer.className = 'tradingview-widget-container'\r\n      widgetContainer.style.height = '100%'\r\n      widgetContainer.style.width = '100%'\r\n\r\n      const widgetContent = document.createElement('div')\r\n      widgetContent.className = 'tradingview-widget-container__widget'\r\n\r\n      widgetContainer.appendChild(widgetContent)\r\n      container.appendChild(widgetContainer)\r\n\r\n      // Daily é…ç½®\r\n      const dailyConfig = {\r\n        \"lineWidth\": 2,\r\n        \"lineType\": 0,\r\n        \"chartType\": \"candlesticks\",\r\n        \"showVolume\": true,\r\n        \"fontColor\": \"#707070\",\r\n        \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n        \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n        \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n        \"backgroundColor\": \"#ffffff\",\r\n        \"widgetFontColor\": \"#0F0F0F\",\r\n        \"upColor\": \"#22ab94\",\r\n        \"downColor\": \"#f7525f\",\r\n        \"borderUpColor\": \"#22ab94\",\r\n        \"borderDownColor\": \"#f7525f\",\r\n        \"wickUpColor\": \"#22ab94\",\r\n        \"wickDownColor\": \"#f7525f\",\r\n        \"colorTheme\": this.colorTheme,\r\n        \"isTransparent\": this.isTransparent,\r\n        \"locale\": this.locale,\r\n        \"chartOnly\": false,\r\n        \"scalePosition\": \"right\",\r\n        \"scaleMode\": \"Normal\",\r\n        \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n        \"valuesTracking\": \"1\",\r\n        \"changeMode\": \"price-and-percent\",\r\n        \"symbols\": [[\"IG:NASDAQ|6M\"], [\"THINKMARKETS:US30|6M\"]],\r\n        \"dateRanges\": [\"6m|1D\"],\r\n        \"fontSize\": \"10\",\r\n        \"headerFontSize\": \"medium\",\r\n        \"autosize\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\",\r\n        \"noTimeScale\": false,\r\n        \"hideDateRanges\": false,\r\n        \"showMA\": true,\r\n        \"maLength\": \"5\",\r\n        \"maLineColor\": \"#2962FF\",\r\n        \"maLineWidth\": 1,\r\n        \"hideMarketStatus\": false,\r\n        \"hideSymbolLogo\": false\r\n      }\r\n\r\n      // å‰µå»ºè…³æœ¬\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js'\r\n      script.async = true\r\n      script.innerHTML = JSON.stringify(dailyConfig)\r\n\r\n      // è¨­å®šè¼‰å…¥äº‹ä»¶\r\n      script.onload = () => {\r\n        this.dailyLoaded = true\r\n        console.log('Daily Market Widget loaded successfully')\r\n      }\r\n\r\n      script.onerror = () => {\r\n        this.dailyError = true\r\n        console.error('Daily Market Widget failed to load')\r\n      }\r\n\r\n      // æ·»åŠ è…³æœ¬åˆ° widget å®¹å™¨\r\n      widgetContent.appendChild(script)\r\n\r\n      // è¨­å®šè¶…æ™‚ä¿è­·\r\n      setTimeout(() => {\r\n        if (!this.dailyLoaded && !this.dailyError) {\r\n          this.dailyLoaded = true\r\n        }\r\n      }, 8000)\r\n    },\r\n\r\n    createWeeklyWidget() {\r\n      const container = this.$refs.weeklyContainer\r\n      if (!container) return\r\n\r\n      // æ¸…é™¤ç¾æœ‰çš„ widget\r\n      container.innerHTML = ''\r\n\r\n      // å‰µå»º widget å®¹å™¨çµæ§‹\r\n      const widgetContainer = document.createElement('div')\r\n      widgetContainer.className = 'tradingview-widget-container'\r\n      widgetContainer.style.height = '100%'\r\n      widgetContainer.style.width = '100%'\r\n\r\n      const widgetContent = document.createElement('div')\r\n      widgetContent.className = 'tradingview-widget-container__widget'\r\n\r\n      widgetContainer.appendChild(widgetContent)\r\n      container.appendChild(widgetContainer)\r\n\r\n      // Weekly é…ç½® (ä¸»è¦å·®ç•°æ˜¯ dateRanges: [\"6m|1W\"])\r\n      const weeklyConfig = {\r\n        \"lineWidth\": 2,\r\n        \"lineType\": 0,\r\n        \"chartType\": \"candlesticks\",\r\n        \"showVolume\": true,\r\n        \"fontColor\": \"#707070\",\r\n        \"gridLineColor\": \"rgba(46, 46, 46, 0.06)\",\r\n        \"volumeUpColor\": \"rgba(34, 171, 148, 0.5)\",\r\n        \"volumeDownColor\": \"rgba(247, 82, 95, 0.5)\",\r\n        \"backgroundColor\": \"#ffffff\",\r\n        \"widgetFontColor\": \"#0F0F0F\",\r\n        \"upColor\": \"#22ab94\",\r\n        \"downColor\": \"#f7525f\",\r\n        \"borderUpColor\": \"#22ab94\",\r\n        \"borderDownColor\": \"#f7525f\",\r\n        \"wickUpColor\": \"#22ab94\",\r\n        \"wickDownColor\": \"#f7525f\",\r\n        \"colorTheme\": this.colorTheme,\r\n        \"isTransparent\": this.isTransparent,\r\n        \"locale\": this.locale,\r\n        \"chartOnly\": false,\r\n        \"scalePosition\": \"right\",\r\n        \"scaleMode\": \"Normal\",\r\n        \"fontFamily\": \"-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif\",\r\n        \"valuesTracking\": \"1\",\r\n        \"changeMode\": \"price-and-percent\",\r\n        \"symbols\": [[\"IG:NASDAQ|6M\"], [\"THINKMARKETS:US30|6M\"]],\r\n        \"dateRanges\": [\"6m|1W\"],\r\n        \"fontSize\": \"10\",\r\n        \"headerFontSize\": \"medium\",\r\n        \"autosize\": true,\r\n        \"width\": \"100%\",\r\n        \"height\": \"100%\",\r\n        \"noTimeScale\": false,\r\n        \"hideDateRanges\": false,\r\n        \"showMA\": true,\r\n        \"maLength\": \"5\",\r\n        \"maLineColor\": \"#2962FF\",\r\n        \"maLineWidth\": 1,\r\n        \"hideMarketStatus\": false,\r\n        \"hideSymbolLogo\": false\r\n      }\r\n\r\n      // å‰µå»ºè…³æœ¬\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js'\r\n      script.async = true\r\n      script.innerHTML = JSON.stringify(weeklyConfig)\r\n\r\n      // è¨­å®šè¼‰å…¥äº‹ä»¶\r\n      script.onload = () => {\r\n        this.weeklyLoaded = true\r\n        console.log('Weekly Market Widget loaded successfully')\r\n      }\r\n\r\n      script.onerror = () => {\r\n        this.weeklyError = true\r\n        console.error('Weekly Market Widget failed to load')\r\n      }\r\n\r\n      // æ·»åŠ è…³æœ¬åˆ° widget å®¹å™¨\r\n      widgetContent.appendChild(script)\r\n\r\n      // è¨­å®šè¶…æ™‚ä¿è­·\r\n      setTimeout(() => {\r\n        if (!this.weeklyLoaded && !this.weeklyError) {\r\n          this.weeklyLoaded = true\r\n        }\r\n      }, 8000)\r\n    },\r\n\r\n    async retryDaily() {\r\n      this.dailyLoaded = false\r\n      this.dailyError = false\r\n      await this.$nextTick()\r\n      this.createDailyWidget()\r\n    },\r\n\r\n    async retryWeekly() {\r\n      this.weeklyLoaded = false\r\n      this.weeklyError = false\r\n      await this.$nextTick()\r\n      this.createWeeklyWidget()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stock-market-insight-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.widget-header h3 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.insight-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 1.5rem;\r\n  align-items: start;\r\n}\r\n\r\n.insight-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.section-header {\r\n  padding-bottom: 0.5rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.section-header h4 {\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  color: #555;\r\n  margin: 0;\r\n}\r\n\r\n.daily-widget,\r\n.weekly-widget {\r\n  height: 600px;\r\n  min-height: 600px;\r\n  width: 100%;\r\n  position: relative;\r\n  overflow: hidden;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 6px;\r\n  background: #fafafa;\r\n}\r\n\r\n/* Loading ç‹€æ…‹ */\r\n.widget-loading {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  height: 100%;\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #e9ecef;\r\n  border-top: 2px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n/* Error ç‹€æ…‹ */\r\n.widget-error {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  height: 100%;\r\n  background: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  color: #721c24;\r\n  border-radius: 4px;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 0.25rem 0.75rem;\r\n  background: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #c82333;\r\n}\r\n\r\n/* TradingView Widget æ¨£å¼è¦†è“‹ */\r\n:global(.stock-market-insight-container .tradingview-widget-container) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  overflow: hidden !important;\r\n  position: relative !important;\r\n}\r\n\r\n:global(.stock-market-insight-container .tradingview-widget-container__widget) {\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  overflow: hidden !important;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 1024px) {\r\n  .daily-widget,\r\n  .weekly-widget {\r\n    height: 550px;\r\n    min-height: 550px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .widget-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .daily-widget,\r\n  .weekly-widget {\r\n    height: 500px;\r\n    min-height: 500px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .stock-market-insight-container {\r\n    padding: 0.75rem;\r\n    margin: 0 -0.25rem 2rem -0.25rem;\r\n  }\r\n  \r\n  .insight-grid {\r\n    gap: 0.75rem;\r\n  }\r\n  \r\n  .daily-widget,\r\n  .weekly-widget {\r\n    height: 450px;\r\n    min-height: 450px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-market-insight-skeleton\">\r\n    <!-- Page Header Skeleton -->\r\n    <div class=\"skeleton-page-header\">\r\n      <div class=\"skeleton-page-title\"></div>\r\n      <div class=\"skeleton-page-description\"></div>\r\n    </div>\r\n\r\n    <!-- Stock Market Insight Widget Skeleton -->\r\n    <div class=\"skeleton-widget-container large\">\r\n      <div class=\"skeleton-insight-grid\">\r\n        <!-- Daily Insight Section -->\r\n        <div class=\"skeleton-insight-section\">\r\n          <div class=\"skeleton-section-header\">\r\n            <div class=\"skeleton-section-title\"></div>\r\n          </div>\r\n          <div class=\"skeleton-chart-area\">\r\n            <div class=\"skeleton-chart\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Weekly Insight Section -->\r\n        <div class=\"skeleton-insight-section\">\r\n          <div class=\"skeleton-section-header\">\r\n            <div class=\"skeleton-section-title\"></div>\r\n          </div>\r\n          <div class=\"skeleton-chart-area\">\r\n            <div class=\"skeleton-chart\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Configuration Info Skeleton -->\r\n    <div class=\"skeleton-config-info\">\r\n      <div class=\"skeleton-config-title\"></div>\r\n      <div class=\"skeleton-config-grid\">\r\n        <div class=\"skeleton-config-section\">\r\n          <div class=\"skeleton-config-section-title\"></div>\r\n          <div class=\"skeleton-config-list\">\r\n            <div class=\"skeleton-config-item\" v-for=\"i in 5\" :key=\"i\">\r\n              <div class=\"skeleton-config-label\"></div>\r\n              <div class=\"skeleton-config-value\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"skeleton-config-section\">\r\n          <div class=\"skeleton-config-section-title\"></div>\r\n          <div class=\"skeleton-config-list\">\r\n            <div class=\"skeleton-config-item\" v-for=\"i in 5\" :key=\"i\">\r\n              <div class=\"skeleton-config-label\"></div>\r\n              <div class=\"skeleton-config-value\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'StockMarketInsightSkeleton'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* åŸºç¤éª¨æ¶å‹•ç•« */\r\n@keyframes shimmer {\r\n  0% {\r\n    background-position: -200px 0;\r\n  }\r\n  100% {\r\n    background-position: calc(200px + 100%) 0;\r\n  }\r\n}\r\n\r\n.stock-market-insight-skeleton {\r\n  padding: 0;\r\n  overflow-x: hidden;\r\n  max-width: 100%;\r\n}\r\n\r\n/* é€šç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-base {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Page Header éª¨æ¶ */\r\n.skeleton-page-header {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-page-title {\r\n  @extend .skeleton-base;\r\n  width: 320px;\r\n  height: 32px;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-page-description {\r\n  @extend .skeleton-base;\r\n  width: 450px;\r\n  height: 16px;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n/* Widget å®¹å™¨éª¨æ¶ */\r\n.skeleton-widget-container {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-bottom: 2rem;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.skeleton-widget-container.large {\r\n  min-height: 1300px;\r\n}\r\n\r\n/* Market Insight Grid éª¨æ¶ */\r\n.skeleton-insight-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 1.5rem;\r\n  align-items: start;\r\n}\r\n\r\n.skeleton-insight-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.skeleton-insight-section:nth-child(2) {\r\n  border-top: 1px solid #f0f0f0;\r\n  padding-top: 1.5rem;\r\n}\r\n\r\n.skeleton-section-header {\r\n  padding-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-section-title {\r\n  @extend .skeleton-base;\r\n  width: 220px;\r\n  height: 18px;\r\n}\r\n\r\n.skeleton-chart-area {\r\n  min-height: 600px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.skeleton-chart {\r\n  @extend .skeleton-base;\r\n  width: 100%;\r\n  height: 550px;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* Configuration Info éª¨æ¶ */\r\n.skeleton-config-info {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.skeleton-config-title {\r\n  @extend .skeleton-base;\r\n  width: 200px;\r\n  height: 20px;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.skeleton-config-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.skeleton-config-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n}\r\n\r\n.skeleton-config-section-title {\r\n  @extend .skeleton-base;\r\n  width: 160px;\r\n  height: 18px;\r\n}\r\n\r\n.skeleton-config-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.skeleton-config-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.skeleton-config-label {\r\n  @extend .skeleton-base;\r\n  width: 100px;\r\n  height: 14px;\r\n}\r\n\r\n.skeleton-config-value {\r\n  @extend .skeleton-base;\r\n  width: 150px;\r\n  height: 14px;\r\n}\r\n\r\n/* å¯¦éš›æ‡‰ç”¨éª¨æ¶æ¨£å¼ */\r\n.skeleton-page-title,\r\n.skeleton-page-description,\r\n.skeleton-section-title,\r\n.skeleton-chart,\r\n.skeleton-config-title,\r\n.skeleton-config-section-title,\r\n.skeleton-config-label,\r\n.skeleton-config-value {\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200px 100%;\r\n  animation: shimmer 1.5s infinite linear;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.75rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n  \r\n  .skeleton-widget-container.large {\r\n    min-height: 1000px;\r\n  }\r\n  \r\n  .skeleton-chart-area {\r\n    min-height: 450px;\r\n  }\r\n  \r\n  .skeleton-chart {\r\n    height: 400px;\r\n  }\r\n  \r\n  .skeleton-config-info {\r\n    padding: 0.75rem;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .skeleton-widget-container {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 1rem -0.25rem;\r\n  }\r\n  \r\n  .skeleton-widget-container.large {\r\n    min-height: 800px;\r\n  }\r\n  \r\n  .skeleton-chart-area {\r\n    min-height: 350px;\r\n  }\r\n  \r\n  .skeleton-chart {\r\n    height: 300px;\r\n  }\r\n  \r\n  .skeleton-config-info {\r\n    padding: 0.5rem;\r\n    margin: 0 -0.25rem 2rem -0.25rem;\r\n  }\r\n}\r\n\r\n/* å‹•ç•«å»¶é²æ•ˆæœ */\r\n.skeleton-insight-section:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-insight-section:nth-child(2) { animation-delay: 0.2s; }\r\n\r\n.skeleton-config-section:nth-child(1) { animation-delay: 0.1s; }\r\n.skeleton-config-section:nth-child(2) { animation-delay: 0.2s; }\r\n\r\n.skeleton-config-item:nth-child(odd) { animation-delay: 0.1s; }\r\n.skeleton-config-item:nth-child(even) { animation-delay: 0.2s; }\r\n\r\n/* æ·¡å…¥æ•ˆæœ */\r\n.stock-market-insight-skeleton {\r\n  animation: fadeIn 0.3s ease-in;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"stock-market-insight-test\">\r\n    <h2>Stock Market Insight Test</h2>\r\n    <p class=\"text-muted mb-3\">Testing Stock Market Insight component with Daily and Weekly views</p>\r\n\r\n    <!-- è¼‰å…¥ç‹€æ…‹é¡¯ç¤ºéª¨æ¶å± -->\r\n    <div v-if=\"loading\" class=\"loading-with-skeleton\">\r\n      <StockMarketInsightSkeleton />\r\n    </div>\r\n\r\n    <!-- éŒ¯èª¤ç‹€æ…‹ -->\r\n    <div v-else-if=\"error\" class=\"error\">\r\n      <p class=\"text-danger\">{{ error }}</p>\r\n      <button @click=\"refresh\" class=\"btn btn-secondary\">Retry</button>\r\n    </div>\r\n\r\n    <!-- æ­£å¸¸å…§å®¹ -->\r\n    <div v-else>\r\n      <!-- Stock Market Insight Widget -->\r\n      <StockMarketInsight \r\n        color-theme=\"light\"\r\n        :is-transparent=\"true\"\r\n        locale=\"en\"\r\n        height=\"1300px\"\r\n      />\r\n\r\n      <!-- Configuration Info -->\r\n      <div class=\"config-info\">\r\n        <h3>Widget Configuration</h3>\r\n        <div class=\"config-grid\">\r\n          <div class=\"config-section\">\r\n            <h4>Daily Configuration</h4>\r\n            <ul>\r\n              <li><strong>Symbols:</strong> NASDAQ, US30</li>\r\n              <li><strong>Date Range:</strong> 6 months, 1 Day intervals</li>\r\n              <li><strong>Chart Type:</strong> Candlesticks</li>\r\n              <li><strong>Moving Average:</strong> 5-period</li>\r\n              <li><strong>Volume:</strong> Enabled</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"config-section\">\r\n            <h4>Weekly Configuration</h4>\r\n            <ul>\r\n              <li><strong>Symbols:</strong> NASDAQ, US30</li>\r\n              <li><strong>Date Range:</strong> 6 months, 1 Week intervals</li>\r\n              <li><strong>Chart Type:</strong> Candlesticks</li>\r\n              <li><strong>Moving Average:</strong> 5-period</li>\r\n              <li><strong>Volume:</strong> Enabled</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StockMarketInsight from '@/components/StockMarketInsight.vue'\r\nimport StockMarketInsightSkeleton from '@/components/StockMarketInsightSkeleton.vue'\r\n\r\nexport default {\r\n  name: 'StockMarketInsightTest',\r\n  components: {\r\n    StockMarketInsight,\r\n    StockMarketInsightSkeleton\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      error: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initializePage()\r\n  },\r\n  methods: {\r\n    async initializePage() {\r\n      try {\r\n        // æ¨¡æ“¬è¼‰å…¥æ™‚é–“\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        this.loading = false\r\n      } catch (err) {\r\n        this.error = String(err)\r\n        this.loading = false\r\n      }\r\n    },\r\n    async refresh() {\r\n      this.loading = true\r\n      this.error = null\r\n      await this.initializePage()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.stock-market-insight-test {\r\n  padding: 0;\r\n}\r\n\r\n.mb-3 {\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.text-muted {\r\n  color: #6c757d;\r\n}\r\n\r\n.loading-with-skeleton {\r\n  /* éª¨æ¶å±è¼‰å…¥å®¹å™¨ */\r\n}\r\n\r\n.error {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 8px;\r\n  margin: 1rem 0;\r\n}\r\n\r\n.text-danger {\r\n  color: #dc3545;\r\n}\r\n\r\n.btn {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.btn-secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background: #545b62;\r\n}\r\n\r\n.config-info {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.config-info h3 {\r\n  margin-bottom: 1rem;\r\n  color: #333;\r\n}\r\n\r\n.config-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.config-section h4 {\r\n  margin-bottom: 0.75rem;\r\n  color: #555;\r\n  font-size: 1rem;\r\n}\r\n\r\n.config-section ul {\r\n  margin: 0;\r\n  padding-left: 1.5rem;\r\n}\r\n\r\n.config-section li {\r\n  margin-bottom: 0.5rem;\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n}\r\n</style>","<template>\r\n  <div class=\"yahoo-finance-test\">\r\n    <div class=\"test-header\">\r\n      <h2>Yahoo Finance API æ¸¬è©¦</h2>\r\n      <p>æ¸¬è©¦ Yahoo Finance API çš„æŠ€è¡“æŒ‡æ¨™æ•¸æ“šç²å–åŠŸèƒ½</p>\r\n    </div>\r\n\r\n    <div class=\"test-controls\">\r\n      <div class=\"symbol-input\">\r\n        <label for=\"symbol\">è‚¡ç¥¨ä»£è™Ÿ:</label>\r\n        <input \r\n          id=\"symbol\"\r\n          v-model=\"testSymbol\" \r\n          type=\"text\" \r\n          placeholder=\"ä¾‹å¦‚: AAPL, TSLA, ONDS\"\r\n          @keyup.enter=\"testSymbol && loadTestData()\"\r\n        />\r\n        <button \r\n          @click=\"loadTestData()\" \r\n          :disabled=\"!testSymbol || loading\"\r\n          class=\"test-btn\"\r\n        >\r\n          {{ loading ? 'è¼‰å…¥ä¸­...' : 'æ¸¬è©¦' }}\r\n        </button>\r\n      </div>\r\n      \r\n      <div class=\"preset-symbols\">\r\n        <span>å¿«é€Ÿæ¸¬è©¦:</span>\r\n        <button \r\n          v-for=\"symbol in presetSymbols\" \r\n          :key=\"symbol\"\r\n          @click=\"testSymbol = symbol; loadTestData()\"\r\n          :disabled=\"loading\"\r\n          class=\"preset-btn\"\r\n        >\r\n          {{ symbol }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"loading-section\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <p>æ­£åœ¨å¾ Yahoo Finance ç²å– {{ testSymbol }} çš„æŠ€è¡“æŒ‡æ¨™æ•¸æ“š...</p>\r\n    </div>\r\n\r\n    <div v-if=\"error\" class=\"error-section\">\r\n      <h3>âŒ éŒ¯èª¤</h3>\r\n      <p>{{ error }}</p>\r\n    </div>\r\n\r\n    <div v-if=\"testData && !loading\" class=\"results-section\">\r\n      <h3>âœ… {{ testSymbol }} æŠ€è¡“æŒ‡æ¨™çµæœ</h3>\r\n      \r\n      <div class=\"indicators-grid\">\r\n        <!-- ç§»å‹•å¹³å‡ç·šçµ„ -->\r\n        <div class=\"indicator-section\">\r\n          <h3>ç§»å‹•å¹³å‡ç·š (Moving Averages)</h3>\r\n          <div class=\"ma-grid\">\r\n            <!-- MA5/SMA5 -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>MA5 / SMA5</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.ma5?.signal)\">\r\n                  {{ testData.ma5?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.ma5?.signal)\">\r\n                  {{ testData.ma5?.signal || 'N/A' }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- MA10/SMA10 -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>MA10 / SMA10</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.ma10?.signal)\">\r\n                  {{ testData.ma10?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.ma10?.signal)\">\r\n                  {{ testData.ma10?.signal || 'N/A' }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- MA30/SMA30 -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>MA30 / SMA30</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.ma30?.signal)\">\r\n                  {{ testData.ma30?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.ma30?.signal)\">\r\n                  {{ testData.ma30?.signal || 'N/A' }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SMA50 -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>SMA50</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.sma50?.signal)\">\r\n                  {{ testData.sma50?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.sma50?.signal)\">\r\n                  {{ testData.sma50?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>ç•¶å‰åƒ¹æ ¼: ${{ testData.sma50?.currentPrice || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ä¸€ç›®å‡è¡¡è¡¨çµ„ -->\r\n        <div class=\"indicator-section\">\r\n          <h3>ä¸€ç›®å‡è¡¡è¡¨ (Ichimoku Cloud)</h3>\r\n          <div class=\"ichimoku-grid\">\r\n            <!-- è½‰æ›ç·š -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>è½‰æ›ç·š (9)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.ichimokuConversionLine?.signal)\">\r\n                  {{ testData.ichimokuConversionLine?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.ichimokuConversionLine?.signal)\">\r\n                  {{ testData.ichimokuConversionLine?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>æœ€é«˜: {{ testData.ichimokuConversionLine?.highestHigh || 'N/A' }}</small>\r\n                  <small>æœ€ä½: {{ testData.ichimokuConversionLine?.lowestLow || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- åŸºæº–ç·š -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>åŸºæº–ç·š (26)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.ichimokuBaseLine?.signal)\">\r\n                  {{ testData.ichimokuBaseLine?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.ichimokuBaseLine?.signal)\">\r\n                  {{ testData.ichimokuBaseLine?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>æœ€é«˜: {{ testData.ichimokuBaseLine?.highestHigh || 'N/A' }}</small>\r\n                  <small>æœ€ä½: {{ testData.ichimokuBaseLine?.lowestLow || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- é²è¡Œç·š -->\r\n            <div class=\"indicator-card compact\">\r\n              <h4>é²è¡Œç·š (26)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.ichimokuLaggingSpan?.signal)\">\r\n                  {{ testData.ichimokuLaggingSpan?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.ichimokuLaggingSpan?.signal)\">\r\n                  {{ testData.ichimokuLaggingSpan?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>åƒè€ƒåƒ¹: {{ testData.ichimokuLaggingSpan?.laggingReference || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- æˆäº¤é‡åŠ æ¬Šç§»å‹•å¹³å‡ç·š -->\r\n        <div class=\"indicator-section\">\r\n          <h3>æˆäº¤é‡åŠ æ¬Šç§»å‹•å¹³å‡ç·š (VWMA)</h3>\r\n          <div class=\"vwma-grid\">\r\n            <div class=\"indicator-card\">\r\n              <h4>VWMA (20)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.vwma20?.signal)\">\r\n                  {{ testData.vwma20?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.vwma20?.signal)\">\r\n                  {{ testData.vwma20?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>ç•¶å‰åƒ¹æ ¼: ${{ testData.vwma20?.currentPrice || 'N/A' }}</small>\r\n                  <small>ç¸½æˆäº¤é‡: {{ testData.vwma20?.totalVolume || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- æŠ€è¡“æŒ‡æ¨™çµ„ -->\r\n        <div class=\"indicator-section\">\r\n          <h3>æŠ€è¡“æŒ‡æ¨™ (Technical Indicators)</h3>\r\n          <div class=\"technical-grid\">\r\n            <!-- RSI(14) -->\r\n            <div class=\"indicator-card\">\r\n              <h4>Relative Strength Index (14)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.rsi14?.signal)\">\r\n                  {{ testData.rsi14?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.rsi14?.signal)\">\r\n                  {{ testData.rsi14?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"rsi-bar\" v-if=\"testData.rsi14?.value\">\r\n                  <div class=\"rsi-fill\" :style=\"{ width: testData.rsi14.value + '%' }\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- ADX(14) -->\r\n            <div class=\"indicator-card\">\r\n              <h4>Average Directional Index (14)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.adx14?.signal)\">\r\n                  {{ testData.adx14?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.adx14?.signal)\">\r\n                  {{ testData.adx14?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>+DI: {{ testData.adx14?.plusDI || 'N/A' }}</small>\r\n                  <small>-DI: {{ testData.adx14?.minusDI || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- MACD -->\r\n            <div class=\"indicator-card\">\r\n              <h4>MACD Level (12, 26)</h4>\r\n              <div class=\"indicator-details\">\r\n                <div class=\"main-value\" :class=\"getSignalClass(testData.macd?.signal)\">\r\n                  {{ testData.macd?.value || 'N/A' }}\r\n                </div>\r\n                <div class=\"signal-badge\" :class=\"getSignalClass(testData.macd?.signal)\">\r\n                  {{ testData.macd?.signal || 'N/A' }}\r\n                </div>\r\n                <div class=\"additional-info\">\r\n                  <small>ä¿¡è™Ÿç·š: {{ testData.macd?.signalLine || 'N/A' }}</small>\r\n                  <small>æŸ±ç‹€åœ–: {{ testData.macd?.histogram || 'N/A' }}</small>\r\n                  <small>EMA12: {{ testData.macd?.ema12 || 'N/A' }}</small>\r\n                  <small>EMA26: {{ testData.macd?.ema26 || 'N/A' }}</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"metadata\">\r\n        <p><strong>æœ€å¾Œæ›´æ–°:</strong> {{ formatDate(testData.lastUpdated) }}</p>\r\n        <p><strong>æ•¸æ“šä¾†æº:</strong> {{ testData.source || 'Yahoo Finance' }}</p>\r\n        <p v-if=\"testData.proxy\"><strong>ä»£ç†æœå‹™:</strong> {{ testData.proxy }}</p>\r\n        <p v-if=\"testData.dataPoints\"><strong>æ•¸æ“šé»æ•¸é‡:</strong> {{ testData.dataPoints }}</p>\r\n        <p v-if=\"testData.error\" class=\"error-text\"><strong>æ³¨æ„:</strong> {{ testData.error }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"cache-section\">\r\n      <h3>ç·©å­˜ç‹€æ…‹</h3>\r\n      <button @click=\"loadCacheStatus()\" class=\"cache-btn\">æª¢æŸ¥ç·©å­˜</button>\r\n      <button @click=\"clearCache()\" class=\"cache-btn\">æ¸…é™¤æ‰€æœ‰ç·©å­˜</button>\r\n      \r\n      <div v-if=\"cacheStatus\" class=\"cache-info\">\r\n        <h4>API è«‹æ±‚ç·©å­˜ (5åˆ†é˜)</h4>\r\n        <pre>{{ JSON.stringify(cacheStatus.apiCache, null, 2) }}</pre>\r\n        \r\n        <h4>æ¯æ—¥æŠ€è¡“æŒ‡æ¨™ç·©å­˜ (24å°æ™‚)</h4>\r\n        <pre>{{ JSON.stringify(cacheStatus.dailyCache, null, 2) }}</pre>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport yahooFinanceAPI from '../utils/yahooFinanceApi.js'\r\n\r\nexport default {\r\n  name: 'YahooFinanceTest',\r\n  data() {\r\n    return {\r\n      testSymbol: 'AAPL',\r\n      loading: false,\r\n      error: null,\r\n      testData: null,\r\n      cacheStatus: null,\r\n      presetSymbols: ['AAPL', 'TSLA', 'MSFT', 'GOOGL', 'ONDS', 'RDW']\r\n    }\r\n  },\r\n  methods: {\r\n    async loadTestData() {\r\n      if (!this.testSymbol) return;\r\n      \r\n      this.loading = true;\r\n      this.error = null;\r\n      this.testData = null;\r\n      \r\n      try {\r\n        console.log(`Testing Yahoo Finance API for ${this.testSymbol}...`);\r\n        this.testData = await yahooFinanceAPI.getTechnicalIndicators(this.testSymbol);\r\n        \r\n        if (this.testData.error) {\r\n          this.error = this.testData.error;\r\n        }\r\n        \r\n      } catch (err) {\r\n        this.error = err.message;\r\n        console.error('Test failed:', err);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    getSignalClass(signal) {\r\n      if (!signal) return 'neutral';\r\n      \r\n      const bullishSignals = ['BUY', 'OVERSOLD', 'STRONG_TREND'];\r\n      const bearishSignals = ['SELL', 'OVERBOUGHT'];\r\n      const neutralSignals = ['WEAK_TREND'];\r\n      \r\n      if (bullishSignals.includes(signal)) return 'bullish';\r\n      if (bearishSignals.includes(signal)) return 'bearish';\r\n      return 'neutral';\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      return new Date(dateString).toLocaleString('zh-TW');\r\n    },\r\n    \r\n    async loadCacheStatus() {\r\n      this.cacheStatus = yahooFinanceAPI.getCacheStats();\r\n    },\r\n    \r\n    clearCache() {\r\n      yahooFinanceAPI.clearCache();\r\n      yahooFinanceAPI.clearDailyCache();\r\n      this.cacheStatus = null;\r\n      alert('æ‰€æœ‰ç·©å­˜å·²æ¸…é™¤ (API ç·©å­˜ + æ¯æ—¥ç·©å­˜)');\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    // è‡ªå‹•è¼‰å…¥ AAPL æ•¸æ“šä½œç‚ºç¤ºä¾‹\r\n    this.loadTestData();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.yahoo-finance-test {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.test-header {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.test-header h2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.test-controls {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.symbol-input {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.symbol-input label {\r\n  font-weight: 600;\r\n  min-width: 80px;\r\n}\r\n\r\n.symbol-input input {\r\n  flex: 1;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.test-btn, .preset-btn, .cache-btn {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.test-btn {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.test-btn:hover:not(:disabled) {\r\n  background: #0056b3;\r\n}\r\n\r\n.test-btn:disabled {\r\n  background: #6c757d;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.preset-symbols {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.preset-btn {\r\n  background: #e9ecef;\r\n  color: #495057;\r\n  border: 1px solid #ced4da;\r\n}\r\n\r\n.preset-btn:hover:not(:disabled) {\r\n  background: #dee2e6;\r\n}\r\n\r\n.loading-section {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid #e9ecef;\r\n  border-top: 4px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error-section {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.results-section {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.indicators-grid {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n  margin: 1.5rem 0;\r\n}\r\n\r\n.indicator-section {\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.indicator-section h3 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n  font-size: 1.1rem;\r\n  border-bottom: 2px solid #dee2e6;\r\n  padding-bottom: 0.5rem;\r\n}\r\n\r\n.ma-grid, .ichimoku-grid, .technical-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.vwma-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  max-width: 400px;\r\n}\r\n\r\n.indicator-card {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.indicator-card.compact {\r\n  padding: 1rem;\r\n}\r\n\r\n.indicator-card h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.main-value {\r\n  font-size: 1.3rem;\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.signal-badge {\r\n  display: inline-block;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 20px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.bullish {\r\n  color: #155724;\r\n  background: #d4edda;\r\n}\r\n\r\n.bearish {\r\n  color: #721c24;\r\n  background: #f8d7da;\r\n}\r\n\r\n.neutral {\r\n  color: #495057;\r\n  background: #e9ecef;\r\n}\r\n\r\n.additional-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.additional-info small {\r\n  color: #6c757d;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.rsi-bar {\r\n  width: 100%;\r\n  height: 8px;\r\n  background: #e9ecef;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.rsi-fill {\r\n  height: 100%;\r\n  background: linear-gradient(90deg, #28a745 0%, #ffc107 50%, #dc3545 100%);\r\n  transition: width 0.3s ease;\r\n}\r\n\r\n.metadata {\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.metadata p {\r\n  margin: 0.25rem 0;\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.error-text {\r\n  color: #dc3545 !important;\r\n  font-weight: 600;\r\n}\r\n\r\n.cache-section {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n}\r\n\r\n.cache-section h3 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n}\r\n\r\n.cache-btn {\r\n  background: #6c757d;\r\n  color: white;\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.cache-btn:hover {\r\n  background: #545b62;\r\n}\r\n\r\n.cache-info {\r\n  margin-top: 1rem;\r\n  background: white;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.cache-info pre {\r\n  margin: 0;\r\n  font-size: 0.8rem;\r\n  color: #495057;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .yahoo-finance-test {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .symbol-input {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .preset-symbols {\r\n    justify-content: center;\r\n  }\r\n  \r\n  .ma-grid, .ichimoku-grid, .technical-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"validation-page\">\r\n    <div class=\"validation-header\">\r\n      <h2>æŠ€è¡“æŒ‡æ¨™é©—è­‰</h2>\r\n      <p>å°æ¯”æˆ‘å€‘çš„è¨ˆç®—çµæœèˆ‡ TradingView çš„æ•¸æ“š</p>\r\n    </div>\r\n\r\n    <div class=\"validation-controls\">\r\n      <div class=\"symbol-input\">\r\n        <label>è‚¡ç¥¨ä»£è™Ÿ:</label>\r\n        <input \r\n          v-model=\"testSymbol\" \r\n          type=\"text\" \r\n          placeholder=\"ä¾‹å¦‚: AAPL\"\r\n          @keyup.enter=\"loadData()\"\r\n        />\r\n        <button @click=\"loadData()\" :disabled=\"loading\">\r\n          {{ loading ? 'è¼‰å…¥ä¸­...' : 'è¼‰å…¥æ•¸æ“š' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"loading-section\">\r\n      <div class=\"loading-spinner\"></div>\r\n      <p>æ­£åœ¨è¼‰å…¥æ•¸æ“š...</p>\r\n    </div>\r\n\r\n    <div v-if=\"ourData && !loading\" class=\"comparison-section\">\r\n      <h3>{{ testSymbol }} æŠ€è¡“æŒ‡æ¨™å°æ¯”</h3>\r\n      \r\n      <div class=\"comparison-grid\">\r\n        <!-- æˆ‘å€‘çš„è¨ˆç®—çµæœ -->\r\n        <div class=\"our-results\">\r\n          <h4>æˆ‘å€‘çš„è¨ˆç®—çµæœ</h4>\r\n          <div class=\"indicator-list\">\r\n            <div class=\"indicator-item\">\r\n              <strong>SMA(50):</strong> {{ ourData.sma50?.value || 'N/A' }}\r\n              <span class=\"signal\" :class=\"getSignalClass(ourData.sma50?.signal)\">\r\n                {{ ourData.sma50?.signal }}\r\n              </span>\r\n            </div>\r\n            <div class=\"indicator-item\">\r\n              <strong>RSI(14):</strong> {{ ourData.rsi14?.value || 'N/A' }}\r\n              <span class=\"signal\" :class=\"getSignalClass(ourData.rsi14?.signal)\">\r\n                {{ ourData.rsi14?.signal }}\r\n              </span>\r\n            </div>\r\n            <div class=\"indicator-item\">\r\n              <strong>MACD:</strong> {{ ourData.macd?.value || 'N/A' }}\r\n              <span class=\"signal\" :class=\"getSignalClass(ourData.macd?.signal)\">\r\n                {{ ourData.macd?.signal }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"debug-info\">\r\n            <h5>èª¿è©¦ä¿¡æ¯</h5>\r\n            <p><strong>æ•¸æ“šé»:</strong> {{ ourData.dataPoints }}</p>\r\n            <p><strong>åƒ¹æ ¼ç¯„åœ:</strong> ${{ ourData.priceRange?.min }} - ${{ ourData.priceRange?.max }}</p>\r\n            <p><strong>æœ€æ–°åƒ¹æ ¼:</strong> ${{ ourData.priceRange?.latest }}</p>\r\n            <p><strong>ç•¶å‰åƒ¹æ ¼:</strong> ${{ ourData.sma50?.currentPrice }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- TradingView Widget -->\r\n        <div class=\"tradingview-results\">\r\n          <h4>TradingView æŠ€è¡“åˆ†æ</h4>\r\n          <div class=\"tradingview-widget-container\">\r\n            <div class=\"tradingview-widget\" :id=\"`tradingview-widget-${testSymbol}`\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- è©³ç´°å°æ¯” -->\r\n      <div class=\"detailed-comparison\">\r\n        <h4>è©³ç´°æ•¸æ“šå°æ¯”</h4>\r\n        <div class=\"comparison-table\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>æŒ‡æ¨™</th>\r\n                <th>æˆ‘å€‘çš„çµæœ</th>\r\n                <th>TradingView</th>\r\n                <th>å·®ç•°</th>\r\n                <th>ç‹€æ…‹</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>SMA(50)</td>\r\n                <td>${{ ourData.sma50?.value || 'N/A' }}</td>\r\n                <td>è«‹æŸ¥çœ‹å³å´ Widget</td>\r\n                <td>-</td>\r\n                <td>{{ ourData.sma50?.signal }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>RSI(14)</td>\r\n                <td>{{ ourData.rsi14?.value || 'N/A' }}</td>\r\n                <td>è«‹æŸ¥çœ‹å³å´ Widget</td>\r\n                <td>-</td>\r\n                <td>{{ ourData.rsi14?.signal }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>MACD</td>\r\n                <td>{{ ourData.macd?.value || 'N/A' }}</td>\r\n                <td>è«‹æŸ¥çœ‹å³å´ Widget</td>\r\n                <td>-</td>\r\n                <td>{{ ourData.macd?.signal }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport yahooFinanceAPI from '../utils/yahooFinanceApi.js'\r\n\r\nexport default {\r\n  name: 'TechnicalIndicatorsValidation',\r\n  data() {\r\n    return {\r\n      testSymbol: 'AAPL',\r\n      loading: false,\r\n      ourData: null,\r\n      tradingViewWidget: null\r\n    }\r\n  },\r\n  methods: {\r\n    async loadData() {\r\n      if (!this.testSymbol) return;\r\n      \r\n      this.loading = true;\r\n      this.ourData = null;\r\n      \r\n      try {\r\n        // è¨­ç½®ç‚º API æ¨¡å¼\r\n        yahooFinanceAPI.setMockMode(false);\r\n        \r\n        // ç²å–æˆ‘å€‘çš„è¨ˆç®—çµæœ\r\n        this.ourData = await yahooFinanceAPI.getTechnicalIndicators(this.testSymbol);\r\n        \r\n        // è¼‰å…¥ TradingView Widget\r\n        this.loadTradingViewWidget();\r\n        \r\n      } catch (error) {\r\n        console.error('Failed to load data:', error);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    loadTradingViewWidget() {\r\n      // æ¸…é™¤ç¾æœ‰çš„ widget\r\n      if (this.tradingViewWidget) {\r\n        const container = document.getElementById(`tradingview-widget-${this.testSymbol}`);\r\n        if (container) {\r\n          container.innerHTML = '';\r\n        }\r\n      }\r\n      \r\n      // å‰µå»ºæ–°çš„ TradingView widget\r\n      setTimeout(() => {\r\n        const script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js';\r\n        script.async = true;\r\n        script.innerHTML = JSON.stringify({\r\n          \"interval\": \"1D\",\r\n          \"width\": \"100%\",\r\n          \"height\": \"400\",\r\n          \"isTransparent\": false,\r\n          \"symbol\": `NASDAQ:${this.testSymbol}`,\r\n          \"showIntervalTabs\": true,\r\n          \"locale\": \"en\",\r\n          \"colorTheme\": \"light\"\r\n        });\r\n        \r\n        const container = document.getElementById(`tradingview-widget-${this.testSymbol}`);\r\n        if (container) {\r\n          container.appendChild(script);\r\n        }\r\n      }, 100);\r\n    },\r\n    \r\n    getSignalClass(signal) {\r\n      if (!signal) return 'neutral';\r\n      \r\n      const bullishSignals = ['BUY', 'OVERSOLD'];\r\n      const bearishSignals = ['SELL', 'OVERBOUGHT'];\r\n      \r\n      if (bullishSignals.includes(signal)) return 'bullish';\r\n      if (bearishSignals.includes(signal)) return 'bearish';\r\n      return 'neutral';\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    this.loadData();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.validation-page {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.validation-header {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.validation-header h2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.validation-controls {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.symbol-input {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.symbol-input label {\r\n  font-weight: 600;\r\n  min-width: 100px;\r\n}\r\n\r\n.symbol-input input {\r\n  flex: 1;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  max-width: 200px;\r\n}\r\n\r\n.symbol-input button {\r\n  padding: 0.5rem 1rem;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.symbol-input button:hover:not(:disabled) {\r\n  background: #0056b3;\r\n}\r\n\r\n.symbol-input button:disabled {\r\n  background: #6c757d;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.loading-section {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid #e9ecef;\r\n  border-top: 4px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.comparison-section {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n}\r\n\r\n.comparison-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 2rem;\r\n  margin: 2rem 0;\r\n}\r\n\r\n.our-results, .tradingview-results {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n}\r\n\r\n.our-results h4, .tradingview-results h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n}\r\n\r\n.indicator-list {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.indicator-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem 0;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.indicator-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.signal {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.signal.bullish {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.signal.bearish {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.signal.neutral {\r\n  background: #e9ecef;\r\n  color: #495057;\r\n}\r\n\r\n.debug-info {\r\n  background: white;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.debug-info h5 {\r\n  margin: 0 0 0.5rem 0;\r\n  color: #495057;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.debug-info p {\r\n  margin: 0.25rem 0;\r\n  font-size: 0.8rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.tradingview-widget-container {\r\n  height: 400px;\r\n  background: white;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.detailed-comparison {\r\n  margin-top: 2rem;\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n}\r\n\r\n.detailed-comparison h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n}\r\n\r\n.comparison-table {\r\n  overflow-x: auto;\r\n}\r\n\r\n.comparison-table table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  background: white;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.comparison-table th,\r\n.comparison-table td {\r\n  padding: 0.75rem;\r\n  text-align: left;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.comparison-table th {\r\n  background: #e9ecef;\r\n  font-weight: 600;\r\n  color: #495057;\r\n}\r\n\r\n.comparison-table tr:last-child td {\r\n  border-bottom: none;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .validation-page {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .comparison-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .symbol-input {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"metadata-test-container\">\r\n    <div class=\"header\">\r\n      <h1>å…ƒæ•¸æ“šæœå‹™æ¸¬è©¦</h1>\r\n      <p>æ¸¬è©¦å‹•æ…‹ Yahoo Finance API vs éœæ…‹æ–‡ä»¶çš„ sector/industry æ•¸æ“š</p>\r\n    </div>\r\n\r\n    <!-- æ§åˆ¶é¢æ¿ -->\r\n    <div class=\"control-panel\">\r\n      <div class=\"mode-selector\">\r\n        <label>\r\n          <input \r\n            type=\"radio\" \r\n            :value=\"true\" \r\n            v-model=\"useDynamicAPI\"\r\n            @change=\"switchMode\"\r\n          />\r\n          å‹•æ…‹ API (Yahoo Finance)\r\n        </label>\r\n        <label>\r\n          <input \r\n            type=\"radio\" \r\n            :value=\"false\" \r\n            v-model=\"useDynamicAPI\"\r\n            @change=\"switchMode\"\r\n          />\r\n          éœæ…‹æ–‡ä»¶ (symbols_metadata.json)\r\n        </label>\r\n      </div>\r\n\r\n      <div class=\"test-controls\">\r\n        <button @click=\"testSingleSymbol\" :disabled=\"loading\">\r\n          æ¸¬è©¦å–®å€‹è‚¡ç¥¨\r\n        </button>\r\n        <button @click=\"testBatchSymbols\" :disabled=\"loading\">\r\n          æ‰¹é‡æ¸¬è©¦\r\n        </button>\r\n        <button @click=\"clearCache\" :disabled=\"loading\">\r\n          æ¸…é™¤ç·©å­˜\r\n        </button>\r\n        <button @click=\"warmupCache\" :disabled=\"loading\">\r\n          é ç†±ç·©å­˜\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"symbol-input\">\r\n        <input \r\n          v-model=\"testSymbol\" \r\n          placeholder=\"è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼ (ä¾‹å¦‚: AAPL)\"\r\n          @keyup.enter=\"testSingleSymbol\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç‹€æ…‹é¡¯ç¤º -->\r\n    <div class=\"status-panel\" v-if=\"loading || error || successMessage\">\r\n      <div v-if=\"loading\" class=\"loading\">\r\n        <span class=\"spinner\"></span>\r\n        {{ loadingMessage }}\r\n      </div>\r\n      <div v-if=\"error\" class=\"error\">\r\n        âŒ {{ error }}\r\n      </div>\r\n      <div v-if=\"successMessage\" class=\"success\">\r\n        âœ… {{ successMessage }}\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç·©å­˜çµ±è¨ˆ -->\r\n    <div class=\"cache-stats\" v-if=\"cacheStats\">\r\n      <h3>ç·©å­˜çµ±è¨ˆ</h3>\r\n      <div class=\"stats-grid\">\r\n        <div class=\"stat-item\">\r\n          <label>æ¨¡å¼:</label>\r\n          <span>{{ cacheStats.mode === 'dynamic' ? 'å‹•æ…‹ API' : 'éœæ…‹æ–‡ä»¶' }}</span>\r\n        </div>\r\n        <div class=\"stat-item\">\r\n          <label>ç·©å­˜æ¢ç›®:</label>\r\n          <span>{{ cacheStats.totalCached || 0 }}</span>\r\n        </div>\r\n        <div class=\"stat-item\" v-if=\"cacheStats.mode === 'static'\">\r\n          <label>å…ƒæ•¸æ“šå·²è¼‰å…¥:</label>\r\n          <span>{{ cacheStats.metadataLoaded ? 'æ˜¯' : 'å¦' }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- æ¸¬è©¦çµæœ -->\r\n    <div class=\"results-section\" v-if=\"testResults.length > 0\">\r\n      <h3>æ¸¬è©¦çµæœ</h3>\r\n      <div class=\"results-grid\">\r\n        <div \r\n          v-for=\"result in testResults\" \r\n          :key=\"result.symbol\"\r\n          class=\"result-card\"\r\n          :class=\"getResultCardClass(result)\"\r\n        >\r\n          <div class=\"result-header\">\r\n            <h4>{{ result.symbol }}</h4>\r\n            <span class=\"confidence-badge\" :class=\"getConfidenceBadgeClass(result.confidence)\">\r\n              {{ (result.confidence * 100).toFixed(0) }}%\r\n            </span>\r\n          </div>\r\n          \r\n          <div class=\"result-content\">\r\n            <div class=\"metadata-row\">\r\n              <label>Sector:</label>\r\n              <span>{{ result.sector }}</span>\r\n            </div>\r\n            <div class=\"metadata-row\">\r\n              <label>Industry:</label>\r\n              <span>{{ result.industry }}</span>\r\n            </div>\r\n            <div class=\"metadata-row\">\r\n              <label>Exchange:</label>\r\n              <span>{{ result.exchange }}</span>\r\n            </div>\r\n            <div class=\"metadata-row\" v-if=\"result.marketCapFormatted\">\r\n              <label>Market Cap:</label>\r\n              <span>{{ result.marketCapFormatted }}</span>\r\n            </div>\r\n            <div class=\"metadata-row\" v-if=\"result.country\">\r\n              <label>Country:</label>\r\n              <span>{{ result.country }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"result-footer\">\r\n            <div class=\"source-info\">\r\n              <small>{{ result.source }}</small>\r\n            </div>\r\n            <div class=\"timestamp\">\r\n              <small>{{ formatTimestamp(result.lastUpdated) }}</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- æ¯”è¼ƒçµæœ -->\r\n    <div class=\"comparison-section\" v-if=\"comparisonResults.length > 0\">\r\n      <h3>å‹•æ…‹ vs éœæ…‹æ¯”è¼ƒ</h3>\r\n      <div class=\"comparison-table\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Symbol</th>\r\n              <th>å‹•æ…‹ API - Sector</th>\r\n              <th>éœæ…‹æ–‡ä»¶ - Sector</th>\r\n              <th>å‹•æ…‹ API - Industry</th>\r\n              <th>éœæ…‹æ–‡ä»¶ - Industry</th>\r\n              <th>åŒ¹é…åº¦</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"comp in comparisonResults\" :key=\"comp.symbol\">\r\n              <td>{{ comp.symbol }}</td>\r\n              <td>{{ comp.dynamic.sector }}</td>\r\n              <td>{{ comp.static.sector }}</td>\r\n              <td>{{ comp.dynamic.industry }}</td>\r\n              <td>{{ comp.static.industry }}</td>\r\n              <td>\r\n                <span class=\"match-indicator\" :class=\"comp.matchClass\">\r\n                  {{ comp.matchScore }}%\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { metadataService } from '@/utils/metadataService.js'\r\n\r\nexport default {\r\n  name: 'MetadataServiceTest',\r\n  data() {\r\n    return {\r\n      useDynamicAPI: true,\r\n      loading: false,\r\n      loadingMessage: '',\r\n      error: null,\r\n      successMessage: null,\r\n      testSymbol: 'AAPL',\r\n      testResults: [],\r\n      comparisonResults: [],\r\n      cacheStats: null,\r\n      \r\n      // æ¸¬è©¦ç”¨çš„è‚¡ç¥¨åˆ—è¡¨\r\n      testSymbols: ['AAPL', 'MSFT', 'GOOGL', 'TSLA', 'NVDA', 'META', 'AMZN', 'NFLX', 'ASTS', 'RIVN']\r\n    }\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.updateCacheStats()\r\n  },\r\n  \r\n  methods: {\r\n    async switchMode() {\r\n      try {\r\n        metadataService.setUseDynamicAPI(this.useDynamicAPI)\r\n        await this.updateCacheStats()\r\n        this.successMessage = `å·²åˆ‡æ›åˆ°${this.useDynamicAPI ? 'å‹•æ…‹ API' : 'éœæ…‹æ–‡ä»¶'}æ¨¡å¼`\r\n        setTimeout(() => { this.successMessage = null }, 3000)\r\n      } catch (error) {\r\n        this.error = `åˆ‡æ›æ¨¡å¼å¤±æ•—: ${error.message}`\r\n        setTimeout(() => { this.error = null }, 5000)\r\n      }\r\n    },\r\n\r\n    async testSingleSymbol() {\r\n      if (!this.testSymbol.trim()) {\r\n        this.error = 'è«‹è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼'\r\n        setTimeout(() => { this.error = null }, 3000)\r\n        return\r\n      }\r\n\r\n      this.loading = true\r\n      this.loadingMessage = `æ­£åœ¨ç²å– ${this.testSymbol} çš„å…ƒæ•¸æ“š...`\r\n      this.error = null\r\n\r\n      try {\r\n        const startTime = Date.now()\r\n        const metadata = await metadataService.getSymbolMetadata(this.testSymbol.toUpperCase())\r\n        const duration = Date.now() - startTime\r\n\r\n        // æ·»åŠ åˆ°çµæœåˆ—è¡¨\r\n        const result = {\r\n          ...metadata,\r\n          duration,\r\n          timestamp: new Date().toISOString()\r\n        }\r\n\r\n        // æ›´æ–°çµæœåˆ—è¡¨ (ä¿æŒæœ€æ–°çš„åœ¨å‰é¢)\r\n        this.testResults = [result, ...this.testResults.filter(r => r.symbol !== result.symbol)]\r\n\r\n        this.successMessage = `æˆåŠŸç²å– ${result.symbol} çš„å…ƒæ•¸æ“š (${duration}ms)`\r\n        setTimeout(() => { this.successMessage = null }, 3000)\r\n\r\n        await this.updateCacheStats()\r\n      } catch (error) {\r\n        this.error = `ç²å–å…ƒæ•¸æ“šå¤±æ•—: ${error.message}`\r\n        setTimeout(() => { this.error = null }, 5000)\r\n      } finally {\r\n        this.loading = false\r\n        this.loadingMessage = ''\r\n      }\r\n    },\r\n\r\n    async testBatchSymbols() {\r\n      this.loading = true\r\n      this.loadingMessage = `æ­£åœ¨æ‰¹é‡ç²å– ${this.testSymbols.length} å€‹è‚¡ç¥¨çš„å…ƒæ•¸æ“š...`\r\n      this.error = null\r\n\r\n      try {\r\n        const startTime = Date.now()\r\n        const metadataMap = await metadataService.getBatchMetadata(this.testSymbols)\r\n        const duration = Date.now() - startTime\r\n\r\n        // è½‰æ›ç‚ºçµæœæ•¸çµ„\r\n        const results = []\r\n        for (const [symbol, metadata] of metadataMap) {\r\n          results.push({\r\n            ...metadata,\r\n            duration: duration / metadataMap.size, // å¹³å‡æ™‚é–“\r\n            timestamp: new Date().toISOString()\r\n          })\r\n        }\r\n\r\n        this.testResults = results\r\n        this.successMessage = `æˆåŠŸæ‰¹é‡ç²å– ${results.length} å€‹è‚¡ç¥¨çš„å…ƒæ•¸æ“š (${duration}ms)`\r\n        setTimeout(() => { this.successMessage = null }, 3000)\r\n\r\n        await this.updateCacheStats()\r\n      } catch (error) {\r\n        this.error = `æ‰¹é‡ç²å–å¤±æ•—: ${error.message}`\r\n        setTimeout(() => { this.error = null }, 5000)\r\n      } finally {\r\n        this.loading = false\r\n        this.loadingMessage = ''\r\n      }\r\n    },\r\n\r\n    async clearCache() {\r\n      this.loading = true\r\n      this.loadingMessage = 'æ­£åœ¨æ¸…é™¤ç·©å­˜...'\r\n\r\n      try {\r\n        metadataService.clearCache()\r\n        await this.updateCacheStats()\r\n        this.successMessage = 'ç·©å­˜å·²æ¸…é™¤'\r\n        setTimeout(() => { this.successMessage = null }, 3000)\r\n      } catch (error) {\r\n        this.error = `æ¸…é™¤ç·©å­˜å¤±æ•—: ${error.message}`\r\n        setTimeout(() => { this.error = null }, 5000)\r\n      } finally {\r\n        this.loading = false\r\n        this.loadingMessage = ''\r\n      }\r\n    },\r\n\r\n    async warmupCache() {\r\n      this.loading = true\r\n      this.loadingMessage = 'æ­£åœ¨é ç†±ç·©å­˜...'\r\n\r\n      try {\r\n        const result = await metadataService.warmupCache(this.testSymbols)\r\n        await this.updateCacheStats()\r\n        \r\n        this.successMessage = `ç·©å­˜é ç†±å®Œæˆ: ${result.symbolsProcessed} å€‹è‚¡ç¥¨, ${result.duration}ms`\r\n        setTimeout(() => { this.successMessage = null }, 3000)\r\n      } catch (error) {\r\n        this.error = `é ç†±ç·©å­˜å¤±æ•—: ${error.message}`\r\n        setTimeout(() => { this.error = null }, 5000)\r\n      } finally {\r\n        this.loading = false\r\n        this.loadingMessage = ''\r\n      }\r\n    },\r\n\r\n    async updateCacheStats() {\r\n      try {\r\n        this.cacheStats = metadataService.getCacheStats()\r\n      } catch (error) {\r\n        console.warn('Failed to get cache stats:', error)\r\n      }\r\n    },\r\n\r\n    getResultCardClass(result) {\r\n      if (result.confidence >= 0.9) return 'high-confidence'\r\n      if (result.confidence >= 0.7) return 'medium-confidence'\r\n      if (result.confidence >= 0.5) return 'low-confidence'\r\n      return 'no-confidence'\r\n    },\r\n\r\n    getConfidenceBadgeClass(confidence) {\r\n      if (confidence >= 0.9) return 'high'\r\n      if (confidence >= 0.7) return 'medium'\r\n      if (confidence >= 0.5) return 'low'\r\n      return 'none'\r\n    },\r\n\r\n    formatTimestamp(timestamp) {\r\n      if (!timestamp) return 'N/A'\r\n      return new Date(timestamp).toLocaleString('zh-TW')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.metadata-test-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n}\r\n\r\n.header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.header h1 {\r\n  color: #2c3e50;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.header p {\r\n  color: #7f8c8d;\r\n  font-size: 16px;\r\n}\r\n\r\n.control-panel {\r\n  background: #f8f9fa;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.mode-selector {\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.mode-selector label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n}\r\n\r\n.test-controls {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.test-controls button {\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background: #3498db;\r\n  color: white;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.test-controls button:hover:not(:disabled) {\r\n  background: #2980b9;\r\n}\r\n\r\n.test-controls button:disabled {\r\n  background: #bdc3c7;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.symbol-input input {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  width: 200px;\r\n}\r\n\r\n.status-panel {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.loading {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  color: #3498db;\r\n  font-weight: 500;\r\n}\r\n\r\n.spinner {\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 2px solid #e3f2fd;\r\n  border-top: 2px solid #3498db;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error {\r\n  color: #e74c3c;\r\n  font-weight: 500;\r\n}\r\n\r\n.success {\r\n  color: #27ae60;\r\n  font-weight: 500;\r\n}\r\n\r\n.cache-stats {\r\n  background: #f8f9fa;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.cache-stats h3 {\r\n  margin: 0 0 10px 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.stats-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 10px;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.stat-item label {\r\n  font-weight: 500;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.results-section {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.results-section h3 {\r\n  color: #2c3e50;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.results-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 15px;\r\n}\r\n\r\n.result-card {\r\n  border: 1px solid #e1e8ed;\r\n  border-radius: 8px;\r\n  padding: 15px;\r\n  background: white;\r\n}\r\n\r\n.result-card.high-confidence {\r\n  border-left: 4px solid #27ae60;\r\n}\r\n\r\n.result-card.medium-confidence {\r\n  border-left: 4px solid #f39c12;\r\n}\r\n\r\n.result-card.low-confidence {\r\n  border-left: 4px solid #e67e22;\r\n}\r\n\r\n.result-card.no-confidence {\r\n  border-left: 4px solid #e74c3c;\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.result-header h4 {\r\n  margin: 0;\r\n  color: #2c3e50;\r\n}\r\n\r\n.confidence-badge {\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n.confidence-badge.high {\r\n  background: #d5f4e6;\r\n  color: #27ae60;\r\n}\r\n\r\n.confidence-badge.medium {\r\n  background: #fef9e7;\r\n  color: #f39c12;\r\n}\r\n\r\n.confidence-badge.low {\r\n  background: #fdf2e9;\r\n  color: #e67e22;\r\n}\r\n\r\n.confidence-badge.none {\r\n  background: #fdedec;\r\n  color: #e74c3c;\r\n}\r\n\r\n.result-content {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.metadata-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.metadata-row label {\r\n  font-weight: 500;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.result-footer {\r\n  border-top: 1px solid #ecf0f1;\r\n  padding-top: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.result-footer small {\r\n  color: #95a5a6;\r\n  font-size: 11px;\r\n}\r\n\r\n.comparison-section {\r\n  margin-top: 30px;\r\n}\r\n\r\n.comparison-section h3 {\r\n  color: #2c3e50;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.comparison-table {\r\n  overflow-x: auto;\r\n}\r\n\r\n.comparison-table table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  background: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.comparison-table th,\r\n.comparison-table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ecf0f1;\r\n}\r\n\r\n.comparison-table th {\r\n  background: #f8f9fa;\r\n  font-weight: 600;\r\n  color: #2c3e50;\r\n}\r\n\r\n.match-indicator {\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n}\r\n\r\n.match-indicator.high {\r\n  background: #d5f4e6;\r\n  color: #27ae60;\r\n}\r\n\r\n.match-indicator.medium {\r\n  background: #fef9e7;\r\n  color: #f39c12;\r\n}\r\n\r\n.match-indicator.low {\r\n  background: #fdedec;\r\n  color: #e74c3c;\r\n}\r\n</style>","<template>\r\n  <div class=\"proxy-diagnostic\">\r\n    <div class=\"test-header\">\r\n      <h2>ğŸ” Yahoo Finance API Proxy è¨ºæ–·å·¥å…·</h2>\r\n      <p>æ¸¬è©¦å„å€‹ CORS ä»£ç†æœå‹™çš„å¯ç”¨æ€§å’Œ Yahoo Finance API çš„ç‹€æ…‹</p>\r\n    </div>\r\n\r\n    <div class=\"test-controls\">\r\n      <div class=\"symbol-input\">\r\n        <label>æ¸¬è©¦è‚¡ç¥¨:</label>\r\n        <input v-model=\"testSymbol\" placeholder=\"AAPL\" />\r\n        <button @click=\"runFullDiagnostic\" :disabled=\"testing\">\r\n          {{ testing ? 'æ¸¬è©¦ä¸­...' : 'é–‹å§‹å®Œæ•´è¨ºæ–·' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"testing\" class=\"loading\">\r\n      <div class=\"spinner\"></div>\r\n      <p>æ­£åœ¨æ¸¬è©¦ {{ currentTest }}...</p>\r\n    </div>\r\n\r\n    <!-- Proxy æœå‹™æ¸¬è©¦çµæœ -->\r\n    <div class=\"proxy-results\">\r\n      <h3>ğŸ“¡ CORS Proxy æœå‹™ç‹€æ…‹</h3>\r\n      <div class=\"proxy-grid\">\r\n        <div \r\n          v-for=\"(result, index) in proxyResults\" \r\n          :key=\"index\"\r\n          class=\"proxy-card\"\r\n          :class=\"getStatusClass(result.status)\"\r\n        >\r\n          <div class=\"proxy-header\">\r\n            <h4>Proxy {{ index + 1 }}: {{ result.name }}</h4>\r\n            <span class=\"status-badge\" :class=\"getStatusClass(result.status)\">\r\n              {{ result.status }}\r\n            </span>\r\n          </div>\r\n          \r\n          <div class=\"proxy-details\">\r\n            <p><strong>URL:</strong> {{ result.url }}</p>\r\n            <p><strong>éŸ¿æ‡‰æ™‚é–“:</strong> {{ result.responseTime }}ms</p>\r\n            <p><strong>HTTP ç‹€æ…‹:</strong> {{ result.httpStatus }}</p>\r\n            \r\n            <div v-if=\"result.error\" class=\"error-details\">\r\n              <p><strong>éŒ¯èª¤é¡å‹:</strong> {{ result.errorType }}</p>\r\n              <p><strong>éŒ¯èª¤è¨Šæ¯:</strong> {{ result.error }}</p>\r\n            </div>\r\n            \r\n            <div v-if=\"result.data\" class=\"success-details\">\r\n              <p><strong>æ•¸æ“šé»:</strong> {{ result.dataPoints }}</p>\r\n              <p><strong>åƒ¹æ ¼ç¯„åœ:</strong> ${{ result.priceRange?.min }} - ${{ result.priceRange?.max }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Yahoo Finance API ç›´æ¥æ¸¬è©¦ -->\r\n    <div class=\"direct-api-test\">\r\n      <h3>ğŸ¯ Yahoo Finance API ç›´æ¥æ¸¬è©¦</h3>\r\n      <div class=\"api-test-grid\">\r\n        <div class=\"api-test-card\">\r\n          <h4>Chart API (æŠ€è¡“æŒ‡æ¨™æ•¸æ“š)</h4>\r\n          <div class=\"test-result\" :class=\"getStatusClass(directApiResults.chart?.status)\">\r\n            <p><strong>ç‹€æ…‹:</strong> {{ directApiResults.chart?.status || 'æœªæ¸¬è©¦' }}</p>\r\n            <p v-if=\"directApiResults.chart?.error\"><strong>éŒ¯èª¤:</strong> {{ directApiResults.chart.error }}</p>\r\n            <p v-if=\"directApiResults.chart?.dataPoints\"><strong>æ•¸æ“šé»:</strong> {{ directApiResults.chart.dataPoints }}</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"api-test-card\">\r\n          <h4>Quote Summary API (è‚¡ç¥¨è³‡è¨Š)</h4>\r\n          <div class=\"test-result\" :class=\"getStatusClass(directApiResults.quoteSummary?.status)\">\r\n            <p><strong>ç‹€æ…‹:</strong> {{ directApiResults.quoteSummary?.status || 'æœªæ¸¬è©¦' }}</p>\r\n            <p v-if=\"directApiResults.quoteSummary?.error\"><strong>éŒ¯èª¤:</strong> {{ directApiResults.quoteSummary.error }}</p>\r\n            <p v-if=\"directApiResults.quoteSummary?.sector\"><strong>Sector:</strong> {{ directApiResults.quoteSummary.sector }}</p>\r\n            <p v-if=\"directApiResults.quoteSummary?.industry\"><strong>Industry:</strong> {{ directApiResults.quoteSummary.industry }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç¶²è·¯ç’°å¢ƒæª¢æ¸¬ -->\r\n    <div class=\"network-info\">\r\n      <h3>ğŸŒ ç¶²è·¯ç’°å¢ƒè³‡è¨Š</h3>\r\n      <div class=\"network-details\">\r\n        <p><strong>ç”¨æˆ¶ä»£ç†:</strong> {{ networkInfo.userAgent }}</p>\r\n        <p><strong>èªè¨€:</strong> {{ networkInfo.language }}</p>\r\n        <p><strong>æ™‚å€:</strong> {{ networkInfo.timezone }}</p>\r\n        <p><strong>é€£ç·šé¡å‹:</strong> {{ networkInfo.connection }}</p>\r\n        <p><strong>æ˜¯å¦åœ¨ç·š:</strong> {{ networkInfo.online ? 'æ˜¯' : 'å¦' }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- å»ºè­°å’Œè§£æ±ºæ–¹æ¡ˆ -->\r\n    <div v-if=\"diagnosticComplete\" class=\"recommendations\">\r\n      <h3>ğŸ’¡ è¨ºæ–·çµæœå’Œå»ºè­°</h3>\r\n      <div class=\"recommendation-content\">\r\n        <div v-if=\"workingProxies.length > 0\" class=\"success-recommendation\">\r\n          <h4>âœ… å¯ç”¨çš„ä»£ç†æœå‹™ ({{ workingProxies.length }}/{{ proxyResults.length }})</h4>\r\n          <ul>\r\n            <li v-for=\"proxy in workingProxies\" :key=\"proxy.index\">\r\n              {{ proxy.name }} - éŸ¿æ‡‰æ™‚é–“: {{ proxy.responseTime }}ms\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        \r\n        <div v-if=\"failedProxies.length > 0\" class=\"warning-recommendation\">\r\n          <h4>âŒ å¤±æ•—çš„ä»£ç†æœå‹™ ({{ failedProxies.length }}/{{ proxyResults.length }})</h4>\r\n          <ul>\r\n            <li v-for=\"proxy in failedProxies\" :key=\"proxy.index\">\r\n              {{ proxy.name }} - {{ proxy.errorType }}: {{ proxy.error }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div class=\"solution-suggestions\">\r\n          <h4>ğŸ”§ å»ºè­°è§£æ±ºæ–¹æ¡ˆ</h4>\r\n          <div v-if=\"workingProxies.length === 0\" class=\"critical-suggestions\">\r\n            <p><strong>æ‰€æœ‰ä»£ç†éƒ½å¤±æ•—äº†ï¼Œå¯èƒ½çš„åŸå› å’Œè§£æ±ºæ–¹æ¡ˆ:</strong></p>\r\n            <ul>\r\n              <li><strong>CORS æ”¿ç­–:</strong> ç€è¦½å™¨é˜»æ­¢è·¨åŸŸè«‹æ±‚ï¼Œè€ƒæ…®ä½¿ç”¨æœå‹™ç«¯ä»£ç†</li>\r\n              <li><strong>ä»£ç†æœå‹™é™åˆ¶:</strong> å…è²»ä»£ç†æœå‹™å¯èƒ½æœ‰ä½¿ç”¨é™åˆ¶æˆ–éœ€è¦èªè­‰</li>\r\n              <li><strong>Yahoo Finance API è®Šæ›´:</strong> API ç«¯é»æˆ–æ ¼å¼å¯èƒ½å·²è®Šæ›´</li>\r\n              <li><strong>ç¶²è·¯é˜²ç«ç‰†:</strong> å…¬å¸æˆ–å­¸æ ¡ç¶²è·¯å¯èƒ½é˜»æ­¢æŸäº›è«‹æ±‚</li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div v-else class=\"optimization-suggestions\">\r\n            <p><strong>å„ªåŒ–å»ºè­°:</strong></p>\r\n            <ul>\r\n              <li>å„ªå…ˆä½¿ç”¨éŸ¿æ‡‰æ™‚é–“æœ€å¿«çš„ä»£ç†: {{ fastestProxy?.name }}</li>\r\n              <li>å¯¦æ–½ä»£ç†è¼ªæ›æ©Ÿåˆ¶ä»¥åˆ†æ•£è² è¼‰</li>\r\n              <li>å¢åŠ éŒ¯èª¤é‡è©¦é‚è¼¯</li>\r\n              <li>è€ƒæ…®ç·©å­˜æ©Ÿåˆ¶æ¸›å°‘ API èª¿ç”¨</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ProxyDiagnosticTest',\r\n  data() {\r\n    return {\r\n      testSymbol: 'AAPL',\r\n      testing: false,\r\n      currentTest: '',\r\n      diagnosticComplete: false,\r\n      \r\n      // Proxy æ¸¬è©¦çµæœ\r\n      proxyResults: [],\r\n      \r\n      // ç›´æ¥ API æ¸¬è©¦çµæœ\r\n      directApiResults: {\r\n        chart: null,\r\n        quoteSummary: null\r\n      },\r\n      \r\n      // ç¶²è·¯ç’°å¢ƒè³‡è¨Š\r\n      networkInfo: {\r\n        userAgent: navigator.userAgent,\r\n        language: navigator.language,\r\n        timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\r\n        connection: navigator.connection?.effectiveType || 'unknown',\r\n        online: navigator.onLine\r\n      },\r\n      \r\n      // CORS ä»£ç†åˆ—è¡¨ - 2024å¹´12æœˆæ›´æ–°\r\n      corsProxies: [\r\n        {\r\n          name: 'CORS.SH',\r\n          url: 'https://cors.sh/',\r\n          description: 'å°ˆæ¥­çš„ CORS ä»£ç†æœå‹™ï¼Œç›¸å°ç©©å®š',\r\n          type: 'direct'\r\n        },\r\n        {\r\n          name: 'Proxy CORS (isomorphic-git)',\r\n          url: 'https://proxy-cors.isomorphic-git.org/',\r\n          description: 'ç”± isomorphic-git åœ˜éšŠç¶­è­·',\r\n          type: 'direct'\r\n        },\r\n        {\r\n          name: 'ThingProxy',\r\n          url: 'https://thingproxy.freeboard.io/fetch/',\r\n          description: 'ç”± Freeboard.io æä¾›çš„ä»£ç†æœå‹™',\r\n          type: 'direct'\r\n        },\r\n        {\r\n          name: 'CORS Proxy (HTMLDriven)',\r\n          url: 'https://cors-proxy.htmldriven.com/?url=',\r\n          description: 'ç°¡å–®æ˜“ç”¨çš„ä»£ç†æœå‹™',\r\n          type: 'query'\r\n        },\r\n        {\r\n          name: 'AllOrigins',\r\n          url: 'https://api.allorigins.win/raw?url=',\r\n          description: 'å…è²» CORS ä»£ç†æœå‹™ (å¯èƒ½æœ‰ CORS é™åˆ¶)',\r\n          type: 'query'\r\n        },\r\n        {\r\n          name: 'CorsProxy.io',\r\n          url: 'https://corsproxy.io/?',\r\n          description: 'é–‹æº CORS ä»£ç† (å¯èƒ½éœ€è¦èªè­‰)',\r\n          type: 'query'\r\n        },\r\n        {\r\n          name: 'CORS Anywhere',\r\n          url: 'https://cors-anywhere.herokuapp.com/',\r\n          description: 'Heroku è¨—ç®¡çš„ CORS ä»£ç† (å·²é™åˆ¶è¨ªå•)',\r\n          type: 'direct'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    workingProxies() {\r\n      return this.proxyResults.filter(p => p.status === 'SUCCESS')\r\n    },\r\n    \r\n    failedProxies() {\r\n      return this.proxyResults.filter(p => p.status === 'FAILED')\r\n    },\r\n    \r\n    fastestProxy() {\r\n      const working = this.workingProxies\r\n      if (working.length === 0) return null\r\n      return working.reduce((fastest, current) => \r\n        current.responseTime < fastest.responseTime ? current : fastest\r\n      )\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    async runFullDiagnostic() {\r\n      this.testing = true\r\n      this.diagnosticComplete = false\r\n      this.proxyResults = []\r\n      this.directApiResults = { chart: null, quoteSummary: null }\r\n      \r\n      try {\r\n        // æ¸¬è©¦æ‰€æœ‰ CORS ä»£ç†\r\n        await this.testAllProxies()\r\n        \r\n        // æ¸¬è©¦ç›´æ¥ API è¨ªå•\r\n        await this.testDirectAPI()\r\n        \r\n        this.diagnosticComplete = true\r\n      } catch (error) {\r\n        console.error('è¨ºæ–·éç¨‹å‡ºéŒ¯:', error)\r\n      } finally {\r\n        this.testing = false\r\n        this.currentTest = ''\r\n      }\r\n    },\r\n    \r\n    async testAllProxies() {\r\n      for (let i = 0; i < this.corsProxies.length; i++) {\r\n        const proxy = this.corsProxies[i]\r\n        this.currentTest = `${proxy.name} ä»£ç†æœå‹™`\r\n        \r\n        const result = await this.testSingleProxy(proxy, i)\r\n        this.proxyResults.push(result)\r\n        \r\n        // æ·»åŠ å»¶é²é¿å…éæ–¼é »ç¹çš„è«‹æ±‚\r\n        if (i < this.corsProxies.length - 1) {\r\n          await this.delay(1000)\r\n        }\r\n      }\r\n    },\r\n    \r\n    async testSingleProxy(proxy, index) {\r\n      const startTime = Date.now()\r\n      const result = {\r\n        index,\r\n        name: proxy.name,\r\n        url: proxy.url,\r\n        type: proxy.type,\r\n        status: 'TESTING',\r\n        responseTime: 0,\r\n        httpStatus: null,\r\n        error: null,\r\n        errorType: null,\r\n        data: null,\r\n        dataPoints: 0,\r\n        priceRange: null\r\n      }\r\n      \r\n      try {\r\n        // æ§‹å»ºæ¸¬è©¦ URL - æ ¹æ“šä»£ç†é¡å‹\r\n        const targetUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${this.testSymbol}?interval=1d&range=1mo`\r\n        let testUrl\r\n        \r\n        if (proxy.type === 'query') {\r\n          // æŸ¥è©¢åƒæ•¸é¡å‹: ?url=\r\n          testUrl = `${proxy.url}${encodeURIComponent(targetUrl)}`\r\n        } else {\r\n          // ç›´æ¥æ‹¼æ¥é¡å‹\r\n          testUrl = `${proxy.url}${targetUrl}`\r\n        }\r\n        \r\n        console.log(`Testing ${proxy.name}:`, testUrl.substring(0, 120) + '...')\r\n        \r\n        const response = await fetch(testUrl, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\r\n          }\r\n        })\r\n        \r\n        result.responseTime = Date.now() - startTime\r\n        result.httpStatus = response.status\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`)\r\n        }\r\n        \r\n        const data = await response.json()\r\n        \r\n        // é©—è­‰æ•¸æ“šçµæ§‹\r\n        if (!data.chart || !data.chart.result || data.chart.result.length === 0) {\r\n          throw new Error('Invalid data structure - no chart results')\r\n        }\r\n        \r\n        const chartResult = data.chart.result[0]\r\n        const quotes = chartResult.indicators?.quote?.[0]\r\n        \r\n        if (!quotes || !quotes.close) {\r\n          throw new Error('Invalid data structure - no price data')\r\n        }\r\n        \r\n        const closes = quotes.close.filter(price => price !== null)\r\n        \r\n        result.status = 'SUCCESS'\r\n        result.data = data\r\n        result.dataPoints = closes.length\r\n        result.priceRange = {\r\n          min: Math.min(...closes).toFixed(2),\r\n          max: Math.max(...closes).toFixed(2)\r\n        }\r\n        \r\n        console.log(`âœ… ${proxy.name} æˆåŠŸ:`, {\r\n          responseTime: result.responseTime,\r\n          dataPoints: result.dataPoints,\r\n          priceRange: result.priceRange\r\n        })\r\n        \r\n      } catch (error) {\r\n        result.status = 'FAILED'\r\n        result.responseTime = Date.now() - startTime\r\n        result.error = error.message\r\n        \r\n        // åˆ†é¡éŒ¯èª¤é¡å‹\r\n        if (error.message.includes('CORS') || error.message.includes('cors')) {\r\n          result.errorType = 'CORS_ERROR'\r\n        } else if (error.message.includes('401')) {\r\n          result.errorType = 'UNAUTHORIZED'\r\n        } else if (error.message.includes('403')) {\r\n          result.errorType = 'FORBIDDEN'\r\n        } else if (error.message.includes('404')) {\r\n          result.errorType = 'NOT_FOUND'\r\n        } else if (error.message.includes('429')) {\r\n          result.errorType = 'RATE_LIMITED'\r\n        } else if (error.message.includes('Failed to fetch') || error.message.includes('fetch')) {\r\n          result.errorType = 'NETWORK_ERROR'\r\n        } else if (error.message.includes('Invalid data structure')) {\r\n          result.errorType = 'DATA_FORMAT_ERROR'\r\n        } else if (error.message.includes('timeout')) {\r\n          result.errorType = 'TIMEOUT_ERROR'\r\n        } else {\r\n          result.errorType = 'UNKNOWN_ERROR'\r\n        }\r\n        \r\n        console.log(`âŒ ${proxy.name} å¤±æ•—:`, {\r\n          errorType: result.errorType,\r\n          error: result.error,\r\n          responseTime: result.responseTime\r\n        })\r\n      }\r\n      \r\n      return result\r\n    },\r\n    \r\n    async testDirectAPI() {\r\n      this.currentTest = 'Yahoo Finance API ç›´æ¥è¨ªå•'\r\n      \r\n      // æ¸¬è©¦ Chart API\r\n      try {\r\n        const chartUrl = `https://query1.finance.yahoo.com/v8/finance/chart/${this.testSymbol}?interval=1d&range=1mo`\r\n        const chartResponse = await fetch(chartUrl)\r\n        \r\n        if (chartResponse.ok) {\r\n          const chartData = await chartResponse.json()\r\n          const dataPoints = chartData.chart?.result?.[0]?.indicators?.quote?.[0]?.close?.filter(p => p !== null)?.length || 0\r\n          \r\n          this.directApiResults.chart = {\r\n            status: 'SUCCESS',\r\n            dataPoints\r\n          }\r\n        } else {\r\n          throw new Error(`HTTP ${chartResponse.status}`)\r\n        }\r\n      } catch (error) {\r\n        this.directApiResults.chart = {\r\n          status: 'FAILED',\r\n          error: error.message\r\n        }\r\n      }\r\n      \r\n      // æ¸¬è©¦ Quote Summary API\r\n      try {\r\n        const quoteUrl = `https://query1.finance.yahoo.com/v10/finance/quoteSummary/${this.testSymbol}?modules=summaryProfile`\r\n        const quoteResponse = await fetch(quoteUrl)\r\n        \r\n        if (quoteResponse.ok) {\r\n          const quoteData = await quoteResponse.json()\r\n          const profile = quoteData.quoteSummary?.result?.[0]?.summaryProfile\r\n          \r\n          this.directApiResults.quoteSummary = {\r\n            status: 'SUCCESS',\r\n            sector: profile?.sector,\r\n            industry: profile?.industry\r\n          }\r\n        } else {\r\n          throw new Error(`HTTP ${quoteResponse.status}`)\r\n        }\r\n      } catch (error) {\r\n        this.directApiResults.quoteSummary = {\r\n          status: 'FAILED',\r\n          error: error.message\r\n        }\r\n      }\r\n    },\r\n    \r\n    getStatusClass(status) {\r\n      switch (status) {\r\n        case 'SUCCESS': return 'success'\r\n        case 'FAILED': return 'failed'\r\n        case 'TESTING': return 'testing'\r\n        default: return 'unknown'\r\n      }\r\n    },\r\n    \r\n    delay(ms) {\r\n      return new Promise(resolve => setTimeout(resolve, ms))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.proxy-diagnostic {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.test-header {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.test-header h2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.test-controls {\r\n  background: #f8f9fa;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.symbol-input {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.symbol-input input {\r\n  padding: 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  width: 100px;\r\n}\r\n\r\n.symbol-input button {\r\n  padding: 0.5rem 1rem;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.symbol-input button:disabled {\r\n  background: #6c757d;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 4px solid #e9ecef;\r\n  border-top: 4px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 1rem;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.proxy-results, .direct-api-test, .network-info, .recommendations {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 2rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.proxy-results h3, .direct-api-test h3, .network-info h3, .recommendations h3 {\r\n  margin: 0 0 1.5rem 0;\r\n  color: #495057;\r\n  border-bottom: 2px solid #dee2e6;\r\n  padding-bottom: 0.5rem;\r\n}\r\n\r\n.proxy-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.proxy-card {\r\n  border: 2px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.proxy-card.success {\r\n  border-color: #28a745;\r\n  background: #f8fff9;\r\n}\r\n\r\n.proxy-card.failed {\r\n  border-color: #dc3545;\r\n  background: #fff8f8;\r\n}\r\n\r\n.proxy-card.testing {\r\n  border-color: #ffc107;\r\n  background: #fffdf5;\r\n}\r\n\r\n.proxy-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.proxy-header h4 {\r\n  margin: 0;\r\n  color: #495057;\r\n}\r\n\r\n.status-badge {\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 20px;\r\n  font-size: 0.75rem;\r\n  font-weight: 600;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.status-badge.success {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-badge.failed {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.status-badge.testing {\r\n  background: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.proxy-details p {\r\n  margin: 0.5rem 0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.error-details {\r\n  background: #f8d7da;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.success-details {\r\n  background: #d4edda;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.api-test-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.api-test-card {\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.api-test-card h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n}\r\n\r\n.test-result {\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n.test-result.success {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.test-result.failed {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.network-details p {\r\n  margin: 0.5rem 0;\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.recommendation-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.success-recommendation {\r\n  background: #d4edda;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  color: #155724;\r\n}\r\n\r\n.warning-recommendation {\r\n  background: #f8d7da;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  color: #721c24;\r\n}\r\n\r\n.solution-suggestions {\r\n  background: #e2f3ff;\r\n  padding: 1.5rem;\r\n  border-radius: 8px;\r\n  color: #004085;\r\n}\r\n\r\n.critical-suggestions {\r\n  background: #fff3cd;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  margin-top: 1rem;\r\n  color: #856404;\r\n}\r\n\r\n.optimization-suggestions {\r\n  background: #d1ecf1;\r\n  padding: 1rem;\r\n  border-radius: 4px;\r\n  margin-top: 1rem;\r\n  color: #0c5460;\r\n}\r\n\r\nul {\r\n  margin: 0.5rem 0;\r\n  padding-left: 1.5rem;\r\n}\r\n\r\nli {\r\n  margin: 0.25rem 0;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .proxy-diagnostic {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .proxy-grid, .api-test-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .symbol-input {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"indicators-manager\">\r\n    <div class=\"manager-header\">\r\n      <h2>æŠ€è¡“æŒ‡æ¨™ç®¡ç†ä¸­å¿ƒ</h2>\r\n      <p>ç›£æ§å’Œç®¡ç†é è¨ˆç®—æŠ€è¡“æŒ‡æ¨™ç³»çµ±</p>\r\n    </div>\r\n\r\n    <!-- æ•¸æ“šæºç‹€æ…‹ -->\r\n    <div class=\"status-section\">\r\n      <h3>æ•¸æ“šæºç‹€æ…‹</h3>\r\n      \r\n      <div class=\"status-grid\">\r\n        <!-- é è¨ˆç®—æ•¸æ“šç‹€æ…‹ -->\r\n        <div class=\"status-card\" :class=\"{ 'available': dataSourceStatus?.precomputed?.available }\">\r\n          <div class=\"status-header\">\r\n            <h4>é è¨ˆç®—æ•¸æ“š</h4>\r\n            <span class=\"status-badge\" :class=\"dataSourceStatus?.precomputed?.available ? 'success' : 'error'\">\r\n              {{ dataSourceStatus?.precomputed?.available ? 'å¯ç”¨' : 'ä¸å¯ç”¨' }}\r\n            </span>\r\n          </div>\r\n          \r\n          <div v-if=\"dataSourceStatus?.precomputed?.available\" class=\"status-details\">\r\n            <p><strong>è‚¡ç¥¨æ•¸é‡:</strong> {{ dataSourceStatus.precomputed.symbols.length }}</p>\r\n            <p><strong>æˆåŠŸ:</strong> {{ dataSourceStatus.precomputed.successful }}</p>\r\n            <p><strong>å¤±æ•—:</strong> {{ dataSourceStatus.precomputed.failed }}</p>\r\n            <p><strong>æœ€å¾Œæ›´æ–°:</strong> {{ formatDate(dataSourceStatus.precomputed.lastUpdate) }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ç·©å­˜ç‹€æ…‹ -->\r\n        <div class=\"status-card available\">\r\n          <div class=\"status-header\">\r\n            <h4>æ¯æ—¥ç·©å­˜</h4>\r\n            <span class=\"status-badge success\">å¯ç”¨</span>\r\n          </div>\r\n          \r\n          <div class=\"status-details\">\r\n            <p><strong>å…§å­˜ç·©å­˜:</strong> {{ dataSourceStatus?.cache?.memoryCache || 0 }} é …ç›®</p>\r\n            <p><strong>æœ¬åœ°å­˜å„²:</strong> {{ dataSourceStatus?.cache?.localStorageCache || 0 }} é …ç›®</p>\r\n            <p><strong>ç¸½å¤§å°:</strong> {{ formatBytes(dataSourceStatus?.cache?.totalSize || 0) }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- å¯¦æ™‚è¨ˆç®—ç‹€æ…‹ -->\r\n        <div class=\"status-card available\">\r\n          <div class=\"status-header\">\r\n            <h4>å¯¦æ™‚è¨ˆç®—</h4>\r\n            <span class=\"status-badge success\">å¯ç”¨</span>\r\n          </div>\r\n          \r\n          <div class=\"status-details\">\r\n            <p><strong>ä»£ç†æœå‹™:</strong> {{ dataSourceStatus?.realtime?.proxies || 0 }} å€‹</p>\r\n            <p><strong>ç‹€æ…‹:</strong> å‚™ç”¨æ–¹æ¡ˆ</p>\r\n            <p><strong>é æœŸå»¶é²:</strong> 2-20ç§’</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- æ§åˆ¶é¢æ¿ -->\r\n    <div class=\"control-section\">\r\n      <h3>æ§åˆ¶é¢æ¿</h3>\r\n      \r\n      <div class=\"control-grid\">\r\n        <button @click=\"refreshStatus()\" class=\"control-btn primary\" :disabled=\"loading\">\r\n          {{ loading ? 'è¼‰å…¥ä¸­...' : 'åˆ·æ–°ç‹€æ…‹' }}\r\n        </button>\r\n        \r\n        <button @click=\"clearAllCaches()\" class=\"control-btn warning\">\r\n          æ¸…é™¤æ‰€æœ‰ç·©å­˜\r\n        </button>\r\n        \r\n        <button @click=\"testPrecomputed()\" class=\"control-btn info\" :disabled=\"testing\">\r\n          {{ testing ? 'æ¸¬è©¦ä¸­...' : 'æ¸¬è©¦é è¨ˆç®—' }}\r\n        </button>\r\n        \r\n        <button @click=\"showPreferences = !showPreferences\" class=\"control-btn secondary\">\r\n          {{ showPreferences ? 'éš±è—è¨­å®š' : 'é¡¯ç¤ºè¨­å®š' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- åå¥½è¨­å®š -->\r\n    <div v-if=\"showPreferences\" class=\"preferences-section\">\r\n      <h3>ç³»çµ±åå¥½è¨­å®š</h3>\r\n      \r\n      <div class=\"preferences-form\">\r\n        <div class=\"form-group\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              v-model=\"preferences.preferPrecomputed\"\r\n              @change=\"updatePreferences\"\r\n            />\r\n            å„ªå…ˆä½¿ç”¨é è¨ˆç®—æ•¸æ“š\r\n          </label>\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              v-model=\"preferences.fallbackToRealtime\"\r\n              @change=\"updatePreferences\"\r\n            />\r\n            å…è¨±å›é€€åˆ°å¯¦æ™‚è¨ˆç®—\r\n          </label>\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label>é è¨ˆç®—æ•¸æ“šæœ€å¤§å¹´é½¡ (å°æ™‚):</label>\r\n          <input \r\n            type=\"number\" \r\n            v-model.number=\"preferences.maxAgeHours\"\r\n            @change=\"updatePreferences\"\r\n            min=\"1\" \r\n            max=\"72\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- æ¸¬è©¦çµæœ -->\r\n    <div v-if=\"testResults.length > 0\" class=\"test-results-section\">\r\n      <h3>æ¸¬è©¦çµæœ</h3>\r\n      \r\n      <div class=\"test-results\">\r\n        <div \r\n          v-for=\"(result, index) in testResults\" \r\n          :key=\"index\"\r\n          class=\"test-result-item\"\r\n          :class=\"{ 'success': result.success, 'error': !result.success }\"\r\n        >\r\n          <div class=\"result-header\">\r\n            <span class=\"symbol\">{{ result.symbol }}</span>\r\n            <span class=\"source\">{{ result.source }}</span>\r\n            <span class=\"load-time\">{{ result.loadTime }}</span>\r\n          </div>\r\n          \r\n          <div v-if=\"result.error\" class=\"error-message\">\r\n            {{ result.error }}\r\n          </div>\r\n          \r\n          <div v-else class=\"indicators-preview\">\r\n            <span>MA5: {{ result.data.ma5?.value || 'N/A' }}</span>\r\n            <span>ADX: {{ result.data.adx14?.value || 'N/A' }}</span>\r\n            <span>MACD: {{ result.data.macd?.signal || 'N/A' }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- é è¨ˆç®—è‚¡ç¥¨åˆ—è¡¨ -->\r\n    <div v-if=\"dataSourceStatus?.precomputed?.available\" class=\"symbols-section\">\r\n      <h3>é è¨ˆç®—è‚¡ç¥¨åˆ—è¡¨</h3>\r\n      \r\n      <div class=\"symbols-grid\">\r\n        <span \r\n          v-for=\"symbol in dataSourceStatus.precomputed.symbols\" \r\n          :key=\"symbol\"\r\n          class=\"symbol-tag\"\r\n        >\r\n          {{ symbol }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport hybridTechnicalIndicatorsAPI from '../utils/hybridTechnicalIndicatorsApi.js'\r\n\r\nexport default {\r\n  name: 'TechnicalIndicatorsManager',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      testing: false,\r\n      showPreferences: false,\r\n      dataSourceStatus: null,\r\n      testResults: [],\r\n      preferences: {\r\n        preferPrecomputed: true,\r\n        fallbackToRealtime: true,\r\n        maxAgeHours: 24\r\n      }\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.refreshStatus();\r\n  },\r\n  methods: {\r\n    async refreshStatus() {\r\n      this.loading = true;\r\n      try {\r\n        this.dataSourceStatus = await hybridTechnicalIndicatorsAPI.getDataSourceStatus();\r\n      } catch (error) {\r\n        console.error('Failed to refresh status:', error);\r\n        alert('åˆ·æ–°ç‹€æ…‹å¤±æ•—: ' + error.message);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    async clearAllCaches() {\r\n      if (!confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰ç·©å­˜å—ï¼Ÿé€™å°‡å°è‡´ä¸‹æ¬¡è¼‰å…¥æ™‚é–“è¼ƒé•·ã€‚')) {\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        // é€™è£¡éœ€è¦èª¿ç”¨å„å€‹ç·©å­˜æ¸…ç†æ–¹æ³•\r\n        // technicalIndicatorsCache.clearAllCache();\r\n        // precomputedIndicatorsAPI.clearCache();\r\n        alert('æ‰€æœ‰ç·©å­˜å·²æ¸…é™¤');\r\n        await this.refreshStatus();\r\n      } catch (error) {\r\n        alert('æ¸…é™¤ç·©å­˜å¤±æ•—: ' + error.message);\r\n      }\r\n    },\r\n    \r\n    async testPrecomputed() {\r\n      this.testing = true;\r\n      this.testResults = [];\r\n      \r\n      const testSymbols = ['AAPL', 'TSLA', 'MSFT'];\r\n      \r\n      try {\r\n        for (const symbol of testSymbols) {\r\n          const startTime = Date.now();\r\n          \r\n          try {\r\n            const data = await hybridTechnicalIndicatorsAPI.getTechnicalIndicators(symbol);\r\n            const loadTime = Date.now() - startTime;\r\n            \r\n            this.testResults.push({\r\n              symbol,\r\n              success: true,\r\n              data,\r\n              source: data.source,\r\n              loadTime: `${loadTime}ms`\r\n            });\r\n          } catch (error) {\r\n            this.testResults.push({\r\n              symbol,\r\n              success: false,\r\n              error: error.message,\r\n              loadTime: `${Date.now() - startTime}ms`\r\n            });\r\n          }\r\n        }\r\n      } finally {\r\n        this.testing = false;\r\n      }\r\n    },\r\n    \r\n    updatePreferences() {\r\n      const maxAge = this.preferences.maxAgeHours * 60 * 60 * 1000;\r\n      \r\n      hybridTechnicalIndicatorsAPI.setPreferences({\r\n        preferPrecomputed: this.preferences.preferPrecomputed,\r\n        fallbackToRealtime: this.preferences.fallbackToRealtime,\r\n        maxPrecomputedAge: maxAge\r\n      });\r\n      \r\n      console.log('Preferences updated:', this.preferences);\r\n    },\r\n    \r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      return new Date(dateString).toLocaleString('zh-TW');\r\n    },\r\n    \r\n    formatBytes(bytes) {\r\n      if (bytes === 0) return '0 B';\r\n      const k = 1024;\r\n      const sizes = ['B', 'KB', 'MB'];\r\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.indicators-manager {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n}\r\n\r\n.manager-header {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.manager-header h2 {\r\n  color: #2c3e50;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.status-section, .control-section, .preferences-section, .test-results-section, .symbols-section {\r\n  background: white;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.status-section h3, .control-section h3, .preferences-section h3, .test-results-section h3, .symbols-section h3 {\r\n  margin: 0 0 1rem 0;\r\n  color: #495057;\r\n}\r\n\r\n.status-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.status-card {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  border-left: 4px solid #dc3545;\r\n}\r\n\r\n.status-card.available {\r\n  border-left-color: #28a745;\r\n}\r\n\r\n.status-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.status-header h4 {\r\n  margin: 0;\r\n  color: #495057;\r\n}\r\n\r\n.status-badge {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.status-badge.success {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-badge.error {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.status-details p {\r\n  margin: 0.25rem 0;\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.control-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.control-btn {\r\n  padding: 0.75rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.control-btn.primary {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.control-btn.primary:hover:not(:disabled) {\r\n  background: #0056b3;\r\n}\r\n\r\n.control-btn.warning {\r\n  background: #ffc107;\r\n  color: #212529;\r\n}\r\n\r\n.control-btn.warning:hover {\r\n  background: #e0a800;\r\n}\r\n\r\n.control-btn.info {\r\n  background: #17a2b8;\r\n  color: white;\r\n}\r\n\r\n.control-btn.info:hover:not(:disabled) {\r\n  background: #138496;\r\n}\r\n\r\n.control-btn.secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.control-btn.secondary:hover {\r\n  background: #545b62;\r\n}\r\n\r\n.control-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.preferences-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.form-group label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-group input[type=\"number\"] {\r\n  padding: 0.5rem;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  width: 100px;\r\n}\r\n\r\n.test-results {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.test-result-item {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  border-left: 4px solid #dc3545;\r\n}\r\n\r\n.test-result-item.success {\r\n  border-left-color: #28a745;\r\n}\r\n\r\n.result-header {\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-bottom: 0.5rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.symbol {\r\n  color: #495057;\r\n}\r\n\r\n.source {\r\n  color: #6c757d;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.load-time {\r\n  margin-left: auto;\r\n  color: #007bff;\r\n}\r\n\r\n.error-message {\r\n  color: #dc3545;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.indicators-preview {\r\n  display: flex;\r\n  gap: 1rem;\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.symbols-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.symbol-tag {\r\n  background: #e9ecef;\r\n  color: #495057;\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .indicators-manager {\r\n    padding: 1rem;\r\n  }\r\n  \r\n  .status-grid, .control-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .result-header {\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n  }\r\n  \r\n  .load-time {\r\n    margin-left: 0;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"auto-update-monitor\">\r\n    <div class=\"monitor-header\">\r\n      <h2>è‡ªå‹•æ›´æ–°ç›£æ§é¢æ¿</h2>\r\n      <div class=\"header-actions\">\r\n        <button @click=\"refreshStatus\" class=\"btn btn-secondary\" :disabled=\"loading\">\r\n          <span v-if=\"loading\">ğŸ”„</span>\r\n          <span v-else>ğŸ”„</span>\r\n          åˆ·æ–°ç‹€æ…‹\r\n        </button>\r\n        <button @click=\"toggleScheduler\" :class=\"schedulerButtonClass\" :disabled=\"loading\">\r\n          {{ schedulerButtonText }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"monitor-grid\">\r\n      <!-- èª¿åº¦å™¨ç‹€æ…‹ -->\r\n      <div class=\"status-card\">\r\n        <div class=\"card-header\">\r\n          <h3>èª¿åº¦å™¨ç‹€æ…‹</h3>\r\n          <div class=\"status-indicator\" :class=\"schedulerStatusClass\">\r\n            {{ schedulerStatus }}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">é‹è¡Œç‹€æ…‹:</span>\r\n            <span class=\"value\" :class=\"schedulerStatusClass\">\r\n              {{ status.isRunning ? 'é‹è¡Œä¸­' : 'å·²åœæ­¢' }}\r\n            </span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æ´»å‹•ä»»å‹™:</span>\r\n            <span class=\"value\">{{ status.activeIntervals?.length || 0 }} å€‹</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">å•Ÿå‹•æ™‚é–“:</span>\r\n            <span class=\"value\">{{ formatTime(startTime) }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- æŠ€è¡“æŒ‡æ¨™ç‹€æ…‹ -->\r\n      <div class=\"status-card\">\r\n        <div class=\"card-header\">\r\n          <h3>æŠ€è¡“æŒ‡æ¨™</h3>\r\n          <div class=\"status-indicator\" :class=\"technicalIndicatorsStatusClass\">\r\n            {{ technicalIndicatorsStatus }}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æœ€å¾Œæ›´æ–°:</span>\r\n            <span class=\"value\">{{ formatTime(technicalIndicatorsLastUpdate) }}</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æ•¸æ“šå¹´é½¡:</span>\r\n            <span class=\"value\" :class=\"getDataAgeClass(technicalIndicatorsAge)\">\r\n              {{ formatDataAge(technicalIndicatorsAge) }}\r\n            </span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">ä¸‹æ¬¡æ›´æ–°:</span>\r\n            <span class=\"value\">{{ formatTime(status.nextUpdates?.technicalIndicators) }}</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æˆåŠŸç‡:</span>\r\n            <span class=\"value\">{{ technicalIndicatorsSuccessRate }}%</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"triggerUpdate('technicalIndicators')\" class=\"btn btn-primary btn-sm\" :disabled=\"loading\">\r\n            æ¸…é™¤ç·©å­˜\r\n          </button>\r\n          <div class=\"update-note\">\r\n            <small>è¨»: å¯¦éš›é è¨ˆç®—éœ€è¦åœ¨æœå‹™å™¨ç«¯åŸ·è¡Œ</small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- å…ƒæ•¸æ“šç‹€æ…‹ -->\r\n      <div class=\"status-card\">\r\n        <div class=\"card-header\">\r\n          <h3>å…ƒæ•¸æ“š</h3>\r\n          <div class=\"status-indicator\" :class=\"metadataStatusClass\">\r\n            {{ metadataStatus }}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æœ€å¾Œæ›´æ–°:</span>\r\n            <span class=\"value\">{{ formatTime(metadataLastUpdate) }}</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æ•¸æ“šå¹´é½¡:</span>\r\n            <span class=\"value\" :class=\"getDataAgeClass(metadataAge)\">\r\n              {{ formatDataAge(metadataAge) }}\r\n            </span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">ä¸‹æ¬¡æ›´æ–°:</span>\r\n            <span class=\"value\">{{ formatTime(status.nextUpdates?.metadata) }}</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">è‚¡ç¥¨æ•¸é‡:</span>\r\n            <span class=\"value\">{{ metadataSymbolCount }} æ”¯</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"triggerUpdate('metadata')\" class=\"btn btn-primary btn-sm\" :disabled=\"loading\">\r\n            æ‰‹å‹•æ›´æ–°\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ç·©å­˜é ç†±ç‹€æ…‹ -->\r\n      <div class=\"status-card\">\r\n        <div class=\"card-header\">\r\n          <h3>ç·©å­˜é ç†±</h3>\r\n          <div class=\"status-indicator\" :class=\"warmupStatusClass\">\r\n            {{ warmupStatus }}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">é ç†±ç‹€æ…‹:</span>\r\n            <span class=\"value\" :class=\"warmupStatusClass\">\r\n              {{ warmupInfo.isWarming ? 'é€²è¡Œä¸­' : 'å¾…æ©Ÿä¸­' }}\r\n            </span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">é€²åº¦:</span>\r\n            <span class=\"value\">{{ Math.round(warmupInfo.progress) }}%</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">è¿½è¹¤è‚¡ç¥¨:</span>\r\n            <span class=\"value\">{{ warmupInfo.trackedSymbols?.length || 0 }} æ”¯</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">ä¸Šæ¬¡é ç†±:</span>\r\n            <span class=\"value\">{{ formatTime(warmupInfo.lastWarmupTime) }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"triggerWarmup\" class=\"btn btn-info btn-sm\" :disabled=\"loading || warmupInfo.isWarming\">\r\n            {{ warmupInfo.isWarming ? 'é ç†±ä¸­...' : 'æ‰‹å‹•é ç†±' }}\r\n          </button>\r\n          <div class=\"update-note\">\r\n            <small>è¨»: é ç†±æ‰€æœ‰è‚¡ç¥¨çš„æŠ€è¡“æŒ‡æ¨™æ•¸æ“š</small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ç·©å­˜ç‹€æ…‹ -->\r\n      <div class=\"status-card\">\r\n        <div class=\"card-header\">\r\n          <h3>ç·©å­˜ç‹€æ…‹</h3>\r\n          <div class=\"status-indicator status-info\">\r\n            {{ cacheStatus }}\r\n          </div>\r\n        </div>\r\n        <div class=\"card-content\">\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">å…§å­˜ç·©å­˜:</span>\r\n            <span class=\"value\">{{ cacheStats.memoryCache }} é …</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">æœ¬åœ°å­˜å„²:</span>\r\n            <span class=\"value\">{{ cacheStats.localStorage }} é …</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">ç¸½å¤§å°:</span>\r\n            <span class=\"value\">{{ cacheStats.totalSize }} é …</span>\r\n          </div>\r\n          <div class=\"status-item\">\r\n            <span class=\"label\">ä¸‹æ¬¡æ¸…ç†:</span>\r\n            <span class=\"value\">{{ formatTime(status.nextUpdates?.cacheCleanup) }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-actions\">\r\n          <button @click=\"triggerUpdate('cache')\" class=\"btn btn-warning btn-sm\" :disabled=\"loading\">\r\n            æ¸…ç†ç·©å­˜\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- æ›´æ–°æ—¥èªŒ -->\r\n    <div class=\"update-logs\">\r\n      <div class=\"logs-header\">\r\n        <h3>æ›´æ–°æ—¥èªŒ</h3>\r\n        <button @click=\"clearLogs\" class=\"btn btn-sm btn-outline\">æ¸…é™¤æ—¥èªŒ</button>\r\n      </div>\r\n      <div class=\"logs-content\">\r\n        <div v-if=\"logs.length === 0\" class=\"no-logs\">\r\n          æš«ç„¡æ—¥èªŒè¨˜éŒ„\r\n        </div>\r\n        <div v-else class=\"log-entries\">\r\n          <div \r\n            v-for=\"(log, index) in logs\" \r\n            :key=\"index\" \r\n            class=\"log-entry\" \r\n            :class=\"getLogLevelClass(log.level)\"\r\n          >\r\n            <span class=\"log-time\">{{ formatTime(log.timestamp) }}</span>\r\n            <span class=\"log-level\">{{ log.level }}</span>\r\n            <span class=\"log-message\">{{ log.message }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- é…ç½®é¢æ¿ -->\r\n    <div class=\"config-panel\">\r\n      <div class=\"config-header\">\r\n        <h3>é…ç½®è¨­å®š</h3>\r\n        <button @click=\"saveConfig\" class=\"btn btn-success btn-sm\" :disabled=\"!configChanged\">\r\n          ä¿å­˜é…ç½®\r\n        </button>\r\n      </div>\r\n      <div class=\"config-content\">\r\n        <div class=\"config-section\">\r\n          <h4>æŠ€è¡“æŒ‡æ¨™æ›´æ–°</h4>\r\n          <div class=\"config-item\">\r\n            <label>\r\n              <input type=\"checkbox\" v-model=\"config.technicalIndicators.enabled\" @change=\"onConfigChange\">\r\n              å•Ÿç”¨è‡ªå‹•æ›´æ–°\r\n            </label>\r\n          </div>\r\n          <div class=\"config-item\">\r\n            <label>æ›´æ–°é–“éš” (å°æ™‚):</label>\r\n            <input \r\n              type=\"number\" \r\n              v-model.number=\"config.technicalIndicators.intervalHours\" \r\n              @change=\"onConfigChange\"\r\n              min=\"1\" \r\n              max=\"24\"\r\n            >\r\n          </div>\r\n          <div class=\"config-item\">\r\n            <label>\r\n              <input type=\"checkbox\" v-model=\"config.technicalIndicators.marketHoursOnly\" @change=\"onConfigChange\">\r\n              åƒ…åœ¨å¸‚å ´æ™‚é–“æ›´æ–°\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"config-section\">\r\n          <h4>å…ƒæ•¸æ“šæ›´æ–°</h4>\r\n          <div class=\"config-item\">\r\n            <label>\r\n              <input type=\"checkbox\" v-model=\"config.metadata.enabled\" @change=\"onConfigChange\">\r\n              å•Ÿç”¨è‡ªå‹•æ›´æ–°\r\n            </label>\r\n          </div>\r\n          <div class=\"config-item\">\r\n            <label>æ›´æ–°é–“éš” (å°æ™‚):</label>\r\n            <input \r\n              type=\"number\" \r\n              v-model.number=\"config.metadata.intervalHours\" \r\n              @change=\"onConfigChange\"\r\n              min=\"1\" \r\n              max=\"168\"\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { autoUpdateScheduler } from '@/utils/autoUpdateScheduler.js'\r\nimport { performanceCache } from '@/utils/performanceCache.js'\r\nimport { cacheWarmupService } from '@/utils/cacheWarmupService.js'\r\n\r\nexport default {\r\n  name: 'AutoUpdateMonitor',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      status: {},\r\n      cacheStats: {},\r\n      logs: [],\r\n      config: {\r\n        technicalIndicators: {\r\n          enabled: true,\r\n          intervalHours: 1,\r\n          marketHoursOnly: true\r\n        },\r\n        metadata: {\r\n          enabled: true,\r\n          intervalHours: 24\r\n        }\r\n      },\r\n      configChanged: false,\r\n      startTime: null,\r\n      technicalIndicatorsLastUpdate: null,\r\n      technicalIndicatorsAge: 0,\r\n      technicalIndicatorsSuccessRate: 0,\r\n      metadataLastUpdate: null,\r\n      metadataAge: 0,\r\n      metadataSymbolCount: 0,\r\n      warmupInfo: {\r\n        isWarming: false,\r\n        progress: 0,\r\n        lastWarmupTime: null,\r\n        trackedSymbols: []\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    schedulerStatus() {\r\n      return this.status.isRunning ? 'é‹è¡Œä¸­' : 'å·²åœæ­¢'\r\n    },\r\n    schedulerStatusClass() {\r\n      return this.status.isRunning ? 'status-success' : 'status-error'\r\n    },\r\n    schedulerButtonText() {\r\n      return this.status.isRunning ? 'åœæ­¢èª¿åº¦å™¨' : 'å•Ÿå‹•èª¿åº¦å™¨'\r\n    },\r\n    schedulerButtonClass() {\r\n      return this.status.isRunning ? 'btn btn-danger' : 'btn btn-success'\r\n    },\r\n    technicalIndicatorsStatus() {\r\n      if (this.technicalIndicatorsAge < 1) return 'æœ€æ–°'\r\n      if (this.technicalIndicatorsAge < 12) return 'è¼ƒæ–°'\r\n      if (this.technicalIndicatorsAge < 24) return 'éæ™‚'\r\n      return 'èˆŠæ•¸æ“š'\r\n    },\r\n    technicalIndicatorsStatusClass() {\r\n      if (this.technicalIndicatorsAge < 1) return 'status-success'\r\n      if (this.technicalIndicatorsAge < 12) return 'status-warning'\r\n      return 'status-error'\r\n    },\r\n    metadataStatus() {\r\n      if (this.metadataAge < 24) return 'æœ€æ–°'\r\n      if (this.metadataAge < 72) return 'è¼ƒæ–°'\r\n      return 'éæ™‚'\r\n    },\r\n    metadataStatusClass() {\r\n      if (this.metadataAge < 24) return 'status-success'\r\n      if (this.metadataAge < 72) return 'status-warning'\r\n      return 'status-error'\r\n    },\r\n    cacheStatus() {\r\n      const total = this.cacheStats.totalSize || 0\r\n      if (total > 100) return 'éœ€è¦æ¸…ç†'\r\n      if (total > 50) return 'æ­£å¸¸'\r\n      return 'è‰¯å¥½'\r\n    },\r\n    warmupStatus() {\r\n      if (this.warmupInfo.isWarming) return 'é ç†±ä¸­'\r\n      if (this.warmupInfo.progress === 100) return 'å·²å®Œæˆ'\r\n      if (this.warmupInfo.lastWarmupTime) return 'å¾…æ©Ÿä¸­'\r\n      return 'æœªé ç†±'\r\n    },\r\n    warmupStatusClass() {\r\n      if (this.warmupInfo.isWarming) return 'status-warning'\r\n      if (this.warmupInfo.progress === 100) return 'status-success'\r\n      if (this.warmupInfo.lastWarmupTime) return 'status-info'\r\n      return 'status-error'\r\n    }\r\n  },\r\n  async mounted() {\r\n    await this.initializeMonitor()\r\n    this.startPeriodicRefresh()\r\n  },\r\n  beforeUnmount() {\r\n    if (this.refreshInterval) {\r\n      clearInterval(this.refreshInterval)\r\n    }\r\n  },\r\n  methods: {\r\n    async initializeMonitor() {\r\n      this.loading = true\r\n      try {\r\n        await this.refreshStatus()\r\n        await this.loadTechnicalIndicatorsStatus()\r\n        await this.loadMetadataStatus()\r\n        await this.loadWarmupStatus()\r\n        this.startTime = new Date()\r\n        this.addLog('ç›£æ§é¢æ¿å·²åˆå§‹åŒ–', 'INFO')\r\n      } catch (error) {\r\n        this.addLog(`åˆå§‹åŒ–å¤±æ•—: ${error.message}`, 'ERROR')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async refreshStatus() {\r\n      try {\r\n        this.status = autoUpdateScheduler.getStatus()\r\n        this.cacheStats = performanceCache.getStats()\r\n      } catch (error) {\r\n        this.addLog(`åˆ·æ–°ç‹€æ…‹å¤±æ•—: ${error.message}`, 'ERROR')\r\n      }\r\n    },\r\n\r\n    async loadTechnicalIndicatorsStatus() {\r\n      try {\r\n        const response = await fetch('/data/technical-indicators/latest_index.json')\r\n        if (response.ok) {\r\n          const data = await response.json()\r\n          this.technicalIndicatorsLastUpdate = new Date(data.generatedAt)\r\n          this.technicalIndicatorsAge = (Date.now() - this.technicalIndicatorsLastUpdate) / (1000 * 60 * 60)\r\n          this.technicalIndicatorsSuccessRate = Math.round((data.successfulSymbols / data.totalSymbols) * 100)\r\n        }\r\n      } catch (error) {\r\n        this.addLog(`è¼‰å…¥æŠ€è¡“æŒ‡æ¨™ç‹€æ…‹å¤±æ•—: ${error.message}`, 'ERROR')\r\n      }\r\n    },\r\n\r\n    async loadMetadataStatus() {\r\n      try {\r\n        // é€™è£¡å¯ä»¥æª¢æŸ¥å…ƒæ•¸æ“šçš„ç‹€æ…‹\r\n        this.metadataLastUpdate = new Date() // æš«æ™‚ä½¿ç”¨ç•¶å‰æ™‚é–“\r\n        this.metadataAge = 0\r\n        this.metadataSymbolCount = 24 // æš«æ™‚ç¡¬ç·¨ç¢¼\r\n      } catch (error) {\r\n        this.addLog(`è¼‰å…¥å…ƒæ•¸æ“šç‹€æ…‹å¤±æ•—: ${error.message}`, 'ERROR')\r\n      }\r\n    },\r\n\r\n    async loadWarmupStatus() {\r\n      try {\r\n        this.warmupInfo = cacheWarmupService.getWarmupStatus()\r\n      } catch (error) {\r\n        this.addLog(`è¼‰å…¥é ç†±ç‹€æ…‹å¤±æ•—: ${error.message}`, 'ERROR')\r\n      }\r\n    },\r\n\r\n    async triggerWarmup() {\r\n      this.loading = true\r\n      try {\r\n        this.addLog('æ‰‹å‹•è§¸ç™¼ç·©å­˜é ç†±', 'INFO')\r\n        await cacheWarmupService.triggerManualWarmup()\r\n        this.addLog('ç·©å­˜é ç†±å®Œæˆ', 'SUCCESS')\r\n        await this.loadWarmupStatus()\r\n      } catch (error) {\r\n        this.addLog(`ç·©å­˜é ç†±å¤±æ•—: ${error.message}`, 'ERROR')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async toggleScheduler() {\r\n      this.loading = true\r\n      try {\r\n        if (this.status.isRunning) {\r\n          autoUpdateScheduler.stop()\r\n          this.addLog('èª¿åº¦å™¨å·²åœæ­¢', 'INFO')\r\n        } else {\r\n          autoUpdateScheduler.start()\r\n          this.addLog('èª¿åº¦å™¨å·²å•Ÿå‹•', 'INFO')\r\n        }\r\n        await this.refreshStatus()\r\n      } catch (error) {\r\n        this.addLog(`åˆ‡æ›èª¿åº¦å™¨å¤±æ•—: ${error.message}`, 'ERROR')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    async triggerUpdate(updateType) {\r\n      this.loading = true\r\n      try {\r\n        this.addLog(`æ‰‹å‹•è§¸ç™¼æ›´æ–°: ${updateType}`, 'INFO')\r\n        await autoUpdateScheduler.triggerManualUpdate(updateType)\r\n        this.addLog(`æ‰‹å‹•æ›´æ–°å®Œæˆ: ${updateType}`, 'SUCCESS')\r\n        await this.refreshStatus()\r\n        \r\n        if (updateType === 'technicalIndicators') {\r\n          await this.loadTechnicalIndicatorsStatus()\r\n        } else if (updateType === 'metadata') {\r\n          await this.loadMetadataStatus()\r\n        }\r\n      } catch (error) {\r\n        this.addLog(`æ‰‹å‹•æ›´æ–°å¤±æ•—: ${error.message}`, 'ERROR')\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    startPeriodicRefresh() {\r\n      this.refreshInterval = setInterval(async () => {\r\n        await this.refreshStatus()\r\n        await this.loadTechnicalIndicatorsStatus()\r\n        await this.loadMetadataStatus()\r\n        await this.loadWarmupStatus()\r\n      }, 30000) // æ¯ 30 ç§’åˆ·æ–°ä¸€æ¬¡\r\n    },\r\n\r\n    addLog(message, level = 'INFO') {\r\n      const log = {\r\n        timestamp: new Date(),\r\n        level,\r\n        message\r\n      }\r\n      this.logs.unshift(log)\r\n      \r\n      // ä¿ç•™æœ€è¿‘ 100 æ¢æ—¥èªŒ\r\n      if (this.logs.length > 100) {\r\n        this.logs = this.logs.slice(0, 100)\r\n      }\r\n    },\r\n\r\n    clearLogs() {\r\n      this.logs = []\r\n      this.addLog('æ—¥èªŒå·²æ¸…é™¤', 'INFO')\r\n    },\r\n\r\n    onConfigChange() {\r\n      this.configChanged = true\r\n    },\r\n\r\n    async saveConfig() {\r\n      try {\r\n        // é€™è£¡å¯ä»¥ä¿å­˜é…ç½®åˆ°æœ¬åœ°å­˜å„²æˆ–ç™¼é€åˆ°æœå‹™å™¨\r\n        localStorage.setItem('autoUpdateConfig', JSON.stringify(this.config))\r\n        this.configChanged = false\r\n        this.addLog('é…ç½®å·²ä¿å­˜', 'SUCCESS')\r\n      } catch (error) {\r\n        this.addLog(`ä¿å­˜é…ç½®å¤±æ•—: ${error.message}`, 'ERROR')\r\n      }\r\n    },\r\n\r\n    formatTime(date) {\r\n      if (!date) return 'N/A'\r\n      return new Date(date).toLocaleString('zh-TW')\r\n    },\r\n\r\n    formatDataAge(ageHours) {\r\n      if (ageHours < 1) return '< 1 å°æ™‚'\r\n      if (ageHours < 24) return `${Math.round(ageHours)} å°æ™‚`\r\n      return `${Math.round(ageHours / 24)} å¤©`\r\n    },\r\n\r\n    getDataAgeClass(ageHours) {\r\n      if (ageHours < 1) return 'text-success'\r\n      if (ageHours < 12) return 'text-warning'\r\n      return 'text-danger'\r\n    },\r\n\r\n    getLogLevelClass(level) {\r\n      return {\r\n        'log-info': level === 'INFO',\r\n        'log-success': level === 'SUCCESS',\r\n        'log-warning': level === 'WARN',\r\n        'log-error': level === 'ERROR'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.auto-update-monitor {\r\n  padding: 1rem;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.monitor-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.monitor-header h2 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  gap: 1rem;\r\n}\r\n\r\n.monitor-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 1.5rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.status-card {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.card-header h3 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  color: #333;\r\n}\r\n\r\n.status-indicator {\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 12px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-success {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-warning {\r\n  background: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.status-error {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.status-info {\r\n  background: #d1ecf1;\r\n  color: #0c5460;\r\n}\r\n\r\n.card-content {\r\n  padding: 1rem;\r\n}\r\n\r\n.status-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.status-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.status-item .label {\r\n  color: #666;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.status-item .value {\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.text-success {\r\n  color: #28a745;\r\n}\r\n\r\n.text-warning {\r\n  color: #ffc107;\r\n}\r\n\r\n.text-danger {\r\n  color: #dc3545;\r\n}\r\n\r\n.card-actions {\r\n  padding: 0 1rem 1rem;\r\n}\r\n\r\n.update-note {\r\n  margin-top: 0.5rem;\r\n  color: #6c757d;\r\n  font-style: italic;\r\n}\r\n\r\n.btn {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-primary {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover:not(:disabled) {\r\n  background: #0056b3;\r\n}\r\n\r\n.btn-secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover:not(:disabled) {\r\n  background: #545b62;\r\n}\r\n\r\n.btn-success {\r\n  background: #28a745;\r\n  color: white;\r\n}\r\n\r\n.btn-success:hover:not(:disabled) {\r\n  background: #1e7e34;\r\n}\r\n\r\n.btn-danger {\r\n  background: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.btn-danger:hover:not(:disabled) {\r\n  background: #c82333;\r\n}\r\n\r\n.btn-warning {\r\n  background: #ffc107;\r\n  color: #212529;\r\n}\r\n\r\n.btn-warning:hover:not(:disabled) {\r\n  background: #e0a800;\r\n}\r\n\r\n.btn-sm {\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.btn-outline {\r\n  background: transparent;\r\n  border: 1px solid #6c757d;\r\n  color: #6c757d;\r\n}\r\n\r\n.btn-outline:hover:not(:disabled) {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.update-logs, .config-panel {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.logs-header, .config-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  background: #f8f9fa;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.logs-header h3, .config-header h3 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  color: #333;\r\n}\r\n\r\n.logs-content {\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.no-logs {\r\n  padding: 2rem;\r\n  text-align: center;\r\n  color: #666;\r\n}\r\n\r\n.log-entries {\r\n  padding: 1rem;\r\n}\r\n\r\n.log-entry {\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding: 0.5rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.log-entry:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.log-time {\r\n  color: #666;\r\n  white-space: nowrap;\r\n  min-width: 150px;\r\n}\r\n\r\n.log-level {\r\n  font-weight: 500;\r\n  min-width: 60px;\r\n}\r\n\r\n.log-message {\r\n  flex: 1;\r\n}\r\n\r\n.log-info .log-level {\r\n  color: #17a2b8;\r\n}\r\n\r\n.log-success .log-level {\r\n  color: #28a745;\r\n}\r\n\r\n.log-warning .log-level {\r\n  color: #ffc107;\r\n}\r\n\r\n.log-error .log-level {\r\n  color: #dc3545;\r\n}\r\n\r\n.config-content {\r\n  padding: 1rem;\r\n}\r\n\r\n.config-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.config-section:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.config-section h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #333;\r\n  font-size: 1rem;\r\n}\r\n\r\n.config-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.config-item label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  color: #333;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.config-item input[type=\"number\"] {\r\n  padding: 0.375rem 0.75rem;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  width: 80px;\r\n}\r\n\r\n.config-item input[type=\"checkbox\"] {\r\n  margin: 0;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .monitor-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 1rem;\r\n  }\r\n\r\n  .header-actions {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .monitor-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .status-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 0.25rem;\r\n  }\r\n\r\n  .log-entry {\r\n    flex-direction: column;\r\n    gap: 0.25rem;\r\n  }\r\n\r\n  .log-time {\r\n    min-width: auto;\r\n  }\r\n\r\n  .config-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"system-manager\">\r\n    <div class=\"manager-header\">\r\n      <h2>Control Panel</h2>\r\n      <p>ç›£æ§å’Œç®¡ç†æŠ•è³‡å„€è¡¨æ¿çš„å„é …ç³»çµ±åŠŸèƒ½</p>\r\n    </div>\r\n\r\n    <!-- ç³»çµ±ç‹€æ…‹ç¸½è¦½ -->\r\n    <div class=\"overview-section\">\r\n      <div class=\"overview-grid\">\r\n        <div class=\"overview-card\" :class=\"{ 'healthy': systemHealth.overall >= 80 }\">\r\n          <div class=\"card-icon\">ğŸ¯</div>\r\n          <div class=\"card-content\">\r\n            <h3>ç³»çµ±å¥åº·åº¦</h3>\r\n            <div class=\"health-score\">{{ systemHealth.overall }}%</div>\r\n            <div class=\"health-status\">{{ getHealthStatus(systemHealth.overall) }}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"overview-card\">\r\n          <div class=\"card-icon\">ğŸ“Š</div>\r\n          <div class=\"card-content\">\r\n            <h3>æ•¸æ“šæºç‹€æ…‹</h3>\r\n            <div class=\"data-sources\">\r\n              <span class=\"source-item\" :class=\"{ 'active': dataSourceStatus?.precomputed?.available }\">\r\n                é è¨ˆç®— {{ dataSourceStatus?.precomputed?.available ? 'âœ…' : 'âŒ' }}\r\n              </span>\r\n              <span class=\"source-item active\">å¿«å– âœ…</span>\r\n              <span class=\"source-item active\">å¯¦æ™‚ âœ…</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"overview-card\">\r\n          <div class=\"card-icon\">ğŸ”„</div>\r\n          <div class=\"card-content\">\r\n            <h3>è‡ªå‹•æ›´æ–°</h3>\r\n            <div class=\"update-status\" :class=\"schedulerStatusClass\">\r\n              {{ status.isRunning ? 'é‹è¡Œä¸­' : 'å·²åœæ­¢' }}\r\n            </div>\r\n            <div class=\"update-info\">\r\n              æ´»å‹•ä»»å‹™: {{ status.activeIntervals?.length || 0 }} å€‹\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"overview-card\">\r\n          <div class=\"card-icon\">âš¡</div>\r\n          <div class=\"card-content\">\r\n            <h3>æ•ˆèƒ½ç‹€æ…‹</h3>\r\n            <div class=\"performance-score\">{{ performanceScore }}%</div>\r\n            <div class=\"performance-info\">\r\n              å¿«å–å‘½ä¸­ç‡: {{ cacheHitRate }}%\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- è©³ç´°ç‹€æ…‹å€åŸŸ -->\r\n    <div class=\"details-section\">\r\n      <div class=\"details-grid\">\r\n        <!-- æ•¸æ“šæºè©³æƒ… -->\r\n        <div class=\"detail-card\">\r\n          <div class=\"card-header\">\r\n            <h3>ğŸ“Š æ•¸æ“šæºç®¡ç†</h3>\r\n            <button @click=\"refreshDataSources\" class=\"btn btn-sm\" :disabled=\"loading\">\r\n              {{ loading ? 'ğŸ”„' : 'ğŸ”„' }} åˆ·æ–°\r\n            </button>\r\n          </div>\r\n          \r\n          <div class=\"data-source-list\">\r\n            <!-- é è¨ˆç®—æ•¸æ“š -->\r\n            <div class=\"source-item\" :class=\"{ 'available': dataSourceStatus?.precomputed?.available }\">\r\n              <div class=\"source-header\">\r\n                <h4>é è¨ˆç®—æ•¸æ“š</h4>\r\n                <span class=\"status-badge\" :class=\"dataSourceStatus?.precomputed?.available ? 'success' : 'error'\">\r\n                  {{ dataSourceStatus?.precomputed?.available ? 'å¯ç”¨' : 'ä¸å¯ç”¨' }}\r\n                </span>\r\n              </div>\r\n              <div v-if=\"dataSourceStatus?.precomputed?.available\" class=\"source-details\">\r\n                <div class=\"detail-row\">\r\n                  <span>è‚¡ç¥¨æ•¸é‡:</span>\r\n                  <span>{{ dataSourceStatus.precomputed.symbols?.length || 0 }}</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>æˆåŠŸ/å¤±æ•—:</span>\r\n                  <span>{{ dataSourceStatus.precomputed.successful || 0 }}/{{ dataSourceStatus.precomputed.failed || 0 }}</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>æœ€å¾Œæ›´æ–°:</span>\r\n                  <span>{{ formatTime(dataSourceStatus.precomputed.lastUpdate) }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- å¿«å–ç‹€æ…‹ -->\r\n            <div class=\"source-item available\">\r\n              <div class=\"source-header\">\r\n                <h4>å¿«å–ç³»çµ±</h4>\r\n                <span class=\"status-badge success\">æ­£å¸¸</span>\r\n              </div>\r\n              <div class=\"source-details\">\r\n                <div class=\"detail-row\">\r\n                  <span>å…§å­˜å¿«å–:</span>\r\n                  <span>{{ dataSourceStatus?.cache?.memoryCache || 0 }} é …ç›®</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>æœ¬åœ°å­˜å„²:</span>\r\n                  <span>{{ dataSourceStatus?.cache?.localStorageCache || 0 }} é …ç›®</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>å‘½ä¸­ç‡:</span>\r\n                  <span>{{ cacheHitRate }}%</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- è‡ªå‹•æ›´æ–°è©³æƒ… -->\r\n        <div class=\"detail-card\">\r\n          <div class=\"card-header\">\r\n            <h3>ğŸ”„ è‡ªå‹•æ›´æ–°ç®¡ç†</h3>\r\n            <button @click=\"toggleScheduler\" :class=\"schedulerButtonClass\" :disabled=\"loading\">\r\n              {{ schedulerButtonText }}\r\n            </button>\r\n          </div>\r\n          \r\n          <div class=\"update-details\">\r\n            <div class=\"update-item\">\r\n              <div class=\"update-header\">\r\n                <h4>æŠ€è¡“æŒ‡æ¨™</h4>\r\n                <div class=\"status-indicator\" :class=\"technicalIndicatorsStatusClass\">\r\n                  {{ technicalIndicatorsStatus }}\r\n                </div>\r\n              </div>\r\n              <div class=\"update-info\">\r\n                <div class=\"detail-row\">\r\n                  <span>æœ€å¾Œæ›´æ–°:</span>\r\n                  <span>{{ formatTime(technicalIndicatorsLastUpdate) }}</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>æ•¸æ“šå¹´é½¡:</span>\r\n                  <span :class=\"getDataAgeClass(technicalIndicatorsAge)\">\r\n                    {{ formatDataAge(technicalIndicatorsAge) }}\r\n                  </span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>æˆåŠŸç‡:</span>\r\n                  <span>{{ technicalIndicatorsSuccessRate }}%</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"update-actions\">\r\n                <button @click=\"triggerUpdate('technicalIndicators')\" class=\"btn btn-sm btn-primary\" :disabled=\"loading\">\r\n                  æ¸…é™¤å¿«å–\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"update-item\">\r\n              <div class=\"update-header\">\r\n                <h4>å…ƒæ•¸æ“š</h4>\r\n                <div class=\"status-indicator\" :class=\"metadataStatusClass\">\r\n                  {{ metadataStatus }}\r\n                </div>\r\n              </div>\r\n              <div class=\"update-info\">\r\n                <div class=\"detail-row\">\r\n                  <span>æœ€å¾Œæ›´æ–°:</span>\r\n                  <span>{{ formatTime(metadataLastUpdate) }}</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span>æ•¸æ“šå¹´é½¡:</span>\r\n                  <span :class=\"getDataAgeClass(metadataAge)\">\r\n                    {{ formatDataAge(metadataAge) }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div class=\"update-actions\">\r\n                <button @click=\"triggerUpdate('metadata')\" class=\"btn btn-sm btn-primary\" :disabled=\"loading\">\r\n                  æ¸…é™¤å¿«å–\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- æ§åˆ¶é¢æ¿ -->\r\n    <div class=\"control-section\">\r\n      <div class=\"control-header\">\r\n        <h3>ğŸ›ï¸ ç³»çµ±æ§åˆ¶</h3>\r\n      </div>\r\n      \r\n      <div class=\"control-grid\">\r\n        <button @click=\"refreshAllStatus\" class=\"control-btn primary\" :disabled=\"loading\">\r\n          <span class=\"btn-icon\">ğŸ”„</span>\r\n          {{ loading ? 'åˆ·æ–°ä¸­...' : 'å…¨é¢åˆ·æ–°' }}\r\n        </button>\r\n        \r\n        <button @click=\"clearAllCaches\" class=\"control-btn warning\">\r\n          <span class=\"btn-icon\">ğŸ—‘ï¸</span>\r\n          æ¸…é™¤æ‰€æœ‰å¿«å–\r\n        </button>\r\n        \r\n        <button @click=\"testSystemHealth\" class=\"control-btn info\" :disabled=\"testing\">\r\n          <span class=\"btn-icon\">ğŸ”</span>\r\n          {{ testing ? 'æ¸¬è©¦ä¸­...' : 'ç³»çµ±å¥æª¢' }}\r\n        </button>\r\n        \r\n        <button @click=\"showAdvanced = !showAdvanced\" class=\"control-btn secondary\">\r\n          <span class=\"btn-icon\">âš™ï¸</span>\r\n          {{ showAdvanced ? 'éš±è—é€²éš' : 'é€²éšè¨­å®š' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- é€²éšè¨­å®š -->\r\n    <div v-if=\"showAdvanced\" class=\"advanced-section\">\r\n      <div class=\"advanced-header\">\r\n        <h3>âš™ï¸ é€²éšè¨­å®š</h3>\r\n      </div>\r\n      \r\n      <div class=\"settings-grid\">\r\n        <div class=\"setting-group\">\r\n          <h4>æ•¸æ“šæºåå¥½</h4>\r\n          <div class=\"setting-item\">\r\n            <label>\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"preferences.preferPrecomputed\"\r\n                @change=\"updatePreferences\"\r\n              />\r\n              å„ªå…ˆä½¿ç”¨é è¨ˆç®—æ•¸æ“š\r\n            </label>\r\n          </div>\r\n          <div class=\"setting-item\">\r\n            <label>\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"preferences.fallbackToRealtime\"\r\n                @change=\"updatePreferences\"\r\n              />\r\n              å…è¨±å›é€€åˆ°å¯¦æ™‚è¨ˆç®—\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"setting-group\">\r\n          <h4>æ›´æ–°é »ç‡</h4>\r\n          <div class=\"setting-item\">\r\n            <label>æŠ€è¡“æŒ‡æ¨™æ›´æ–°é–“éš” (åˆ†é˜):</label>\r\n            <select v-model=\"preferences.technicalIndicatorsInterval\" @change=\"updatePreferences\">\r\n              <option value=\"5\">5 åˆ†é˜</option>\r\n              <option value=\"15\">15 åˆ†é˜</option>\r\n              <option value=\"30\">30 åˆ†é˜</option>\r\n              <option value=\"60\">1 å°æ™‚</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"setting-item\">\r\n            <label>å…ƒæ•¸æ“šæ›´æ–°é–“éš” (å°æ™‚):</label>\r\n            <select v-model=\"preferences.metadataInterval\" @change=\"updatePreferences\">\r\n              <option value=\"6\">6 å°æ™‚</option>\r\n              <option value=\"12\">12 å°æ™‚</option>\r\n              <option value=\"24\">24 å°æ™‚</option>\r\n              <option value=\"168\">1 é€±</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"setting-group\">\r\n          <h4>æ•ˆèƒ½è¨­å®š</h4>\r\n          <div class=\"setting-item\">\r\n            <label>\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"preferences.enablePerformanceMonitoring\"\r\n                @change=\"updatePreferences\"\r\n              />\r\n              å•Ÿç”¨æ•ˆèƒ½ç›£æ§\r\n            </label>\r\n          </div>\r\n          <div class=\"setting-item\">\r\n            <label>\r\n              <input \r\n                type=\"checkbox\" \r\n                v-model=\"preferences.enableCacheWarmup\"\r\n                @change=\"updatePreferences\"\r\n              />\r\n              å•Ÿç”¨å¿«å–é ç†±\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ç³»çµ±æ—¥èªŒ -->\r\n    <div class=\"logs-section\">\r\n      <div class=\"logs-header\">\r\n        <h3>ğŸ“‹ ç³»çµ±æ—¥èªŒ</h3>\r\n        <button @click=\"clearLogs\" class=\"btn btn-sm\">æ¸…é™¤æ—¥èªŒ</button>\r\n      </div>\r\n      <div class=\"logs-container\">\r\n        <div v-for=\"log in systemLogs.slice(-10)\" :key=\"log.id\" class=\"log-entry\" :class=\"log.level\">\r\n          <span class=\"log-time\">{{ formatTime(log.timestamp) }}</span>\r\n          <span class=\"log-level\">{{ log.level.toUpperCase() }}</span>\r\n          <span class=\"log-message\">{{ log.message }}</span>\r\n        </div>\r\n        <div v-if=\"systemLogs.length === 0\" class=\"no-logs\">\r\n          æš«ç„¡ç³»çµ±æ—¥èªŒ\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { hybridTechnicalIndicatorsAPI } from '@/utils/hybridTechnicalIndicatorsApi.js'\r\nimport { autoUpdateScheduler } from '@/utils/autoUpdateScheduler.js'\r\nimport { performanceCache } from '@/utils/performanceCache.js'\r\nimport { performanceMonitor } from '@/utils/performanceMonitor.js'\r\n\r\nexport default {\r\n  name: 'SystemManager',\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      testing: false,\r\n      showAdvanced: false,\r\n      \r\n      // ç³»çµ±ç‹€æ…‹\r\n      systemHealth: {\r\n        overall: 85,\r\n        dataSource: 90,\r\n        performance: 80,\r\n        updates: 85\r\n      },\r\n      \r\n      // æ•¸æ“šæºç‹€æ…‹\r\n      dataSourceStatus: null,\r\n      \r\n      // è‡ªå‹•æ›´æ–°ç‹€æ…‹\r\n      status: {\r\n        isRunning: false,\r\n        activeIntervals: [],\r\n        nextUpdates: {}\r\n      },\r\n      startTime: null,\r\n      \r\n      // æ•ˆèƒ½æŒ‡æ¨™\r\n      performanceScore: 85,\r\n      cacheHitRate: 78,\r\n      \r\n      // åå¥½è¨­å®š\r\n      preferences: {\r\n        preferPrecomputed: true,\r\n        fallbackToRealtime: true,\r\n        technicalIndicatorsInterval: 30,\r\n        metadataInterval: 24,\r\n        enablePerformanceMonitoring: true,\r\n        enableCacheWarmup: true\r\n      },\r\n      \r\n      // ç³»çµ±æ—¥èªŒ\r\n      systemLogs: [],\r\n      logIdCounter: 0\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    schedulerStatus() {\r\n      return this.status.isRunning ? 'é‹è¡Œä¸­' : 'å·²åœæ­¢'\r\n    },\r\n    \r\n    schedulerStatusClass() {\r\n      return this.status.isRunning ? 'success' : 'error'\r\n    },\r\n    \r\n    schedulerButtonClass() {\r\n      return this.status.isRunning ? 'btn btn-warning' : 'btn btn-success'\r\n    },\r\n    \r\n    schedulerButtonText() {\r\n      return this.status.isRunning ? 'åœæ­¢èª¿åº¦å™¨' : 'å•Ÿå‹•èª¿åº¦å™¨'\r\n    },\r\n    \r\n    technicalIndicatorsStatus() {\r\n      return 'æ­£å¸¸'\r\n    },\r\n    \r\n    technicalIndicatorsStatusClass() {\r\n      return 'success'\r\n    },\r\n    \r\n    technicalIndicatorsLastUpdate() {\r\n      return new Date().toISOString()\r\n    },\r\n    \r\n    technicalIndicatorsAge() {\r\n      return 30 * 60 * 1000 // 30 minutes\r\n    },\r\n    \r\n    technicalIndicatorsSuccessRate() {\r\n      return 95\r\n    },\r\n    \r\n    metadataStatus() {\r\n      return 'æ­£å¸¸'\r\n    },\r\n    \r\n    metadataStatusClass() {\r\n      return 'success'\r\n    },\r\n    \r\n    metadataLastUpdate() {\r\n      return new Date().toISOString()\r\n    },\r\n    \r\n    metadataAge() {\r\n      return 2 * 60 * 60 * 1000 // 2 hours\r\n    }\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.initializeSystem()\r\n    this.startStatusUpdates()\r\n  },\r\n  \r\n  methods: {\r\n    async initializeSystem() {\r\n      this.addLog('info', 'ç³»çµ±ç®¡ç†é¢æ¿åˆå§‹åŒ–ä¸­...')\r\n      \r\n      try {\r\n        await this.refreshAllStatus()\r\n        this.addLog('info', 'ç³»çµ±ç®¡ç†é¢æ¿åˆå§‹åŒ–å®Œæˆ')\r\n      } catch (error) {\r\n        this.addLog('error', `ç³»çµ±åˆå§‹åŒ–å¤±æ•—: ${error.message}`)\r\n      }\r\n    },\r\n    \r\n    async refreshAllStatus() {\r\n      this.loading = true\r\n      this.addLog('info', 'é–‹å§‹å…¨é¢ç‹€æ…‹åˆ·æ–°...')\r\n      \r\n      try {\r\n        // åˆ·æ–°æ•¸æ“šæºç‹€æ…‹\r\n        await this.refreshDataSources()\r\n        \r\n        // åˆ·æ–°è‡ªå‹•æ›´æ–°ç‹€æ…‹\r\n        this.refreshSchedulerStatus()\r\n        \r\n        // æ›´æ–°æ•ˆèƒ½æŒ‡æ¨™\r\n        this.updatePerformanceMetrics()\r\n        \r\n        // æ›´æ–°ç³»çµ±å¥åº·åº¦\r\n        this.updateSystemHealth()\r\n        \r\n        this.addLog('info', 'å…¨é¢ç‹€æ…‹åˆ·æ–°å®Œæˆ')\r\n      } catch (error) {\r\n        this.addLog('error', `ç‹€æ…‹åˆ·æ–°å¤±æ•—: ${error.message}`)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async refreshDataSources() {\r\n      try {\r\n        this.dataSourceStatus = await hybridTechnicalIndicatorsAPI.getDataSourceStatus()\r\n        this.addLog('info', 'æ•¸æ“šæºç‹€æ…‹å·²æ›´æ–°')\r\n      } catch (error) {\r\n        this.addLog('error', `æ•¸æ“šæºç‹€æ…‹æ›´æ–°å¤±æ•—: ${error.message}`)\r\n      }\r\n    },\r\n    \r\n    refreshSchedulerStatus() {\r\n      this.status = autoUpdateScheduler.getStatus()\r\n      this.startTime = autoUpdateScheduler.getStartTime()\r\n      this.addLog('info', 'èª¿åº¦å™¨ç‹€æ…‹å·²æ›´æ–°')\r\n    },\r\n    \r\n    updatePerformanceMetrics() {\r\n      const cacheStats = performanceCache.getStats()\r\n      const performanceMetrics = performanceMonitor.getAllMetrics()\r\n      \r\n      // æ¨¡æ“¬æ•ˆèƒ½åˆ†æ•¸è¨ˆç®—\r\n      this.performanceScore = Math.min(100, 60 + (cacheStats.totalSize * 2))\r\n      this.cacheHitRate = Math.min(100, 50 + (cacheStats.totalSize * 3))\r\n      \r\n      this.addLog('info', 'æ•ˆèƒ½æŒ‡æ¨™å·²æ›´æ–°')\r\n    },\r\n    \r\n    updateSystemHealth() {\r\n      const dataSourceHealth = this.dataSourceStatus?.precomputed?.available ? 100 : 70\r\n      const schedulerHealth = this.status.isRunning ? 100 : 50\r\n      \r\n      this.systemHealth = {\r\n        overall: Math.round((dataSourceHealth + this.performanceScore + schedulerHealth) / 3),\r\n        dataSource: dataSourceHealth,\r\n        performance: this.performanceScore,\r\n        updates: schedulerHealth\r\n      }\r\n    },\r\n    \r\n    async toggleScheduler() {\r\n      this.loading = true\r\n      \r\n      try {\r\n        if (this.status.isRunning) {\r\n          autoUpdateScheduler.stop()\r\n          this.addLog('info', 'è‡ªå‹•æ›´æ–°èª¿åº¦å™¨å·²åœæ­¢')\r\n        } else {\r\n          autoUpdateScheduler.start()\r\n          this.addLog('info', 'è‡ªå‹•æ›´æ–°èª¿åº¦å™¨å·²å•Ÿå‹•')\r\n        }\r\n        \r\n        this.refreshSchedulerStatus()\r\n      } catch (error) {\r\n        this.addLog('error', `èª¿åº¦å™¨æ“ä½œå¤±æ•—: ${error.message}`)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async triggerUpdate(type) {\r\n      this.loading = true\r\n      this.addLog('info', `è§¸ç™¼ ${type} æ›´æ–°...`)\r\n      \r\n      try {\r\n        if (type === 'technicalIndicators') {\r\n          // æ¸…é™¤æŠ€è¡“æŒ‡æ¨™å¿«å–\r\n          performanceCache.clear()\r\n          this.addLog('info', 'æŠ€è¡“æŒ‡æ¨™å¿«å–å·²æ¸…é™¤')\r\n        } else if (type === 'metadata') {\r\n          // æ¸…é™¤å…ƒæ•¸æ“šå¿«å–\r\n          performanceCache.clear()\r\n          this.addLog('info', 'å…ƒæ•¸æ“šå¿«å–å·²æ¸…é™¤')\r\n        }\r\n        \r\n        await this.refreshDataSources()\r\n      } catch (error) {\r\n        this.addLog('error', `${type} æ›´æ–°å¤±æ•—: ${error.message}`)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async clearAllCaches() {\r\n      if (!confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰å¿«å–å—ï¼Ÿé€™å°‡å½±éŸ¿ç³»çµ±æ•ˆèƒ½ã€‚')) {\r\n        return\r\n      }\r\n      \r\n      this.loading = true\r\n      this.addLog('warning', 'é–‹å§‹æ¸…é™¤æ‰€æœ‰å¿«å–...')\r\n      \r\n      try {\r\n        performanceCache.clear()\r\n        localStorage.clear()\r\n        sessionStorage.clear()\r\n        \r\n        this.addLog('info', 'æ‰€æœ‰å¿«å–å·²æ¸…é™¤')\r\n        await this.refreshAllStatus()\r\n      } catch (error) {\r\n        this.addLog('error', `æ¸…é™¤å¿«å–å¤±æ•—: ${error.message}`)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async testSystemHealth() {\r\n      this.testing = true\r\n      this.addLog('info', 'é–‹å§‹ç³»çµ±å¥åº·æª¢æŸ¥...')\r\n      \r\n      try {\r\n        // æ¨¡æ“¬ç³»çµ±å¥åº·æª¢æŸ¥\r\n        await new Promise(resolve => setTimeout(resolve, 2000))\r\n        \r\n        const healthScore = Math.floor(Math.random() * 20) + 80 // 80-100\r\n        this.systemHealth.overall = healthScore\r\n        \r\n        this.addLog('info', `ç³»çµ±å¥åº·æª¢æŸ¥å®Œæˆï¼Œå¾—åˆ†: ${healthScore}%`)\r\n      } catch (error) {\r\n        this.addLog('error', `ç³»çµ±å¥åº·æª¢æŸ¥å¤±æ•—: ${error.message}`)\r\n      } finally {\r\n        this.testing = false\r\n      }\r\n    },\r\n    \r\n    updatePreferences() {\r\n      // æ›´æ–°æ··åˆ API åå¥½è¨­å®š\r\n      hybridTechnicalIndicatorsAPI.setPreferences({\r\n        preferPrecomputed: this.preferences.preferPrecomputed,\r\n        fallbackToRealtime: this.preferences.fallbackToRealtime\r\n      })\r\n      \r\n      this.addLog('info', 'ç³»çµ±åå¥½è¨­å®šå·²æ›´æ–°')\r\n    },\r\n    \r\n    startStatusUpdates() {\r\n      // æ¯ 30 ç§’æ›´æ–°ä¸€æ¬¡ç‹€æ…‹\r\n      setInterval(() => {\r\n        if (!this.loading) {\r\n          this.refreshSchedulerStatus()\r\n          this.updatePerformanceMetrics()\r\n          this.updateSystemHealth()\r\n        }\r\n      }, 30000)\r\n    },\r\n    \r\n    // å·¥å…·æ–¹æ³•\r\n    getHealthStatus(score) {\r\n      if (score >= 90) return 'å„ªç§€'\r\n      if (score >= 80) return 'è‰¯å¥½'\r\n      if (score >= 70) return 'ä¸€èˆ¬'\r\n      return 'éœ€è¦é—œæ³¨'\r\n    },\r\n    \r\n    getDataAgeClass(age) {\r\n      const hours = age / (1000 * 60 * 60)\r\n      if (hours < 1) return 'fresh'\r\n      if (hours < 6) return 'stale'\r\n      return 'very-stale'\r\n    },\r\n    \r\n    formatTime(timestamp) {\r\n      if (!timestamp) return 'N/A'\r\n      return new Date(timestamp).toLocaleString('zh-TW')\r\n    },\r\n    \r\n    formatDataAge(age) {\r\n      if (!age) return 'N/A'\r\n      \r\n      const minutes = Math.floor(age / (1000 * 60))\r\n      const hours = Math.floor(minutes / 60)\r\n      const days = Math.floor(hours / 24)\r\n      \r\n      if (days > 0) return `${days} å¤©å‰`\r\n      if (hours > 0) return `${hours} å°æ™‚å‰`\r\n      return `${minutes} åˆ†é˜å‰`\r\n    },\r\n    \r\n    addLog(level, message) {\r\n      this.systemLogs.push({\r\n        id: ++this.logIdCounter,\r\n        timestamp: new Date().toISOString(),\r\n        level,\r\n        message\r\n      })\r\n      \r\n      // ä¿æŒæœ€å¤š 100 æ¢æ—¥èªŒ\r\n      if (this.systemLogs.length > 100) {\r\n        this.systemLogs = this.systemLogs.slice(-100)\r\n      }\r\n    },\r\n    \r\n    clearLogs() {\r\n      this.systemLogs = []\r\n      this.logIdCounter = 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.system-manager {\r\n  padding: 1rem;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.manager-header {\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.manager-header h2 {\r\n  color: #333;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.manager-header p {\r\n  color: #666;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n/* ç¸½è¦½å€åŸŸ */\r\n.overview-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.overview-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.overview-card {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.overview-card.healthy {\r\n  border-color: #28a745;\r\n  background: linear-gradient(135deg, #f8fff9 0%, #ffffff 100%);\r\n}\r\n\r\n.card-icon {\r\n  font-size: 2rem;\r\n  opacity: 0.8;\r\n}\r\n\r\n.card-content h3 {\r\n  margin: 0 0 0.5rem 0;\r\n  color: #333;\r\n  font-size: 1rem;\r\n}\r\n\r\n.health-score, .performance-score {\r\n  font-size: 1.8rem;\r\n  font-weight: bold;\r\n  color: #28a745;\r\n}\r\n\r\n.health-status, .performance-info, .update-info {\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n}\r\n\r\n.data-sources {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.source-item {\r\n  font-size: 0.9rem;\r\n  padding: 0.25rem 0;\r\n}\r\n\r\n.source-item.active {\r\n  color: #28a745;\r\n}\r\n\r\n.update-status {\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.update-status.success {\r\n  color: #28a745;\r\n}\r\n\r\n.update-status.error {\r\n  color: #dc3545;\r\n}\r\n\r\n/* è©³ç´°å€åŸŸ */\r\n.details-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.details-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.detail-card {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.card-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.data-source-list, .update-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.source-item, .update-item {\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 6px;\r\n  padding: 1rem;\r\n}\r\n\r\n.source-item.available, .update-item {\r\n  border-color: #d4edda;\r\n  background: #f8fff9;\r\n}\r\n\r\n.source-header, .update-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.source-header h4, .update-header h4 {\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  color: #333;\r\n}\r\n\r\n.status-badge {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.status-badge.success {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-badge.error {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.status-indicator {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 4px;\r\n  font-size: 0.8rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.status-indicator.success {\r\n  background: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.source-details, .update-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.detail-row span:first-child {\r\n  color: #666;\r\n}\r\n\r\n.detail-row span:last-child {\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.detail-row .fresh {\r\n  color: #28a745;\r\n}\r\n\r\n.detail-row .stale {\r\n  color: #ffc107;\r\n}\r\n\r\n.detail-row .very-stale {\r\n  color: #dc3545;\r\n}\r\n\r\n.update-actions {\r\n  margin-top: 0.75rem;\r\n  display: flex;\r\n  gap: 0.5rem;\r\n}\r\n\r\n/* æ§åˆ¶é¢æ¿ */\r\n.control-section {\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.control-header {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.control-header h3 {\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.control-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 1rem;\r\n}\r\n\r\n.control-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.control-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.control-btn.primary {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.control-btn.primary:hover:not(:disabled) {\r\n  background: #0056b3;\r\n}\r\n\r\n.control-btn.warning {\r\n  background: #ffc107;\r\n  color: #212529;\r\n}\r\n\r\n.control-btn.warning:hover:not(:disabled) {\r\n  background: #e0a800;\r\n}\r\n\r\n.control-btn.info {\r\n  background: #17a2b8;\r\n  color: white;\r\n}\r\n\r\n.control-btn.info:hover:not(:disabled) {\r\n  background: #138496;\r\n}\r\n\r\n.control-btn.secondary {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.control-btn.secondary:hover:not(:disabled) {\r\n  background: #545b62;\r\n}\r\n\r\n.btn-icon {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n/* é€²éšè¨­å®š */\r\n.advanced-section {\r\n  margin-bottom: 2rem;\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.advanced-header {\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.advanced-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.settings-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.setting-group {\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 6px;\r\n  padding: 1rem;\r\n}\r\n\r\n.setting-group h4 {\r\n  margin: 0 0 1rem 0;\r\n  color: #333;\r\n  font-size: 1rem;\r\n}\r\n\r\n.setting-item {\r\n  margin-bottom: 0.75rem;\r\n}\r\n\r\n.setting-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.setting-item label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  font-size: 0.9rem;\r\n  color: #333;\r\n  cursor: pointer;\r\n}\r\n\r\n.setting-item select {\r\n  padding: 0.25rem 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* ç³»çµ±æ—¥èªŒ */\r\n.logs-section {\r\n  background: white;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 8px;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.logs-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  padding-bottom: 0.75rem;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.logs-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.logs-container {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  background: #f8f9fa;\r\n  border-radius: 4px;\r\n  padding: 1rem;\r\n}\r\n\r\n.log-entry {\r\n  display: flex;\r\n  gap: 1rem;\r\n  padding: 0.5rem 0;\r\n  border-bottom: 1px solid #e9ecef;\r\n  font-size: 0.9rem;\r\n  font-family: 'Courier New', monospace;\r\n}\r\n\r\n.log-entry:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.log-entry.info {\r\n  color: #17a2b8;\r\n}\r\n\r\n.log-entry.warning {\r\n  color: #ffc107;\r\n}\r\n\r\n.log-entry.error {\r\n  color: #dc3545;\r\n}\r\n\r\n.log-time {\r\n  color: #666;\r\n  white-space: nowrap;\r\n}\r\n\r\n.log-level {\r\n  font-weight: bold;\r\n  min-width: 60px;\r\n}\r\n\r\n.log-message {\r\n  flex: 1;\r\n}\r\n\r\n.no-logs {\r\n  text-align: center;\r\n  color: #666;\r\n  font-style: italic;\r\n}\r\n\r\n/* æŒ‰éˆ•æ¨£å¼ */\r\n.btn {\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.btn-sm {\r\n  padding: 0.25rem 0.75rem;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.btn-primary {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover:not(:disabled) {\r\n  background: #0056b3;\r\n}\r\n\r\n.btn-success {\r\n  background: #28a745;\r\n  color: white;\r\n}\r\n\r\n.btn-success:hover:not(:disabled) {\r\n  background: #1e7e34;\r\n}\r\n\r\n.btn-warning {\r\n  background: #ffc107;\r\n  color: #212529;\r\n}\r\n\r\n.btn-warning:hover:not(:disabled) {\r\n  background: #e0a800;\r\n}\r\n\r\n/* éŸ¿æ‡‰å¼è¨­è¨ˆ */\r\n@media (max-width: 768px) {\r\n  .overview-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .details-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .control-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .settings-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n</style>","import { createApp } from 'vue'\nimport { createRouter, createWebHashHistory } from 'vue-router'\nimport App from './App.vue'\nimport './style.css'\n\n// Import performance utilities\nimport '@/utils/widgetPreloader'\n\n// Import and initialize auto-update scheduler\nimport { autoUpdateScheduler } from '@/utils/autoUpdateScheduler.js'\n\n// Import cache warmup service\nimport { cacheWarmupService } from '@/utils/cacheWarmupService.js'\n\n// Import pages\nimport MarketDashboard from './pages/MarketDashboard.vue'\nimport StockDashboard from './pages/StockDashboard.vue'\nimport Settings from './pages/Settings.vue'\nimport StockDetail from './pages/StockDetail.vue'\nimport TopStoriesTest from './pages/TopStoriesTest.vue'\nimport StockMarketInsightTest from './pages/StockMarketInsightTest.vue'\nimport YahooFinanceTest from './pages/YahooFinanceTest.vue'\nimport TechnicalIndicatorsValidation from './pages/TechnicalIndicatorsValidation.vue'\nimport MetadataServiceTest from './pages/MetadataServiceTest.vue'\nimport ProxyDiagnosticTest from './pages/ProxyDiagnosticTest.vue'\n\nimport TechnicalIndicatorsManager from './pages/TechnicalIndicatorsManager.vue'\nimport AutoUpdateMonitor from './pages/AutoUpdateMonitor.vue'\nimport SystemManager from './pages/SystemManager.vue'\n\n// Router configuration\nconst routes = [\n  { path: '/', redirect: '/market-overview' },\n  { path: '/market-overview', component: MarketDashboard, name: 'market-overview' },\n  { path: '/stock-overview', component: StockDashboard, name: 'stock-overview' },\n  { path: '/stock-overview/symbols/:symbol', component: StockDetail, name: 'stock-detail' },\n  // Legacy redirects for backward compatibility\n  { path: '/market-dashboard', redirect: '/market-overview' },\n  { path: '/stock-dashboard', redirect: '/stock-overview' },\n  { path: '/stock-dashboard/symbols/:symbol', redirect: to => `/stock-overview/symbols/${to.params.symbol}` },\n  { path: '/settings', component: Settings, name: 'settings' },\n  // Development/Testing pages\n  { path: '/top-stories-test', component: TopStoriesTest, name: 'top-stories-test' },\n  { path: '/stock-market-insight-test', component: StockMarketInsightTest, name: 'stock-market-insight-test' },\n  { path: '/yahoo-finance-test', component: YahooFinanceTest, name: 'yahoo-finance-test' },\n  { path: '/proxy-diagnostic', component: ProxyDiagnosticTest, name: 'proxy-diagnostic' },\n  { path: '/technical-validation', component: TechnicalIndicatorsValidation, name: 'technical-validation' },\n  { path: '/metadata-test', component: MetadataServiceTest, name: 'metadata-test' },\n  { path: '/technical-manager', component: TechnicalIndicatorsManager, name: 'technical-manager' },\n  { path: '/auto-update-monitor', component: AutoUpdateMonitor, name: 'auto-update-monitor' },\n  { path: '/system-manager', component: SystemManager, name: 'system-manager' },\n  // Catch-all route for 404s\n  { path: '/:pathMatch(.*)*', redirect: '/market-overview' }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nconst app = createApp(App)\napp.use(router)\napp.mount('#app')\n\n// Initialize auto-update scheduler after app is mounted\n// Delay startup to avoid interfering with initial page load\nsetTimeout(() => {\n  console.log('ğŸš€ Initializing auto-update scheduler...')\n  autoUpdateScheduler.start()\n}, 10000) // Start after 10 seconds\n\n// Initialize cache warmup service\n// Start earlier to preload data before users navigate\nsetTimeout(() => {\n  console.log('ğŸ”¥ Initializing cache warmup service...')\n  cacheWarmupService.start()\n}, 5000) // Start after 5 seconds\n"],"names":["_sfc_main","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_component_router_link","_cache","_renderSlot","_ctx","Layout","_component_Layout","_component_router_view","WidgetPreloader","scriptUrl","promise","resolve","reject","link","scripts","script","error","widgetPreloader","PerformanceMonitor$1","label","startTime","duration","asyncFunction","result","metrics","report","sum","time","slowest","name","fastest","warnings","totalTime","performanceMonitor","PerformanceMonitor","PERFORMANCE_LABELS","PerformanceCache","key","data","ttl","cacheItem","item","stored","memorySize","localStorageSize","dataLoader","items","results","promises","loader","performanceCache","CACHE_KEYS","CACHE_TTL","AutoUpdateScheduler","intervalId","technicalInterval","metadataInterval","cleanupInterval","response","index","lastUpdate","ageHours","cachedMetadata","keysToRemove","i","stats","statsAfter","updateType","originalError","config","retryError","now","estTime","hour","date","utc","autoUpdateScheduler","PrecomputedIndicatorsAPI","symbol","cacheKey","cached","today","todayUrl","indexResponse","latestUrl","indicators","computedAt","computed","diffMs","diffHours","diffMinutes","value","precomputedIndicatorsAPI","TechnicalIndicatorsCache","cachedData","parsed","cacheData","technicalIndicatorsCache","EPSILON","clampRSI","rsi","rollingMax","values","period","max","j","rollingMin","min","sma","count","ema","alpha","init","wilderSmoothing","calculateMA","close","calculateSMA","calculateIchimokuBaseLine","high","low","hh","ll","calculateIchimokuConversionLine","calculateIchimokuLaggingSpan","shift","calculateVWMA","volume","numerator","denominator","calculateRSI","delta","gain","loss","avgGain","avgLoss","avgGainValue","avgLossValue","calculateADX","length","upMove","downMove","plusDM","minusDM","tr","tr1","tr2","tr3","smTR","smPlusDM","smMinusDM","plusDI","minusDI","dx","smTRValue","smPlusDMValue","smMinusDMValue","diSum","adx","adxResult","calculateMACD","fastPeriod","slowPeriod","signalPeriod","emaFast","emaSlow","macd","signal","histogram","calculateAllIndicators","ohlcv","open","macdResult","YahooFinanceAPI","freshData","proxyIndex","proxy","targetUrl","url","quotes","rawData","coreResults","getLastValue","series","createIndicatorResult","signalThresholds","lastValue","currentPrice","adxValue","macdValue","signalValue","histValue","p","_a","_b","longCacheTimeout","summaryProfile","price","keyStats","stockInfo","defaultInfo","nasdaqSymbols","nyseSymbols","marketCap","apiCacheStats","yahooFinanceAPI","HybridTechnicalIndicatorsAPI","precomputedData","realtimeData","errorMessage","originalFallback","originalPrecomputed","symbols","maxConcurrent","batches","batch","batchPromises","status","precomputedIndex","options","hybridTechnicalIndicatorsAPI","CacheWarmupService","shouldWarmup","currentVersion","lastWarmupVersion","lastWarmupTime","timeSinceLastWarmup","cacheStats","attempt","batchSize","cachedCount","successful","r","failed","ms","newConfig","cacheWarmupService","rootMargins","entries","entry","delay","err","container","existingContent","widgetContainer","widgetContent","timeout","loadTime","$options","$props","$data","_toDisplayString","args","val","angle","_hoisted_9","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_normalizeClass","_hoisted_8","_hoisted_11","_normalizeStyle","totalBytes","used","hasDebug","originalLog","message","widgetMatch","lazyMatch","widget","path","blob","a","_hoisted_10","_Fragment","_renderList","LazyTradingViewWidget","ZeiiermanFearGreedGauge","MarketOverviewSkeleton","_component_MarketOverviewSkeleton","_component_LazyTradingViewWidget","_component_ZeiiermanFearGreedGauge","_component_PerformanceMonitor","DateTimeString","z.string","StaleLevel","z.enum","MarketState","PriceType","BriefSource","QualityFlag","ConfidenceLevel","z.union","z.literal","SystemStatusType","JobStatusType","HoldingDataSchema","z.object","z.number","UserSettingsSchema","z.boolean","ImportResultSchema","DiagnosticsDataSchema","DailySnapshotSchema","z.lazy","DailySnapshotSchemaImpl","QuotesSnapshotSchema","QuotesSnapshotSchemaImpl","MetadataSnapshotSchema","MetadataSnapshotSchemaImpl","CacheDataSchema","UserStateSchema","z.array","z.record","QuoteItemSchema","QuotesMetadataSchema","NewsItemSchema","SymbolDataSchema","MarketsIndicatorSchema","MacroDataSchema","GenerationMetadataSchema","SymbolMetadataSchema","ConfidenceDistributionSchema","RefreshMetadataSchema","JobStatusSchema","FreshnessInfoSchema","QuotaInfoSchema","StorageInfoSchema","ApiLimitInfoSchema","SystemHealthSchema","DegradationStatusSchema","SystemStatusSchema","ValidationRulesSchema","MarketsIndicatorDefinitionSchema","ScrapingSettingsSchema","validateData","schema","z.ZodError","validateUserState","validateQuotesSnapshot","validateDailySnapshot","validateMetadataSnapshot","validateSystemStatus","validateImportData","allowedKeys","unknownKeys","_StateManager","migrated","validation","state","jsonData","dryRun","finalValidation","saveResult","newState","currentState","newWatchlist","avgCost","shares","newHoldings","settings","cache","_c","_d","test","__publicField","StateManager","DataFetcher","baseUrl","cacheBustingEnabled","statusResult","cacheBuster","userState","targetDate","asOfString","asOf","ageMinutes","getBaseUrl","hostname","pathname","dataFetcher","SymbolsConfigManager","cacheMinutes","envSymbols","universeSymbols","sheetsSymbols","staticSymbols","s","firstRow","startIndex","row","symbolsConfig","WidgetCache","widgetType","exchange","firstKey","widgetCache","WidgetThrottle","loadFunction","task","widgetThrottle","loadPromise","bullishSignals","bearishSignals","indicatorValue","diff","diffPercent","sign","_f","_e","_h","_g","_j","_i","_l","_k","_n","_m","_p","_o","_r","_q","_t","_s","_v","_u","_x","_w","_z","_y","_B","_A","_D","_C","_F","_E","_H","_G","_J","_I","_L","_K","_N","_M","_P","_O","_R","_Q","_T","_S","_V","_U","_X","_W","_Z","_Y","_$","__","_ba","_aa","_da","_ca","_fa","_ea","_ha","_ga","_ja","_ia","_la","_ka","_na","_ma","_pa","_oa","_ra","_qa","_ta","_sa","_va","_ua","_xa","_wa","_za","_ya","_Ba","_Aa","_Da","_Ca","FastTradingViewWidget","TechnicalIndicators","industry","_component_FastTradingViewWidget","_component_TechnicalIndicators","sector","DynamicMetadataService","metadata","fallbackData","batchResults","metadataMap","sectorGrouping","distribution","confidence","array","dynamicMetadataService","MetadataService","useDynamic","symbolMetadata","m","defaultMetadata","metadataService","StockCard","SkeletonLoader","groups","quote","symbolDailyData","d","sortedGroups","b","exchangeA","exchangeB","industryA","industryB","missingSymbols","quotesResult","dailyResult","allQuotes","q","dataToCache","timeString","_component_SkeletonLoader","group","_createTextVNode","stock","_createBlock","_component_StockCard","StockOverview","_component_StockOverview","corsProxies","timestamp","diffDays","text","maxLength","event","article","$event","TradingViewCompanyProfile","TradingViewFundamentalData","StockNews","StockDetailSkeleton","_component_StockDetailSkeleton","_component_StockNews","_component_TradingViewFundamentalData","_component_TradingViewCompanyProfile","TradingViewTopStories","TopStoriesSkeleton","_component_TopStoriesSkeleton","_component_TradingViewTopStories","dailyConfig","weeklyConfig","StockMarketInsight","StockMarketInsightSkeleton","_component_StockMarketInsightSkeleton","_component_StockMarketInsight","dateString","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_53","_withKeys","_hoisted_42","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_54","comp","working","current","testUrl","closes","chartUrl","chartResponse","dataPoints","quoteUrl","quoteResponse","profile","testSymbols","maxAge","bytes","k","sizes","_vModelCheckbox","total","level","log","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_66","_hoisted_70","_hoisted_71","_hoisted_77","dataSourceHealth","schedulerHealth","type","healthScore","score","age","hours","minutes","days","_vModelSelect","routes","MarketDashboard","StockDashboard","StockDetail","to","Settings","TopStoriesTest","StockMarketInsightTest","YahooFinanceTest","ProxyDiagnosticTest","TechnicalIndicatorsValidation","MetadataServiceTest","TechnicalIndicatorsManager","AutoUpdateMonitor","SystemManager","router","createRouter","createWebHashHistory","app","createApp","App"],"mappings":"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"}